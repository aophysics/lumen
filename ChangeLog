Changelog
=========

%%version%% (unreleased)
------------------------

- Readme for Aiida added. [marini]

- Merged with master. [marini]

- Merge branch 'master' into devel-daddy. [marini]

- Merge branch 'master' of ssh://qeforge.qe-forge.org/gitroot/yambo-git.
  [marini]

- Removed debug lines from yambo_versions_update.tcsh Signed-off-by:
  Davide Sangalli <davide.sangalli@gmail.com> [Davide Sangalli]

- Fixed BUG in PARALLEL allocation of SC using collisions. [marini]

- MODIFIED *  doc/README.git bse/K_IP.F bse/K_diago_compute_epsilon.F
  bse/K_diago_driver.F bse/K_diago_hermitian_residuals.F
  bse/PL_diago_residual.F interface/INIT.F interface/INIT_load.F
  modules/mod_BS.F modules/mod_PHOTOLUM.F modules/mod_interfaces.F
  modules/mod_vec_operate.F modules/mod_wrapper.F. [marini]

  Additions:
  - Added BS photon direction needed by the PL.

  Changes:
  - Fixed the coding of the PL signal following the latest notes.

  Patch sent by: Andrea

- MODIFIED *  configure bse/K.F bse/K_IP.F bse/K_diago_compute_epsilon.F
  bse/K_diago_driver.F bse/K_diago_hermitian_residuals.F
  bse/K_inversion.F bse/K_output_file.F bse/K_stored_in_a_BIG_matrix.F
  bse/PL_diago_residual.F io/io_elemental.F modules/.objects
  modules/mod_KERR.F modules/mod_PHOTOLUM.F modules/mod_X.F
  modules/mod_X_output.F modules/mod_interfaces.F pol_function/X_em1.F.
  [marini]

  NEW *  modules/mod_PHOTOLUM.F

  Bugs:
  - Revision number format correted in io_elemental.
  - Evaluation of em1s when header io fails forced.

  Additions:
  - BS PL coded using diagonalization. Sign and pre-factor to be checked.

  Patch sent by: Andrea

- Merged with master. [marini]

- More files to be ignored Signed-off-by: Davide Sangalli
  <davide.sangalli@gmail.com> [Davide Sangalli]

- Merge branch 'git_version' [Davide Sangalli]

- Merged with master Signed-off-by: Davide Sangalli
  <davide.sangalli@gmail.com> [Davide Sangalli]

- Fixed compilation issue Signed-off-by: Davide Sangalli
  <davide.sangalli@gmail.com> [Davide Sangalli]

- Merged with master Signed-off-by: Davide Sangalli
  <davide.sangalli@gmail.com> [Davide Sangalli]

- Fixed revision/hash number update Signed-off-by: Davide Sangalli
  <davide.sangalli@gmail.com> [Davide Sangalli]

- Git_config.sh script created Signed-off-by: Davide Sangalli
  <davide.sangalli@gmail.com> [Davide Sangalli]

- Git pull from master Signed-off-by: Davide Sangalli
  <davide.sangalli@gmail.com> [Davide Sangalli]

- Git attributes set to theirs Signed-off-by: Davide Sangalli
  <davide.sangalli@gmail.com> [Davide Sangalli]

- Erased commit.msg file Signed-off-by: Davide Sangalli
  <davide.sangalli@gmail.com> [Davide Sangalli]

- Fixed merging left-over conflicts. [marini]

- Added selected file changes imported from devel-daddy. [marini]

- MODIFIED *  bse/.objects bse/K_Haydock.F bse/K_Transitions_setup.F
  bse/K_diago_driver.F bse/K_diago_hermitian_residuals.F
  bse/K_diago_kerr_residual.F bse/K_diago_non_hermitian_residuals.F
  bse/K_diago_perturbative.F bse/K_inversion.F bse/K_inversion_Lo.F
  bse/K_output_file.F bse/K_stored_in_a_BIG_matrix.F
  bse/PL_diago_residual.F common/eval_G_minus_G.F interface/INIT.F
  interface/INIT_load.F modules/mod_BS.F modules/mod_KERR.F
  pol_function/X_GreenF_convoluted.F ypp/init/INIT_load_ypp.F
  ypp/real_time/RT_X_response.F ypp/real_time/RT_density.F. [marini]

  NEW *  bse/PL_diago_residual.F

  Bugs:
  - Fixed few minor bugs in PL coding.

  Additions:
  - Added routine to code PL residuals after the BS diagonalization.

  Changes:
  -  BSS_rhoq0 -> BSS_residuals

  Patch sent by: Andrea

- Merged with master. [marini]

- GIT Ignore conf file added. [marini]

- Conf files removed. [marini]

- Added version.in to merge rule. [marini]

- Clean-Up (2) [marini]

- CLEAN-UP the mess. [marini]

- First commit with 2 directories and 2 files. [marini]

- Forgotten files. [marini]

- CFG files clean-up and some more info in README. [marini]

- Fixed wrong merging changes. [marini]

- Merge with master. [marini]

- MODIFIED *  collisions/COLLISIONS_HXC.F modules/mod_collision.F
  modules/mod_collision.F. [Davide Sangalli]

  NEW *

  DELETED *

  Bugs:
  - [yambo_rt] Number of g-vectors in the Hartree collisions correclty updated
               in report / ndb files if fft_check_size lowers it
  Additions:
  -
  Changes:
  - [yambo] fixed compilation issues with gfortran 4.4.7

  Patch sent by: Davide

- MODIFIED *  driver/ypp.h bse/K_Haydock.F bse/K_IP.F
  bse/K_Transitions_setup.F bse/K_diago_driver.F bse/K_inversion.F
  bse/K_kerr_IP.F bse/K_output_file.F bse/K_solvers.F interface/INIT.F
  interface/INIT_barriers.F modules/mod_BS.F modules/mod_X.F
  modules/mod_X_output.F pol_function/DIPOLE_driver.F
  pol_function/DIPOLE_project_along_q.F qp/QED_Radiative_Lifetimes.F
  ypp/init/INIT_load_ypp.F. [Andrea Marini]

  DELETED *  .gitattributes

  Bugs:
  - Addes some missing logicals to interface files.

  Additions:
  - IP PhotoLum coded. To be tested.

  Changes:
  - K_ouput_file arguments made more user-fiendly.
  - %fp => %f_RES in mod_BS.

  Patch sent by: Andrea

- MODIFIED *  config/configure.ac configure include/version.inc. [Davide
  Sangalli]

  NEW *

  DELETED *

  Bugs:
  -
  Additions:
  -
  Changes:
  - fixed revision number and hash

  Patch sent by: Davide

  diff --git a/config/configure.ac b/config/configure.ac
  index 26551cf..2198326 100644
  --- a/config/configure.ac
  +++ b/config/configure.ac
  @@ -21,12 +21,12 @@
   # Software Foundation, Inc., 59 Temple Place - Suite 330,Boston,
   # MA 02111-1307, USA or visit http://www.gnu.org/copyleft/gpl.txt.
   #
  -AC_INIT(Yambo, 4.0.2 r.3451 h.3bfefb5 , yambo@yambo-code.org)
  +AC_INIT(Yambo, 4.0.2 r.13577 h.8a39442 , yambo@yambo-code.org)
   SVERSION="4"
   SPATCHLEVEL="0"
   SSUBLEVEL="2"
  -SREVISION="13577"
  -SHASH="3bfefb5"
  +SREVISION="13578"
  +SHASH="8a39442"
   AC_SUBST(SVERSION)
   AC_SUBST(SPATCHLEVEL)
   AC_SUBST(SSUBLEVEL)
  diff --git a/configure b/configure
  index 8de35ed..fbaba44 100755
  --- a/configure
  +++ b/configure
  @@ -1,6 +1,6 @@
   #! /bin/sh
   # Guess values for system-dependent variables and create Makefiles.
  -# Generated by GNU Autoconf 2.69 for Yambo 4.0.2 r.3451 h.3bfefb5 .
  +# Generated by GNU Autoconf 2.69 for Yambo 4.0.2 r.13577 h.8a39442 .
   #
   # Report bugs to <yambo@yambo-code.org>.
   #
  @@ -580,8 +580,8 @@ MAKEFLAGS=
   # Identity of this package.
   PACKAGE_NAME='Yambo'
   PACKAGE_TARNAME='yambo'
  -PACKAGE_VERSION='4.0.2 r.3451 h.3bfefb5 '
  -PACKAGE_STRING='Yambo 4.0.2 r.3451 h.3bfefb5 '
  +PACKAGE_VERSION='4.0.2 r.13577 h.8a39442 '
  +PACKAGE_STRING='Yambo 4.0.2 r.13577 h.8a39442 '
   PACKAGE_BUGREPORT='yambo@yambo-code.org'
   PACKAGE_URL=''

  @@ -1402,7 +1402,7 @@ if test "$ac_init_help" = "long"; then
     # Omit some internal or obsolete options to make the list less imposing.
     # This message is too long to be a string in the A/UX 3.1 sh.
     cat <<_ACEOF
  -\`configure' configures Yambo 4.0.2 r.3451 h.3bfefb5  to adapt to many kinds of systems.
  +\`configure' configures Yambo 4.0.2 r.13577 h.8a39442  to adapt to many kinds of systems.

   Usage: $0 [OPTION]... [VAR=VALUE]...

  @@ -1467,7 +1467,7 @@ fi

   if test -n "$ac_init_help"; then
     case $ac_init_help in
  -     short | recursive ) echo "Configuration of Yambo 4.0.2 r.3451 h.3bfefb5 :";;
  +     short | recursive ) echo "Configuration of Yambo 4.0.2 r.13577 h.8a39442 :";;
      esac
     cat <<\_ACEOF

  @@ -1619,7 +1619,7 @@ fi
   test -n "$ac_init_help" && exit $ac_status
   if $ac_init_version; then
     cat <<\_ACEOF
  -Yambo configure 4.0.2 r.3451 h.3bfefb5
  +Yambo configure 4.0.2 r.13577 h.8a39442
   generated by GNU Autoconf 2.69

   Copyright (C) 2012 Free Software Foundation, Inc.
  @@ -2195,7 +2195,7 @@ cat >config.log <<_ACEOF
   This file contains any messages produced by compilers while
   running configure, to aid debugging if configure makes a mistake.

  -It was created by Yambo $as_me 4.0.2 r.3451 h.3bfefb5 , which was
  +It was created by Yambo $as_me 4.0.2 r.13577 h.8a39442 , which was
   generated by GNU Autoconf 2.69.  Invocation command line was

     $ $0 $@
  @@ -2546,8 +2546,8 @@ ac_compiler_gnu=$ac_cv_c_compiler_gnu
   SVERSION="4"
   SPATCHLEVEL="0"
   SSUBLEVEL="2"
  -SREVISION="13577"
  -SHASH="3bfefb5"
  +SREVISION="13578"
  +SHASH="8a39442"

  @@ -11827,7 +11827,7 @@ cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1
   # report actual input values of CONFIG_FILES etc. instead of their
   # values after options handling.
   ac_log="
  -This file was extended by Yambo $as_me 4.0.2 r.3451 h.3bfefb5 , which was
  +This file was extended by Yambo $as_me 4.0.2 r.13577 h.8a39442 , which was
   generated by GNU Autoconf 2.69.  Invocation command line was

     CONFIG_FILES    = $CONFIG_FILES
  @@ -11889,7 +11889,7 @@ _ACEOF
   cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
   ac_cs_config="`$as_echo "$ac_configure_args" | sed 's/^ //; s/[\\""\`\$]/\\\\&/g'`"
   ac_cs_version="\\
  -Yambo config.status 4.0.2 r.3451 h.3bfefb5
  +Yambo config.status 4.0.2 r.13577 h.8a39442
   configured by $0, generated by GNU Autoconf 2.69,
     with options \\"\$ac_cs_config\\"

  diff --git a/include/version.inc b/include/version.inc
  index 5f14dfc..2194406 100644
  --- a/include/version.inc
  +++ b/include/version.inc
  @@ -1,6 +1,6 @@
   code_version(1)=4
   code_version(2)=0
   code_version(3)=2
  -code_hash='8a39442'
  -code_revision=13577
  +code_hash='3e88bb6'
  +code_revision=13578
   code_GPL_revision=76

- Trying to protect version.in and configure. [Andrea Marini]

- MODIFIED *  config/Makefile.in driver/yambo.h driver/yambo_driver.F
  include/version.inc bse/K_IP.F bse/K_driver.F bse/K_kerr_IP.F
  interface/INIT.F interface/INIT_barriers.F interface/INIT_load.F
  modules/mod_BS.F modules/mod_X.F modules/mod_X_output.F
  modules/mod_drivers.F modules/mod_logo.F
  pol_function/DIPOLE_transverse.F qp/QED_Radiative_Lifetimes.F. [Andrea
  Marini]

  Additions:
  - Added basic PL dipoles. Working on IP part.

  Patch sent by: Andrea

- MODIFIED *  parallel/PARALLEL_index.F. [Davide Sangalli]

  NEW *

  DELETED *

  Bugs:
  -
  Additions:
  -
  Changes:
  - [yambo] in some CPUs have empty workload yambo just sends a warning message.
            With this strategy all tests in the test-suite are overcome also
            with boundary ckecks enabled at compilation time.
            !
            Before this commit for example test 03_QP_COHSEX in Al_bulk fails if code
            is run with mpirun -np 4. To check in the future if having empty workload
            gives any problem at all.

  Patch sent by: davide

  diff --git a/src/parallel/PARALLEL_index.F b/src/parallel/PARALLEL_index.F
  index 0264d22..c38e45f 100644
  --- a/src/parallel/PARALLEL_index.F
  +++ b/src/parallel/PARALLEL_index.F
  @@ -204,8 +204,9 @@ subroutine PARALLEL_index(px,uplim,low_range,COMM,CONSECUTIVE,ORDERED,NO_EMPTIES
    if (present(NO_EMPTIES)) NO_EMPTIES_=NO_EMPTIES
    !
    if (px%n_of_elements(myid_loop+1)==0) then
  -   if (.not.NO_EMPTIES_) call warning(" Empty workload for CPU "//trim(intc(myid+1)))
  -   if (     NO_EMPTIES_) call   error(" Empty workload for CPU "//trim(intc(myid+1)))
  +   call warning(" Empty workload for CPU "//trim(intc(myid+1)))
  +   !if (.not.NO_EMPTIES_) call warning(" Empty workload for CPU "//trim(intc(myid+1)))
  +   !if (     NO_EMPTIES_) call   error(" Empty workload for CPU "//trim(intc(myid+1)))
    endif
    !
   end subroutine

- MODIFIED *  bse/K_Transitions_setup.F. [Davide Sangalli]

  NEW *

  DELETED *

  Bugs:
  -
  Additions:
  -
  Changes:
  - new error message add in case BSE size is zero.

  Patch sent by: Davide

- MODIFIED *  bse/K.F bse/K_Transitions_setup.F modules/mod_logo.F
  parallel/PARALLEL_global_indexes.F parallel/PARALLEL_index.F. [Davide
  Sangalli]

  NEW *

  DELETED *

  Bugs:
  - [yambo] Fix of bug #266
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide

- Removed forgotten stop. [Andrea Marini]

- MODIFIED *  doc/README.git sbin/make_message.pl.in. [Andrea Marini]

  DELETED *  doc/OpenMp/Parallel_Programming_in_Fortran_95_using_OpenMP.pdf doc/OpenMp/Using.OpenMP.Portable.Shared.Memory.Parallel.Programming.Oct.2007.pdf doc/OpenMp/child_chain_test_builder.F doc/OpenMp/cineca.txt doc/OpenMp/overlap.F doc/OpenMp/projection.F

  Changes:
  - Removed OpenMp docs and relevant .pdf moved on the google docs
  - Added deleted files to the make_message.pl
  - Replaced svn info with git info in README.git

  Patch sent by: Andrea

- MODIFIED *  sbin/make_message.pl.in bse/K_Transitions_setup.F
  parallel/PARALLEL_global_indexes.F. [Andrea Marini]

  Changes:
  - Added explicit stop in the case of null transitions spaces in the BSE.
  - Removed initial comment line in make_message.pl so to make it more readable for the git log.

  Patch sent by: Andrea

- Clean-up. [Andrea Marini]

- Version 4.0.2. [Andrea Marini]

  MODIFIED *  collisions/COLLISIONS_eval.F interface/INIT_load.F io/io_DIPOLES.F io/io_SC_components.F io/io_fragment.F qp_control/QP_apply.F real_time_control/RT_databases_IO.F real_time_control/RT_interpolation.F real_time_control/RT_observables.F sc/XC_switch.F ypp/electrons/electrons_dos.F ypp/excitons/excitons_WFs.F ypp/excitons/excitons_amplitudes.F ypp/init/INIT_ypp.F

  NEW *

  Changes:
  - Merged with devel-andrea

  Patch sent by: Andrea

- Version 4.0.2. [Andrea Marini]

  MODIFIED *  config/configure.ac configure include/version.inc bse/K.F collisions/COLLISIONS_HXC.F io/io_BS.F io/io_SC_components.F modules/mod_IO.F modules/mod_xc_functionals.F real_time_common/RT_start_and_restart.F tddft/TDDFT_ALDA_G_space.F tddft/TDDFT_ALDA_R_space.F tddft/TDDFT_BSK_disk_2_FXC.F wf_and_fft/fft_check_size.F xc_functionals/XC_libxc_driver.F ypp/real_time/RT_IO_J_and_P.F ypp/real_time/RT_density.F

  NEW *  driver/editor.h

  Changes:
  - Merged with master
  - make_message.pl modified to work with git. Only "modified" files seen. Need to add more
  -
  Patch sent by: Andrea

- Merged with trunk plus tiny clean-up of unused variables. [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5734 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5707 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with master. [Davide Sangalli]

- Version 4.0.2. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc bse/K.F collisions/COLLISIONS_HXC.F io/io_BS.F io/io_RT_components.F io/io_SC_components.F modules/mod_IO.F modules/mod_xc_functionals.F real_time_common/RT_start_and_restart.F real_time_control/RT_databases_IO.F tddft/TDDFT_ALDA_G_space.F tddft/TDDFT_ALDA_R_space.F tddft/TDDFT_BSK_disk_2_FXC.F wf_and_fft/fft_check_size.F xc_functionals/XC_libxc_driver.F ypp/real_time/RT_IO_J_and_P.F ypp/real_time/RT_density.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - merged with devel-davide (last commit in the svn repo before witching to git):
  1) fixed io_RT of G_lesser
  2) HXC collisions extended to include also TDDFT collisions
  3) TDDFT_ALDA_R_space and TDDFT_ALDA_G_space extended to the n_spin>1 case

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5739 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc bse/K.F collisions/COLLISIONS_HXC.F wf_and_fft/.objects +

  Bugs:
  -
  Additions:
  -
  Changes:
  - merged with devel-davide:
    New Hartree collisions implementation made faster.
    New subroutine fft_check_size created common to K.F and COLLISIONS_HXC.
    Check on fft_size is now more consistent than in previous runs

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5732 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  . config/Makefile.in config/configure.ac configure driver/yambo.h driver/yambo_driver.F driver/ypp.h driver/ypp_driver.F include/version.inc bse/K_exchange_collisions.F collisions/.objects collisions/COLLISIONS_Fock.F + collisions/COLLISIONS_NEQ_GW_static.F collisions/COLLISIONS_alloc_and_free.F + + collisions/COLLISIONS_eval.F collisions/COLLISIONS_linearize_and_IO.F collisions/COLLISIONS_load.F collisions/COLLISIONS_sex.F common/OCCUPATIONS_Gaps.F common/pol_fit.F interface/INIT.F interface/INIT_QP_ctl_load.F interface/INIT_load.F io/io_COLLISIONS.F io/io_DIPOLES.F io/io_RT_components.F io/io_SC_components.F io/io_fragment.F io/io_out_of_date.F io/variables_RT.F io/variables_SC.F modules/SET_defaults.F modules/mod_IO.F modules/mod_QP.F modules/mod_QP_CTL.F modules/mod_RT_control.F modules/mod_RT_interfaces.F modules/mod_SC.F modules/mod_X.F modules/mod_collision.F modules/mod_drivers.F modules/mod_fields.F modules/mod_global_XC.F modules/mod_interfaces.F modules/mod_real_time.F parallel/PARALLEL_global_indexes.F pol_function/.objects pol_function/DIPOLE_driver.F + qp/ELPH_Sigma_c.F qp/XCo_driver.F qp_control/.objects qp_control/QP_apply.F qp_control/QP_apply_DB_interpolation.F qp_control/QP_apply_global_stretch.F + qp_control/QP_fit_DB_values.F + qp_control/QP_load_DB.F qp_control/QP_merge_DBs.F real_time_common/.objects real_time_common/RT_BGR.F real_time_common/RT_Collision.F real_time_common/RT_driver.F real_time_common/RT_initialize.F real_time_common/RT_manual_excitation.F real_time_common/RT_relaxation.F real_time_common/RT_start_and_restart.F real_time_control/RT_apply.F real_time_control/RT_average_operator.F real_time_control/RT_carriers_object.F real_time_control/RT_current_AND_polarization.F real_time_control/RT_databases_IO.F real_time_control/RT_interpolation.F real_time_control/RT_k_grid.F real_time_control/RT_observables.F real_time_control/RT_output.F real_time_el-ph/RT_ELPH_initialize.F real_time_lifetimes/RT_Coulomb_relaxation.F real_time_lifetimes/RT_Lifetimes_evaluation_plan.F real_time_lifetimes/RT_impose_zero_dE_and_dN.F real_time_propagation/RT_time_step_update.F sc/SC_WF_and_dipole_dimensions.F sc/SC_add_XC.F sc/SC_driver.F sc/SC_start_and_restart.F sc/XC_switch.F setup/QP_state_table_setup.F wf_and_fft/scatter_Gamp.F xc_functionals/.objects xc_functionals/el_density_and_current.F xc_functionals/el_density_matrix.F + xc_functionals/el_magnetization.F xc_functionals/el_magnetization_matrix.F ypp/electrons/electrons_dos.F ypp/electrons/electrons_driver.F ypp/elph/.objects ypp/excitons/excitons_WFs.F ypp/excitons/excitons_amplitudes.F ypp/init/.objects ypp/init/INIT_load_ypp.F ypp/init/INIT_ypp.F + + + + ypp/plotting/plot_gnuplot.F ypp/plotting/plot_xcrysden.F ypp/real_time/.objects + ypp/real_time/RT_IO_J_and_P.F ypp/real_time/RT_IO_J_and_P_paths.F + + ypp/real_time/RT_driver.F + ypp/real_time/RT_occ_bands_interpolation.F ypp/real_time/RT_occupations_driver.F +

  Bugs:
  - [yambo_rt] Fixed restart
  Additions:
  -
  Changes:
  - Huge merge with devel-davide:
    1) [yambo_rt] collisions generalized to contain also Hartree term and merged with Fock and SEX collisions.
       New collisions are named (HXC_collisions)
       This allows to run NEQ simulation without allocating the WFs
       The NEQ simulation are much faster, however the generation of the collisions takes longer time
    2) [ypp_rt] NEQ carriers DBs can be geneated and then given in input to yambo_rt NEQ simulations
       or also to NEQ-COHSEX / NEQ-BSE calculations
    3) [yambo_sc] New collisions (HXC_collisions) used to compute COHSEX (together with also new COH_collisions)
       needed for the COH part. Code to be tested
    4) [yambo_rt && ypp_rt] SAVE_G_history and LOAD_G_history flags can be used to create movies
       of the density
    5) [yambo] Lifetimes are now fited with a constant term, a term proportional to the DOS,
       and finally a quadratic term.
    6) [yambo] Defined DIP_spin (to be renamed DIP_pauli) which can be usd to compute the spin magnetization
       on the fly during yambo_rt simulations without the need of the WFs.
    7) [yambo_rt && yambo_sc] New variable HXC_Potential (replaces Potential) is used to control both
       the Hartree and the XC approximations for both SC and RT runs
    8) [ypp_rt] runlevels reorganized
    9) [ypp] YPP_SET_defaults created, mod_YPP split into mod_YPP, mod_YPP_ELPG, mod_YPP_real_time
   10) [yambo_rt] I/O reorganized.

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5723 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bz_ops/k_the_nearest.F

  Bugs:
  - [yambo] fixed bug in k_the_nearest which was preventing the soubroutine from
            working properly if used with the double_grid
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5705 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/Makefile.in config/configure.ac configure include/version.inc modules/mod_real_time.F

  Bugs:
  - [ypp_rt] fixed compilation issue due to dependency of ypp_rt on ypp_ph
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5697 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/Makefile.in config/configure.ac configure driver/ypp_driver.F include/version.inc ypp/electrons/electrons_bands.F ypp/electrons/electrons_driver.F ypp/elph/ELPH_databases.F ypp/elph/ELPH_eliashberg_dos.F ypp/elph/ELPH_general_gFsq.F ypp/excitons/excitons_driver.F ypp/init/INIT_load_ypp.F ypp/init/INIT_ypp.F ypp/modules/.objects ypp/modules/YPP_SET_defaults.F ypp/modules/mod_YPP.F ypp/modules/mod_YPP_ELPH.F ypp/modules/mod_YPP_real_time.F ypp/modules/mod_interpolate.F ypp/qp/QP_DBs_merge.F ypp/real_time/RT_1D_Fourier_Transform.F ypp/real_time/RT_IO_J_and_P.F ypp/real_time/RT_IO_J_and_P_paths.F ypp/real_time/RT_X_LRR_real_field.F ypp/real_time/RT_X_effective.F ypp/real_time/RT_X_inversion.F ypp/real_time/RT_X_qssin.F ypp/real_time/RT_coefficients_Fourier.F ypp/real_time/RT_coefficients_Inversion.F ypp/real_time/RT_damp_it.F ypp/real_time/RT_driver.F ypp/real_time/RT_dump_and_write_JP.F ypp/real_time/RT_occ_2D_dos_plot.F ypp/real_time/RT_occ_bands_interpolation.F ypp/real_time/RT_occ_energy_plot.F ypp/real_time/RT_occ_time_plot.F ypp/real_time/RT_occupations_driver.F ypp/real_time/RT_split_Polarization.F ypp/real_time/RT_time_configuration_setup.F ypp/real_time/RT_transient_absorption.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [ypp] Preparing merge with devel-davide:
          1) mod_YPP split into mod_YPP, mod_YPP_real_time and mod_YPP_ELPH
          2) INIT_ypp split into INIT_ypp and YPP_SET_defaults

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5696 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc real_time_common/RT_Collision.F real_time_common/RT_driver.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [yambo_rt] output of magnetization restored

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5693 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Andrea Marini]

  *  . config/Makefile.in config/configure.ac configure include/version.inc acfdt/gauss_leg_grid.F bse/K_Haydock.F bse/K_IP.F bse/K_Transitions_setup.F bse/K_diago_compute_epsilon.F bse/K_diago_driver.F bse/K_diago_hermitian_residuals.F bse/K_diago_kerr_residual.F bse/K_diago_non_hermitian_residuals.F bse/K_diago_perturbative.F bse/K_driver.F bse/K_kerr_IP.F bse/K_output_file.F bse/K_stored_in_a_BIG_matrix.F bz_ops/k_map_nearest_by_dir.F collisions/COLLISIONS_compose_sc.F collisions/COLLISIONS_eval.F common/FREQUENCIES_Green_Function.F common/FREQUENCIES_set_reference_point.F common/Fermi_fnc_fit.F common/OCCUPATIONS_Extend.F common/OCCUPATIONS_Fermi.F common/eval_G_minus_G.F communicate/section.F coulomb/rim_spherical_bose.F interface/INIT.F interface/INIT_RT_ctl_load.F interface/INIT_load.F io/io_DIPOLES.F io/io_E_SOC_map.F io/io_KB_pwscf.F io/io_Overlaps.F io/io_RT_components.F io/io_WF.F io/variables_DIPOLES.F io/variables_RT.F io/variables_SC.F modules/SET_defaults.F modules/mod_RT_control.F modules/mod_fields.F modules/mod_memory.F modules/mod_real_time.F parallel/PARALLEL_assign_LIN_ALGEBRA_COMMs.F parallel/PARALLEL_assign_chains_and_COMMs.F parallel/PARALLEL_global_indexes.F parallel/PARALLEL_live_message.F parallel/PARALLEL_minimal_index_from_overlaping.F parallel/PARALLEL_structure.F pol_function/Build_Overlaps_Det_EQ.F pol_function/DIPOLE_build_covariants.F pol_function/DIPOLE_driver.F pol_function/DIPOLE_kb_abinit_comp.F pol_function/DIPOLE_kb_sum.F pol_function/DIPOLE_overlaps.F pol_function/DIPOLE_project_along_q.F pol_function/DIPOLE_rotate.F pol_function/DIPOLE_transverse.F pol_function/O_driver.F pol_function/X_drude.F pol_function/X_os.F qp/ELPH_Hamiltonian.F qp/QP_newton.F qp/XCo_driver.F qp_control/QP_apply.F qp_control/QP_apply_DB_interpolation.F qp_control/QP_apply_global_stretch.F qp_control/QP_load_DB.F real_time_common/RT_Dephasing_Matrix.F real_time_common/RT_Fluence.F real_time_common/RT_apply_field.F real_time_common/RT_driver.F real_time_common/RT_initialize.F real_time_common/RT_relaxation.F real_time_common/RT_start_and_restart.F real_time_control/RT_apply.F real_time_control/RT_databases_IO.F real_time_control/RT_mean_carrier_lifetimes.F real_time_control/RT_output.F real_time_control/RT_update_TIME_CONF_descriptions.F real_time_el-ph/RT_ELPH_out_of_eq_Kernel.F real_time_el-ph/RT_G_retarded_convolution.F real_time_lifetimes/RT_Lifetimes_evaluation_plan.F real_time_propagation/RT_Dephasing_step.F real_time_propagation/RT_Ext_fields.F real_time_propagation/RT_Integrator.F real_time_propagation/RT_MEMORY_index.F real_time_propagation/RT_Scattering_step.F real_time_propagation/RT_apply_RWA.F real_time_propagation/RT_propagate_fields.F real_time_propagation/RT_time_step_update.F sc/MAG_A_phase.F sc/MAG_H_pseudo.F sc/MAG_common_build_A.F sc/MAG_initial_check.F sc/MAG_pseudo_nl.F sc/OEP_ApplySigmaCSX.F sc/OEP_ApplySigmaX.F sc/OEP_Hole.F sc/OEP_Weighted_Density.F sc/OEP_app_inversion.F sc/OEP_driver.F sc/OEP_exact_inversion.F sc/OEP_iterative.F sc/SC_History.F sc/SC_bare_Hamiltonian.F sc/SC_driver.F setup/G_shells_finder.F setup/eval_minus_G.F surf/Dipole_driver_cut.F surf/io_DIPOLES_cut.F wf_and_fft/WF_symm_kpoint.F xc_functionals/XC_potential_driver.F ypp/excitons/excitons_driver.F ypp/init/INIT_load_ypp.F ypp/init/INIT_ypp.F ypp/modules/mod_YPP.F ypp/real_time/.objects ypp/real_time/RT_1D_Fourier_Transform.F ypp/real_time/RT_IO_J_and_P.F ypp/real_time/RT_IO_J_and_P_paths.F ypp/real_time/RT_X_LRR_real_field.F ypp/real_time/RT_X_effective.F ypp/real_time/RT_X_inversion.F ypp/real_time/RT_X_qssin.F ypp/real_time/RT_coefficients_Fourier.F ypp/real_time/RT_damp_it.F ypp/real_time/RT_driver.F ypp/real_time/RT_dump_and_write_JP.F ypp/real_time/RT_initialize.F ypp/real_time/RT_occ_2D_dos_plot.F ypp/real_time/RT_occ_bands_interpolation.F ypp/real_time/RT_occ_energy_plot.F ypp/real_time/RT_occ_time_plot.F ypp/real_time/RT_occupations_driver.F ypp/real_time/RT_split_Polarization.F + ypp/real_time/RT_transient_absorption.F

  *** Merged with devel-andrea ***

  *** All tests/projects (serial & parallel) passed ***

  Bugs:
  =====
  - The number of ext fields in the input were wrongly detected.
  - RESTARTs fixed
  - Removed unused SERIAL option of live_timing. Added a close routine to fix eventual mismatch between done and todo steps

  WORKING ADPTATIVE E-P INTERPOLATION
  YES     -         -   -
  YES     X         -   -
  YES     -         X   -
  YES     -         X   X
  YES     X         X   -
  YES     X         X   X

  Additions:
  ==========
  - Added dT time dependent. Now it is automatically updated during the simulation. It is expected to work in regions without the
    rapid external field variations.
  - As a td dT imposes non uniform time grids all YPP_rt related tools have been extended to use non-uniform time grids.
  - Added descriptions to ypp RT output files (added RT_write_descriptions.F).

  Changes:
  ========
  - RT_driver time loop re-organized in order to be more intuitive.
  - Memory structure of G_lesser re-organized.
    integer  :: i_MEM_now
    integer  :: i_MEM_next
    integer  :: i_MEM_previous
  - File names of RT components changed. Not the time is explicitly present in the file name.
  - it_dyn replaced by NE_i_time (globally)
  - Removed the COM report in RT_databases_IO. All driven by RT_initialize.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5691 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5690 76a4dfbf-5f1f-0410-a543-a0282073b526

- Whole source cleaned-up of unused variables. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5689 76a4dfbf-5f1f-0410-a543-a0282073b526

- Pol_function routine cleaned-up. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5688 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fixed several bugs due to wrong Fields update and calls. [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5687 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Andrea Marini]

  *  config/configure.ac configure include/version.inc io/variables_RT.F real_time_common/RT_initialize.F real_time_common/RT_start_and_restart.F real_time_lifetimes/RT_Lifetimes_evaluation_plan.F real_time_propagation/RT_time_step_update.F

  Bugs:
  - Fixed I/O of dynamical RT_life_interp_times. Now ALL RESTART combinations work.

  WORKING ADPTATIVE E-P INTERPOLATION
  YES     -         -   -
  YES     X         -   -
  YES     -         X   -
  YES     -         X   X
  YES     X         X   -
  YES     X         X   X

  Changes:
  - Imposed RT_life_interp_times to be smaller than the dT update time

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5683 76a4dfbf-5f1f-0410-a543-a0282073b526

- Ooops. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5680 76a4dfbf-5f1f-0410-a543-a0282073b526

- Versions update. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5679 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Andrea Marini]

  *  interface/INIT_load.F io/io_RT_components.F io/variables_RT.F modules/mod_RT_control.F modules/mod_real_time.F real_time_common/RT_initialize.F real_time_common/RT_start_and_restart.F real_time_control/RT_output.F real_time_lifetimes/RT_Lifetimes_evaluation_plan.F real_time_propagation/RT_time_step_update.F

  RESTART status  (tested in serial and w/o e-e)

  WORKING ADPTATIVE E-P INTERPOLATION
  YES     -         -   -
  YES     X         -   -
  YES     -         X   -
  YES     -         X   X
  ?       X         X   -
  NO      X         X   X

  Bugs:
  - In RT_Lifetimes_evaluation_plan.F in RESTART mode.

  Additions:
  - Added components to variables_RT.F to allow the different kind of restarts.
  - Coded RESTART procedures in different routines.

  Changes:
  - io_RT_components.F re-organized.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5678 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug fixed in RT evaluation plan definition after restart. But still
  RESTART with e-p and e-e switched on does not work. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5677 76a4dfbf-5f1f-0410-a543-a0282073b526

- Restart with no adaptative time step fixed and working. [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5676 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Andrea Marini]

  *  config/configure.ac configure include/version.inc io/io_RT_components.F modules/mod_RT_control.F real_time_common/RT_initialize.F real_time_control/RT_apply.F ypp/modules/mod_YPP.F ypp/real_time/.objects ypp/real_time/RT_occupations_driver.F ypp/real_time/RT_time_configuration_setup.F

  Bugs:
  - Wrong use of realch to name RT databases fixed.
  - Bug-fix in TIME_adjust.

  Additions:
  - Coded user-defined Time step with a non uniform Time distribution in ypp_rt.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5675 76a4dfbf-5f1f-0410-a543-a0282073b526

- Removed debug lines. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5674 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Andrea Marini]

  *  config/configure.ac configure include/version.inc modules/mod_RT_control.F modules/mod_real_time.F real_time_common/RT_driver.F real_time_common/RT_initialize.F real_time_common/RT_start_and_restart.F real_time_el-ph/RT_ELPH_out_of_eq_Kernel.F real_time_propagation/RT_time_step_update.F

  Bugs:
  - Bug fixed in memory index of G_lesser used to create the output in the driver cycle.
  - Bug fixed in the order of calls to RT_databases_IO and RT_ouput.

  Additions:
  - Added reference points of time step udpates to avoid consecutive calls.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5673 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Andrea Marini]

  *  config/configure.ac configure include/version.inc io/io_RT_components.F modules/mod_RT_control.F modules/mod_real_time.F real_time_common/RT_driver.F real_time_common/RT_initialize.F real_time_propagation/RT_MEMORY_index.F ypp/real_time/RT_IO_J_and_P.F ypp/real_time/RT_X_LRR_real_field.F ypp/real_time/RT_occ_time_plot.F

  Bugs:
  - Fixed a bug in the RT_do_it routine with time-dependent dT. This bug was causing a jump in the I/O intervals.
  - Fixed wrong definition of J_and_P time cache size when dT is time-dependent.
  - Fixed bug in RT_X_LRR_real_field due to the wrong definitio of a real-time field (still dT related).

  Changes:
  - RT_driver rationalized using a more clear definition of time steps.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5672 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug-fix. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5671 76a4dfbf-5f1f-0410-a543-a0282073b526

- Coded a general Time structure for ypp_rt. Several routines not-
  supported have been switched off. They will be re-activated in case of
  need. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5670 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Andrea Marini]

  *  config/configure.ac configure include/version.inc interface/INIT.F interface/INIT_load.F io/variables_RT.F modules/mod_RT_control.F modules/mod_memory.F modules/mod_real_time.F real_time_common/RT_driver.F real_time_common/RT_initialize.F real_time_control/RT_update_TIME_CONF_descriptions.F real_time_propagation/RT_time_step_update.F ypp/init/INIT_load_ypp.F ypp/init/INIT_ypp.F ypp/modules/mod_YPP.F ypp/real_time/RT_initialize.F ypp/real_time/RT_occ_2D_dos_plot.F ypp/real_time/RT_occ_bands_interpolation.F ypp/real_time/RT_occ_energy_plot.F ypp/real_time/RT_occ_time_plot.F ypp/real_time/RT_occupations_driver.F ypp/real_time/RT_time_configuration_setup.F ypp/real_time/RT_transient_absorption.F

  Additions:
  - dTupdateTresh input field to control the dT update accuracy
  - TIME_adjust function to adapt the TIME to be RT_step compliant

  Changes:
  - OCC_deltaT,OCC_T_range,delta_f moved in mod_YPP

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5666 76a4dfbf-5f1f-0410-a543-a0282073b526

- Small bug in Makefile for interfaces. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5663 76a4dfbf-5f1f-0410-a543-a0282073b526

- Small change. Not it works but still problems in dT I/O definition in
  ypp_rt with the AlAs test. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5661 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Andrea Marini]

  *  config/configure.ac configure include/version.inc interface/INIT.F interface/INIT_load.F io/io_RT_components.F io/variables_RT.F modules/SET_defaults.F modules/mod_RT_control.F modules/mod_real_time.F real_time_common/RT_Dephasing_Matrix.F real_time_common/RT_driver.F real_time_common/RT_initialize.F real_time_common/RT_relaxation.F real_time_control/RT_databases_IO.F real_time_control/RT_update_TIME_CONF_descriptions.F real_time_propagation/RT_Dephasing_step.F real_time_propagation/RT_Scattering_step.F real_time_propagation/RT_apply_RWA.F real_time_propagation/RT_time_step_update.F ypp/real_time/RT_IO_J_and_P.F ypp/real_time/RT_IO_J_and_P_paths.F ypp/real_time/RT_driver.F ypp/real_time/RT_initialize.F ypp/real_time/RT_time_configuration_setup.F

  Bugs:
  - dTupdateJump was not activated in the init.
  - The number of ext fields in the input were wrongly detected.

  Additions:
  - Added RT_is_dynamically_dephased and RT_is_statically_dephased logical.
  - Added time size of J cache. When dT is dinamically updated it cannot be used.
  - I/O times updated dynamically together with dT. Now also forced to be power of 2 of RT_dyn_step.

  Changes:
  - File names of RT components changed. Not the time is explicitly present in the file name.
  - Evaluation time points removed. At the moment they are useless.
  - RT_Scattering_step and RT_initialize heavily cleaned-up. Dunno if I introduced bugs in this way. But
    the source had unchomprensible statements.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5659 76a4dfbf-5f1f-0410-a543-a0282073b526

- Moved definition of YPP_RT Time configuration (J,P and Carriers) in a
  common routine. Still problems with allocation and I/O of RT_IO_t Time
  steps. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5650 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Andrea Marini]

  *  config/configure.ac configure include/version.inc io/io_RT_components.F real_time_common/RT_driver.F real_time_control/RT_databases_IO.F real_time_control/RT_mean_carrier_lifetimes.F ypp/real_time/RT_IO_J_and_P.F ypp/real_time/RT_driver.F

  Bugs:
  - Fixed by in J_and_P cache filling

  Additions:
  - Added EVALUATION and I/O times definition and I/O

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5649 76a4dfbf-5f1f-0410-a543-a0282073b526

- Started deep clean-up of unused variables. Added inner structure of RT
  I/O time and steps. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5648 76a4dfbf-5f1f-0410-a543-a0282073b526

- IO times and intervals moved in a dedicated type. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5646 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K_diago_compute_epsilon.F bse/K_diago_driver.F io/io_BSS_diago.F modules/mod_BS.F modules/mod_interfaces.F ypp/excitons/excitons_driver.F ypp/excitons/excitons_sort_and_report.F ypp/modules/mod_YPP.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [yambo & ypp] If perturbative SOC is used,
                  ypp -e s prints the SOC corrections to the BS_E energies

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5686 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc real_time_lifetimes/RT_impose_zero_dE_and_dN.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [yambo_rt] RT_impose always in double precision

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5681 76a4dfbf-5f1f-0410-a543-a0282073b526

- Compilation of ypp_magnetic on BGQ/XLF fixed. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5667 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. Almost all tests passed. Only few in
  parallel cycle failed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5643 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5642 76a4dfbf-5f1f-0410-a543-a0282073b526

- Removed unused SERIAL option of live_timing. Added a close routine to
  fix eventual mismatch between done and todo steps. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5641 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Andrea Marini]

  *  config/configure.ac configure include/version.inc io/variables_RT.F io/variables_SC.F modules/mod_real_time.F real_time_control/RT_apply.F real_time_control/RT_carriers_object.F ypp/real_time/.objects ypp/real_time/RT_driver.F ypp/real_time/RT_occ_energy_plot.F ypp/real_time/RT_occ_time_plot.F ypp/real_time/RT_occupations_driver.F ypp/real_time/RT_write_descriptions.F

  Bugs:
  - RT%GAMMA_bare not allocated when only e-photon interactions is on.
  - RT%GAMMA_bare was wrongly filled before beying calculated.

  Additions:
  - Add dyn dT to I/O variables. To be used to tune post-processing.
  - Added descriptions to ypp RT output files (added RT_write_descriptions.F).

  Changes:
  - Labeled with "SC" the SC-related descriptions.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5640 76a4dfbf-5f1f-0410-a543-a0282073b526

- Problems with P(t) post-evaluation fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5638 76a4dfbf-5f1f-0410-a543-a0282073b526

- Working on the J and P I/O. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5625 76a4dfbf-5f1f-0410-a543-a0282073b526

- It_dyn replaced by NE_i_time (globally) [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5624 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Andrea Marini]

  *  config/configure.ac configure include/version.inc io/variables_RT.F real_time_common/RT_BGR.F real_time_common/RT_driver.F real_time_control/RT_carriers_object.F ypp/real_time/RT_initialize.F

  Bugs:
  - Several small bugs introduced in ypp_rt by the modified RT I/O.

  Changes:
  - BGR components zeroed to avoid trash in I/O.
  - RT%GAMMA_bare written only if allocated.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5623 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Andrea Marini]

  *  config/configure.ac configure include/version.inc interface/INIT_load.F io/io_RT_components.F io/variables_RT.F modules/mod_RT_control.F modules/mod_real_time.F real_time_common/RT_driver.F real_time_common/RT_initialize.F real_time_control/RT_databases_IO.F real_time_control/RT_observables.F real_time_control/RT_output.F real_time_propagation/RT_time_step_update.F

  Additions:
  - Added a time jump between two consecutive dT updates.

  Changes:
  - RT_IO_time_SAVE removed. IO_times not updated duting dT update.
  - RT_do_IO -> RT_do_it to be used more generally.
  - Removed the COM report in RT_databases_IO. All driven by RT_initialize.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5622 76a4dfbf-5f1f-0410-a543-a0282073b526

- Few bug-fixes in RT_initialize setup of Time steps. Removed update of
  RT_IO_times to avoid I/O and ypp_rt problems. I/O working because of
  old change in RT_control procedure. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5620 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5618 76a4dfbf-5f1f-0410-a543-a0282073b526

- Adaptative Time step messagging implemented. Still I/O problems.
  [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5617 76a4dfbf-5f1f-0410-a543-a0282073b526

- FS2AUT -> AUT2FS in ypp. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5614 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Andrea Marini]

  *  config/configure.ac configure include/version.inc interface/INIT_load.F io/variables_RT.F modules/SET_defaults.F modules/mod_real_time.F modules/mod_units.F real_time_common/.objects real_time_common/RT_Commensurable_Time.F real_time_common/RT_Field_Commensurable_Frequencies.F real_time_common/RT_driver.F real_time_common/RT_initialize.F real_time_common/RT_start_and_restart.F real_time_control/RT_apply.F real_time_control/RT_interpolation.F real_time_lifetimes/RT_Lifetimes_evaluation_plan.F real_time_propagation/RT_MEMORY_index.F real_time_propagation/RT_time_step_update.F

  Additions:
  - Adaptative time-step implemented in the Lifetimes evaluation plan.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5613 76a4dfbf-5f1f-0410-a543-a0282073b526

- Dependency problem shown by XLF fixed. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5636 76a4dfbf-5f1f-0410-a543-a0282073b526

- Routine PARALLEL_wait.F removed from src/paralllel because unused (the
  used version is a copy of it that located in
  src/modules/mod_parallel.F) [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5629 76a4dfbf-5f1f-0410-a543-a0282073b526

- Timing renamed. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5627 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K_diago_driver.F bse/K_diago_perturbative.F

  Bugs:
  - [yambo] Perturbative width in computing the BSE now works properly.
            It was never tested

  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5600 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Andrea Marini]

  *  . config/Makefile.in config/configure.ac config/fft.m4 configure include/version.inc bse/K_Transitions_setup.F bse/K_inversion.F bse/K_inversion_Lo.F bz_ops/bz_samp_indexes.F collisions/.objects collisions/COLLISIONS_Fock.F collisions/COLLISIONS_NEQ_GW_static.F collisions/COLLISIONS_alloc_and_free.F + collisions/COLLISIONS_compose_rt.F collisions/COLLISIONS_compose_sc.F collisions/COLLISIONS_eval.F collisions/COLLISIONS_linearize_and_IO.F collisions/COLLISIONS_load.F + collisions/COLLISIONS_momentum.F collisions/COLLISIONS_sex.F collisions/PLASMA_build_up.F collisions/PLASMA_parallel_setup.F collisions/PLASMA_tables_and_dimensions.F collisions/SCATTERING_GW_kinematics.F interface/INIT.F interface/INIT_barriers.F interface/INIT_load.F interface/INIT_q_points.F io/io_COLLISIONS.F io/io_DB1.F io/io_ELPH.F io/io_QINDX.F io/io_RT_components.F io/variables_RT.F modules/.objects modules/SET_defaults.F modules/mod_IO.F modules/mod_RT_CTL.F + + modules/mod_R_lattice.F modules/mod_SC.F modules/mod_collision.F modules/mod_com.F modules/mod_interfaces.F modules/mod_parallel.F modules/mod_plasma.F modules/mod_real_time.F parallel/.objects parallel/PARALLEL_WF_distribute.F + parallel/PARALLEL_get_user_structure.F parallel/PARALLEL_global_indexes.F parallel/PARALLEL_index.F parser/Gclose.F pol_function/DIPOLE_driver.F pol_function/X_os.F qp/.objects qp/.objects_gpl qp/ELPH_Sigma_c.F qp/QED_Radiative_Lifetimes.F qp/QED_Sigma_c.F + qp/QP_descriptions.F qp/QP_driver.F qp/QP_of.F + + qp/bracket.F qp/secant.F real_time real_time/.objects real_time/.objects_gpl real_time/RT_BGR.F real_time/RT_Collision.F real_time/RT_Coulomb_relaxation.F real_time/RT_Dephasing_Matrix.F real_time/RT_Dephasing_step.F real_time/RT_ELPH_CCA_Kernel.F real_time/RT_ELPH_eq_Kernel.F real_time/RT_ELPH_gkkp_remap.F real_time/RT_ELPH_initialize.F real_time/RT_ELPH_out_of_eq_Kernel.F real_time/RT_ELPH_total_Kernel.F real_time/RT_ELPH_zeroing.F real_time/RT_EULEREXP_step.F real_time/RT_EULER_step.F real_time/RT_Ext_fields.F real_time/RT_Field_Commensurable_Frequencies.F real_time/RT_Fluence.F real_time/RT_G_retarded_convolution.F real_time/RT_G_retarded_time.F real_time/RT_INTERPOLATED_step.F real_time/RT_Integrator.F real_time/RT_Lifetimes_Interpolation.F real_time/RT_Lifetimes_evaluation_plan.F real_time/RT_Lifetimes_merge.F real_time/RT_Lifetimes_save_and_interp.F real_time/RT_Lifetimes_use_delta_Occupations.F real_time/RT_Scattering_step.F real_time/RT_apply_RWA.F real_time/RT_apply_field.F real_time/RT_build_I1_and_I2.F real_time/RT_build_U1_and_U2.F real_time/RT_current_AND_polarization.F real_time/RT_driver.F real_time/RT_impose_zero_dE_and_dN.F real_time/RT_initialize.F real_time/RT_manual_excitation.F real_time/RT_propagate_fields.F real_time/RT_relaxation.F real_time/RT_start_and_restart.F + real_time_control/.objects real_time_control/RT_apply.F real_time_control/RT_carriers_object.F + real_time_control/RT_databases_IO.F real_time_control/RT_mean_carrier_lifetimes.F real_time_control/RT_observables.F real_time_control/RT_output.F + + + sc/SC_driver.F sc/SC_start_and_restart.F setup/External_corrections.F setup/QP_state_table_setup.F stop_and_restart/stop_now.F xc_functionals/el_density_matrix.F xc_functionals/el_magnetization_matrix.F ypp/bits/WF_map_perturbative_SOC.F ypp/elph/ELPH_general_gFsq.F ypp/init/INIT_load_ypp.F ypp/init/INIT_ypp.F ypp/modules/mod_YPP.F ypp/real_time/RT_IO_J_and_P.F ypp/real_time/RT_X_LRR_real_field.F ypp/real_time/RT_X_effective.F ypp/real_time/RT_X_qssin.F ypp/real_time/RT_dump_and_write_JP.F ypp/real_time/RT_initialize.F ypp/real_time/RT_occ_2D_dos_plot.F ypp/real_time/RT_occ_bands_interpolation.F ypp/real_time/RT_occ_energy_plot.F ypp/real_time/RT_occ_time_plot.F ypp/real_time/RT_occupations_analyze.F ypp/real_time/RT_split_Polarization.F ypp/real_time/RT_transient_absorption.F

  *** Merge with devel-andrea after deep code refactoring ***

  Bugs:
  - COLL_bands,RT_bands and IP_h_bands were not intialized.
  - Bug-fixes in K_inversion and Collisions pre-load actions. Added error for empty workload CPU
  - Bug-fix in Radiative Lifetimes parallel support
  - In K_inversion, perturbative procedure. A wrong division by the number of cpu was done also when no FULL inversion was performed.
  - Bug in Eliashberg function evaluation for uniform grids.

  Additions:
  - Added input variable to select the initial time for the deltaT update.
  - Added simpler indexes for GF memory points:
    integer  :: i_MEM_now
    integer  :: i_MEM_next
    integer  :: i_MEM_previous
  - Q-points read directly from gkkp DB's (both PW and Yambo formats supported).
  - Added check on Q-points coordinates in io_ELPH for uniform grids.
  - Added RADIATIVE recombination lifetimes to real-time.

  Changes:
  - Removed unused Coherent part interpolation scheme.
  - Deep change of GF memory handling in RT simulations. Now based on an dynamical definition (see RT_MEMORY_index).
  - it_dyn moved in mod_real_time. Seems equivalent to NE_i_time. To be removed.
  - l_Debye_TBose_update removed
  - "MinusQ" option removed. Replaced by direct gkkp DB's I/O.
  - ALL SC_bands -> RT_bands in mod_real_time
  - Real-time folder splitted in several, subject-oriented sub-folders

  *** COLLISIONS ***
  - Added collision element directly in collisions type. Simplified io_COLLISIONS.
  - Heavly cleaned-up COLLISIONS_load using the info in the types.
  - Removed V_kind from collisions_mod and replaced by internal type definition.
  - Moved the initial collisions naming in the module and called at the initialization time.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5599 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug-fix in ypp_rt (RT_dyn_step undefined) and in RT_do_IO (in the case
  of default values) [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5598 76a4dfbf-5f1f-0410-a543-a0282073b526

- Time step update implemented and tested without dissipation. [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5597 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk and simplified parallel warning messages. [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5594 76a4dfbf-5f1f-0410-a543-a0282073b526

- Wrong error call removed and replaced by optional. The error call was
  erroneously causing the stop of many parallel jobs. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5588 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5586 76a4dfbf-5f1f-0410-a543-a0282073b526

- Missing file added. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5567 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Andrea Marini]

  *  config/configure.ac configure include/version.inc interface/INIT.F interface/INIT_load.F io/io_DB1.F io/io_RT_components.F io/variables_RT.F modules/mod_RT_control.F modules/mod_real_time.F real_time_common/RT_driver.F real_time_common/RT_initialize.F real_time_common/RT_relaxation.F real_time_common/RT_start_and_restart.F real_time_control/RT_output.F real_time_el-ph/RT_ELPH_out_of_eq_Kernel.F real_time_lifetimes/RT_Lifetimes_save_and_interp.F real_time_lifetimes/RT_Lifetimes_use_delta_Occupations.F real_time_propagation/.objects real_time_propagation/RT_INTERPOLATED_step.F real_time_propagation/RT_Integrator.F real_time_propagation/RT_time_step_update.F

  Bugs:
  - COLL_bands,RT_bands and IP_h_bands were not intialized.

  Additions:
  - Added input variable to select the initial time for the deltaT update.
  - Added simpler indexes for GF memory points:
    integer  :: i_MEM_now
    integer  :: i_MEM_next
    integer  :: i_MEM_previous

  Changes:
  - Removed unused Coherent part interpolation scheme.
  - Deep change of GF memory handling in RT simulations. Now based on an dynamical definition (see RT_MEMORY_index).
  - it_dyn moved in mod_real_time. Seems equivalent to NE_i_time. To be removed.
  - l_Debye_TBose_update removed

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5566 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug-fixes in K_inversion and Collisions pre-load actions. Added error
  for empty workload CPU. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5563 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug-fix in Radiative Lifetimes parallel support. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5561 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Andrea Marini]

  *  config/configure.ac configure include/version.inc bse/K_inversion.F bse/K_inversion_Lo.F modules/mod_IO.F modules/mod_com.F modules/mod_parallel.F stop_and_restart/stop_now.F

  Bugs:
  - In K_inversion, perturbative procedure. A wrong division by the number of cpu was done also when no FULL inversion was performed.

  Changes:
  - Adde MPI_abort in stop_now and error routines.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5559 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5557 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug introduced yesterday fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5555 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Andrea Marini]

  *  config/configure.ac configure include/version.inc bse/K_inversion_Lo.F bz_ops/bz_samp_indexes.F interface/INIT.F interface/INIT_load.F interface/INIT_q_points.F io/io_ELPH.F io/io_QINDX.F modules/mod_IO.F modules/mod_R_lattice.F pol_function/X_os.F qp/ELPH_Sigma_c.F real_time_el-ph/RT_ELPH_gkkp_remap.F ypp/elph/ELPH_general_gFsq.F

  Bugs:
  - Bug in Eliashberg function evaluation for uniform grids.

  Additions:
  - Q-points read directly from gkkp DB's (both PW and Yambo formats supported).
  - Added check on Q-points coordinates in io_ELPH for uniform grids.

  Changes:
  - "MinusQ" option removed. Replaced by direct gkkp DB's I/O.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5552 76a4dfbf-5f1f-0410-a543-a0282073b526

- Test-suite location changed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5547 76a4dfbf-5f1f-0410-a543-a0282073b526

- Small errorer introduced by the merge fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5545 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with the trunk. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5544 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Andrea Marini]

  *  config/configure.ac configure include/version.inc collisions/COLLISIONS_eval.F interface/INIT_load.F modules/mod_SC.F modules/mod_real_time.F parallel/PARALLEL_collisions.F qp/QP_of.F real_time_common/RT_initialize.F real_time_common/RT_relaxation.F real_time_lifetimes/RT_Radiative_Lifetimes.F real_time_propagation/RT_Scattering_step.F

  Bugs:
  - Fixed a bug of _RT parallelization introduced with _SC related coding.

  Additions:
  - Added RADIATIVE recombination lifetimes to real-time. Still parallelization not working.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5517 76a4dfbf-5f1f-0410-a543-a0282073b526

- Missing module renaming added. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5515 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Andrea Marini]

  *  config/configure.ac configure include/version.inc collisions/COLLISIONS_basic_operations.F collisions/COLLISIONS_compose_sc.F collisions/COLLISIONS_eval.F collisions/COLLISIONS_map_to_QP_table.F interface/INIT_load.F parallel/PARALLEL_WF_distribute.F parallel/PARALLEL_collisions.F parallel/PARALLEL_global_indexes.F pol_function/DIPOLE_driver.F

  Changes:
  - _SC parallel structure fully adapted to new COLLISIONS. Serial and parallel tests passed.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5513 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5507 76a4dfbf-5f1f-0410-a543-a0282073b526

- Interfaces splitted in two and rt_ctl -> RT_control. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5506 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Andrea Marini]

  *  config/configure.ac configure include/version.inc bse/K_blocks.F io/io_DIPOLES.F modules/mod_parallel.F pol_function/DIPOLE_driver.F

  Bugs:
   - Bug in DIPOLE_driver fixed.
       !
       ! AM March 2016. The next lines are in the nasty case where only a fraction of all CPU's compute the
       ! dipoles. In this case only those cpu's know the right value of X%Vnl_included that is defined in the
       ! calculation process. If, in the same run, all cpu's must access the dipoles the other CPU's will have
       ! the wrong value of X%Vnl_included and the code will get stuck.
       !

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5504 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Andrea Marini]

  *  . config/configure.ac configure include/version.inc bse/K_inversion_Lo.F bse/K_output_file.F collisions/COLLISIONS_alloc_and_free.F collisions/COLLISIONS_basic_operations.F collisions/COLLISIONS_compose_rt.F collisions/COLLISIONS_load.F interface/INIT.F interface/INIT_load.F io/variables_RT.F modules/mod_SC.F modules/mod_interfaces.F modules/mod_real_time.F qp/QP_of.F qp/QP_ppa_cohsex.F real_time_common/RT_driver.F real_time_common/RT_initialize.F real_time_common/RT_relaxation.F real_time_control/RT_current_AND_polarization.F real_time_control/RT_observables.F real_time_lifetimes/RT_Lifetimes_evaluation_plan.F real_time_lifetimes/RT_Lifetimes_save_and_interp.F

  Bugs:
  - In assignement of COLLISIONS Index for parallel I/O
  - In parallel live timing of COLLISIONS I/O
  - In saving TIMES for Lifetimes Interpolation

  Changes:
  - Merged with trunk
  - Two real-time routines moved from mod_real_time to mod_interfaces.
  - ALL SC_bands -> RT_bands in mod_real_time

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5499 76a4dfbf-5f1f-0410-a543-a0282073b526

- Clean-up. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5488 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug-fix in parallel distribution of PLASMA indexes. Most of tests
  passed in serial and default parallel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5482 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug fixed in COLLISIONS I/O in COLLISIONS_load. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5478 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5475 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug-fix in e-e scattering. Still numbers different from trunk. [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5474 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Andrea Marini]

  *  config/configure.ac configure include/version.inc collisions/COLLISIONS_Fock.F collisions/COLLISIONS_NEQ_GW_static.F collisions/COLLISIONS_alloc_and_free.F collisions/COLLISIONS_basic_operations.F collisions/COLLISIONS_eval.F collisions/COLLISIONS_linearize_and_IO.F collisions/COLLISIONS_load.F collisions/COLLISIONS_momentum.F collisions/COLLISIONS_sex.F interface/INIT.F interface/INIT_load.F io/io_COLLISIONS.F modules/.objects modules/SET_defaults.F modules/mod_collision.F modules/mod_interfaces.F

  *** the code compiles ***

  Changes:
  - Added collision element directly in collisions type. Simplified io_COLLISIONS.
  - Heavly cleaned-up COLLISIONS_load using the info in the types.
  - Removed V_kind from collisions_mod and replaced by internal type definition.
  - Moved the initial collisions naming in the module and called at the initialization time.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5468 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Andrea Marini]

  *  config/configure.ac config/fft.m4 configure include/version.inc collisions/COLLISIONS_NEQ_GW_static.F collisions/COLLISIONS_alloc_and_free.F collisions/COLLISIONS_compose_rt.F collisions/COLLISIONS_linearize_and_IO.F collisions/COLLISIONS_load.F collisions/COLLISIONS_momentum.F collisions/PLASMA_tables_and_dimensions.F interface/INIT.F io/io_COLLISIONS.F modules/mod_SC.F modules/mod_collision.F parallel/.objects parallel/PARALLEL_collisions.F real_time_common/RT_Collision.F real_time_common/RT_Dephasing_Matrix.F real_time_common/RT_driver.F real_time_common/RT_start_and_restart.F real_time_el-ph/RT_ELPH_initialize.F real_time_lifetimes/RT_Coulomb_relaxation.F sc/SC_driver.F sc/SC_start_and_restart.F setup/QP_state_table_setup.F

  Bugs:
  - In configure a not working mpif90 was erroneously setting the $FC variable. This was causing failures in libs detection.

  Changes:
  - Now collisions work in _rt. Tests passed in serial. Still work to do to separate the QP/SC/RT environments.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5464 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug-fix. Still code not working. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5463 76a4dfbf-5f1f-0410-a543-a0282073b526

- Missing file. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5462 76a4dfbf-5f1f-0410-a543-a0282073b526

- Still HEAVY fighting with collisions structure. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5461 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fixed bug in parallel collisions distribution. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5458 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Andrea Marini]

  *  config/configure.ac configure include/version.inc collisions/.objects collisions/.objects_gpl collisions/COLLISIONS_Fock.F collisions/COLLISIONS_NEQ_GW_static.F collisions/COLLISIONS_alloc_and_free.F + moved collisions/COLLISIONS_compose_rt.F collisions/COLLISIONS_compose_sc.F collisions/COLLISIONS_eval.F collisions/COLLISIONS_linearize_and_IO.F collisions/COLLISIONS_load.F collisions/COLLISIONS_momentum.F collisions/COLLISIONS_setup.F moved collisions/COLLISIONS_sex.F collisions/PLASMA_build_up.F collisions/PLASMA_tables_and_dimensions.F collisions/SCATTERING_GW_kinematics.F io/io_COLLISIONS.F modules/mod_collision.F modules/mod_interfaces.F parallel/.objects parallel/PARALLEL_collisions.F parallel/PARALLEL_global_indexes.F real_time_common/RT_driver.F real_time_common/RT_initialize.F sc/SC_driver.F

  *** Partially broken source ***

  Changes:
  - Deep change to COLLISIONS structure/table/parallelization to disentangle it to QP-like objects.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5454 76a4dfbf-5f1f-0410-a543-a0282073b526

- Added definition in COLLISIONS groups. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5445 76a4dfbf-5f1f-0410-a543-a0282073b526

- Shadow evolving time_step and shadow COLLISIONS new structured added.
  Now still not used. The code is ok. Let's see when I will switch them
  on. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5443 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5433 76a4dfbf-5f1f-0410-a543-a0282073b526

- Added gpl-tags and gloabal change of Copyright headers in 4.0 branch.
  [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5427 76a4dfbf-5f1f-0410-a543-a0282073b526

- Lifetimes evaluation plan clean-up. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5419 76a4dfbf-5f1f-0410-a543-a0282073b526

- Removed sampling kinds in Lifetime interpolation and added a logical
  to activate the interpolation or not. Fixed a compilation issue for
  _magnetic. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5418 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5417 76a4dfbf-5f1f-0410-a543-a0282073b526

- Real-time folder splitted in several, subject-oriented sub-folders.
  [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5416 76a4dfbf-5f1f-0410-a543-a0282073b526

- Last series  Radiative _RT lifetimes bug fixed. Now serial runs are
  ok. Still physics to be tested. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5415 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug-fixes. Code runs. No seg.fault. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5414 76a4dfbf-5f1f-0410-a543-a0282073b526

- More steps in Radiative lifetimes coding. Now the code runs but
  strange results, errors. RT_Lifetimes_save_and_interp to be fixed.
  [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5413 76a4dfbf-5f1f-0410-a543-a0282073b526

- Most of the RT-Radiative lifetimes structure done. Still seg.fault.
  and parallel to be tested. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5411 76a4dfbf-5f1f-0410-a543-a0282073b526

- EQ and RT Lifetimes splitted in two. Too much coding to keep them
  together. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5409 76a4dfbf-5f1f-0410-a543-a0282073b526

- More in Radiative lifetimes in _RT. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5401 76a4dfbf-5f1f-0410-a543-a0282073b526

- Radiative lifetimes infrastructure in RT created. Still to check
  anomalous actions of RT_carriers_object. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5387 76a4dfbf-5f1f-0410-a543-a0282073b526

- Some renaming and bug-fix in _QED compilation. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5385 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5384 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5382 76a4dfbf-5f1f-0410-a543-a0282073b526

- Minore renaming here and there. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5381 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc ypp/plotting/plot_check_and_launch.F ypp/plotting/plot_gnuplot.F

  Bugs:
  - [ypp] Plot_check_and_launch was not setting the logicals use_gnuplot/use_xcrysden
          when corresponding switch_to_ logicals were activated.
          For example in the 3D case was entering the plot_gnuplot subroutine also if
          switch_to_xcrysden=.true.
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5591 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc xc_functionals/el_density_matrix.F xc_functionals/el_magnetization_matrix.F

  Bugs:
  - [yambo_rt] el_density_matix and el_magnetization_matrix: input variables were declared as optional
               without an interface. Also SC_bands changed with RT_bands since these are functions of
               yambo_rt only
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5582 76a4dfbf-5f1f-0410-a543-a0282073b526

- Deleted old unused file. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5578 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc io/io_RT_components.F real_time/RT_start_and_restart.F

  Bugs:
  - [yambo_rt] fixed two small bugs in RT carriers and polarization DBs IO.
               units were not closed properly
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5577 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc real_time/RT_driver.F real_time/RT_initialize.F

  Bugs:
  - [yambo_rt] REF_lifetimes written in output were never defined
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5576 76a4dfbf-5f1f-0410-a543-a0282073b526

- Shift of 10000 in revision number implemented. [Davide Sangalli]

- Hash made available globally via configure. [Davide Sangalli]

- Sbin/yambo_versions_update.tcsh futher update. [Davide Sangalli]

- Final structure on pre-commit chosen. Pre-push removed. [Davide
  Sangalli]

- One more change to the script. Removed commit during push. [Davide
  Sangalli]

- Revision number updated. [Davide Sangalli]

- Revision updated. [Davide Sangalli]

- Git post-commit moved as git pre-commit. [Davide Sangalli]

- Question asked by tch script only with version/subversion/patch, not
  with revision and hash. [Davide Sangalli]

- Forgot to git add last changes to the script. [Davide Sangalli]

- More changes to the scripts. [Davide Sangalli]

- Revision number updated globally to make the script work properly.
  [Davide Sangalli]

- Git_hooks script made executable. [Davide Sangalli]

- Added a sbin/git_hooks.sh script to generate git hooks to update the
  hash every commit and the revision every push. [Henrique Miranda]

- Changed the yambo_versions_update.tcsh script to use git. In the logo
  module the git hash is also printed. [Henrique Miranda]

- Safer fix to the gradient (out-of-bound on fft_g_table avoided)
  [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5558 76a4dfbf-5f1f-0410-a543-a0282073b526

- Mem_est made thread safe (ie works only for the master_thread and can
  be called inside omp parallel regions) [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5556 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K_Transitions_setup.F interface/INIT.F interface/INIT_load.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [yambo_rt] The use of equilibrium transitions only can be forced in NEQ-BSE calculations

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5554 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K_diago_hermitian_residuals.F

  Bugs:
  - [yambo] Fixed missing PP_redux_wait for BS_R_right residuals
            To check if this solves bug #245 (likely yes)
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5553 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc ypp/electrons/electrons_dos.F ypp/electrons/electrons_magn_factors.F ypp/electrons/electrons_spin_and_magn_interpolate.F ypp/electrons/electrons_spin_factors.F ypp/real_time/RT_occ_2D_dos_plot.F ypp/real_time/RT_occ_energy_plot.F ypp/real_time/RT_occ_time_plot.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [ypp_rt] spin_factors and magn_factors are computed only for the specified states
             in ypp_rt -t ot runs, when plotting the time dependent occupations

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5549 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc real_time/RT_impose_zero_dE_and_dN.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [yambo_rt] RT_impose_zero_dE_and_dN, factors are always computed in double precision

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5548 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc interface/INIT.F interface/INIT_load.F modules/SET_defaults.F modules/mod_real_time.F qp_control/QP_load_DB.F real_time/RT_initialize.F real_time/RT_manual_excitation.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [yambo_rt] Manual pump can be done selectively in k space
  - [yambo_rt] Removed old line from qp_control/QP_load_DB.F

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5541 76a4dfbf-5f1f-0410-a543-a0282073b526

- Mem est calls moved nearby alloc/dealloc calls in X_os. [Davide
  Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5539 76a4dfbf-5f1f-0410-a543-a0282073b526

- Interface of eval_Gradient changed in order to handle both the
  gradient of a wavefunction and a density. This was needed to fix a bug
  in the evaluation of the density gradient entering libxc for GGA's and
  other functionals beyond LDA. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5536 76a4dfbf-5f1f-0410-a543-a0282073b526

- Cleanup. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5535 76a4dfbf-5f1f-0410-a543-a0282073b526

- Distclean target added (aliased to clean_all) [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5534 76a4dfbf-5f1f-0410-a543-a0282073b526

- New openmp parallelism of X (using omp locks) implemented (ported from
  devel-fabio) [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5526 76a4dfbf-5f1f-0410-a543-a0282073b526

- Slash characters ("/") removed from jobstr (-J) [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5525 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc ypp/real_time/RT_occ_energy_plot.F

  Bugs:
  - [ypp_rt] Fixed bug in compilation noticed by Alejandro
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5523 76a4dfbf-5f1f-0410-a543-a0282073b526

- Forgot to add file. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5522 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc qp_control/Nearest_kpt_interpolation.F xc_functionals/el_density_and_current.F ypp/electrons/.objects ypp/electrons/electrons_bands.F ypp/electrons/electrons_bands_interpolate.F ypp/electrons/electrons_magn_factors.F ypp/electrons/electrons_spin_and_magn_interpolate.F ypp/modules/mod_YPP.F ypp/real_time/RT_occ_2D_dos_plot.F ypp/real_time/RT_occ_bands_interpolation.F ypp/real_time/RT_occ_energy_plot.F ypp/real_time/RT_occ_time_plot.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [ypp_rt] Working on tools to plot the spin in spinorial simulations

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5521 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc modules/mod_real_time.F real_time/RT_Collision.F real_time/RT_driver.F real_time/RT_start_and_restart.F real_time_control/RT_output.F sc/SC_bare_Hamiltonian.F xc_functionals/el_density_and_current.F xc_functionals/el_density_matrix.F xc_functionals/el_magnetization.F xc_functionals/el_magnetization_matrix.F

  Bugs:
  - [yambo_rt] Fixed nasty bug computing the magnetization

         cv(:,3)=cv(:,3)+Xk%weights(ik)*(&
  &              real(f_occ(1)       ,SP)*real(conjg(WF%c(:,ifft1(1))*WF%c(:,ifft1(1))))&
  &             -real(f_occ(n_sp_pol),SP)*real(conjg(WF%c(:,ifft1(2))*WF%c(:,ifft1(2)))) )
  instead of
         cv(:,3)=cv(:,3)+Xk%weights(ik)*(&
  &              real(f_occ(1)       ,SP)*real(conjg(WF%c(:,ifft1(1)))*WF%c(:,ifft1(1)))&
  &             -real(f_occ(n_sp_pol),SP)*real(conjg(WF%c(:,ifft1(2)))*WF%c(:,ifft1(2))) )


  Additions:
  -
  Changes:
  - [yambo_rt] Total magnetization now written in output for the case n_spin>1
               It is computed via the magnetization density.
    It could be directly computed defining a G<_ref{sigma,sigmap} in terms of
    the components of the spinors and the multiplying the latter by the G<(t,t)


  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5520 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc pol_function/DIPOLE_driver.F qp_control/QP_apply_DB_interpolation.F real_time_control/RT_output.F ypp/electrons/.objects ypp/electrons/electrons_bands.F ypp/electrons/electrons_bands_interpolate.F ypp/electrons/electrons_dos.F ypp/init/INIT_load_ypp.F ypp/init/INIT_ypp.F ypp/modules/mod_YPP.F ypp/real_time/RT_occ_2D_dos_plot.F ypp/real_time/RT_occ_bands_interpolation.F ypp/real_time/RT_occ_time_plot.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [ypp & ypp_rt] Several tools to check the spin for spinorial calculations coded
  - [yambo] Comments from Andrea on bugs moved in the bug tracker and removed from the source

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5519 76a4dfbf-5f1f-0410-a543-a0282073b526

- Refined version of bug-fix to prevent additional problems. [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5512 76a4dfbf-5f1f-0410-a543-a0282073b526

- File rename following subroutine renaming. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5505 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Andrea Marini]

  *  config/configure.ac configure include/version.inc bse/K_blocks.F io/io_DIPOLES.F modules/mod_parallel.F pol_function/DIPOLE_driver.F

  Bugs:
   - Bug in DIPOLE_driver fixed.
       !
       ! AM March 2016. The next lines are in the nasty case where only a fraction of all CPU's compute the
       ! dipoles. In this case only those cpu's know the right value of X%Vnl_included that is defined in the
       ! calculation process. If, in the same run, all cpu's must access the dipoles the other CPU's will have
       ! the wrong value of X%Vnl_included and the code will get stuck.
       !

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5504 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc ypp/symmetries/.objects ypp/symmetries/fix_QP_DBs.F ypp/symmetries/fix_WFs_and_E.F ypp/symmetries/symmetries_driver.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [ypp] Expansion of QP correction db when fixing symmetries imported from devel-davide

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5503 76a4dfbf-5f1f-0410-a543-a0282073b526

- WF_spatial_invertion -> WF_spatial_inversion. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5502 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc interface/INIT_load.F pol_function/DIPOLE_kb_Ylm.F qp_control/Nearest_level_interpolation.F qp_control/QP_apply_DB_interpolation.F

  Bugs:
  - [yambo] Interpolation of ndb.QP database based on energy "uei" was still wrong.
            I add a check on the alignment of the energy levels and a report
            on the number of energu levels exactly mapped.
            Implementation to be improved.

  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5501 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug-Fix in Lifetimes plan definition for the last points of the
  simulation. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5496 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug fixed in QP_of. Spotted by tests run by AF. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5495 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug fixed in the case terminator+symmetries when TR was present.
  Working properly now. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5494 76a4dfbf-5f1f-0410-a543-a0282073b526

- Variable WehCpl not present in the last revisions, but needed to
  activate eh interaction in the coupling. [Daniele Varsano]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5483 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K_inversion_Lo.F

  Bugs:
  - [yambo] Fixed bug in inversion solver affecting
            a) calculations with causal or coupling mode
            b) all calculations with fractional occupations
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5480 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K_output_file.F

  Bugs:
  - [yambo] Fixed bugin K_output_file with inversion solved.
            Columns 5 and 6 were random numbers. Now include Lo plus the kernel diagonal
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5477 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc pol_function/DIPOLE_kb_Ylm.F pol_function/DIPOLE_kb_abinit_comp.F

  Bugs:
  - [yambo] The dipoles computed including the [x,Vnl] term were not rotationally invariant
            due to a problem in the DIPOLE_kb_Ylm subroutine. The latter is base on spherical
            coordinate (r,theta,phi), however phi is not defined on the z axis. To avoid this problem
            the z axis is replaced by an axis with x=1.E-6 (1.E-12 in DP) so that the final
            result is rotationally invariant
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5473 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc pol_function/DIPOLE_transverse.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [yambo] Commutator included back in DIP_P (which indeed should be called DIP_v for "velocity")
            to restore equivalence between length and velocity gauge

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5460 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K_diago_perturbative.F

  Bugs:
  - [yambo] Fixed missing initialization in perturbative SOC which was causing
            the code to give wrong results in parallel
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5459 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc a2y/a2y_db1.F common/OCCUPATIONS_Fermi.F communicate/REPORT_Energies.F io/io_DB1.F modules/mod_X.F pol_function/DIPOLE_kb_Ylm.F pol_function/DIPOLE_kb_abinit_comp.F pol_function/DIPOLE_kb_sum.F wf_and_fft/load_cc.F

  Bugs:
  - [yambo] src/common/OCCUPATIONS_Fermi.F: fixed out of bounde in
            patological cases, i.e. hydorgen atom without spin
  Additions:
  -
  Changes:
  - [yambo] in src/wf_and_fft/load_cc.F: explicit dealing with real to integer conversion
  - [yambo, e2y] src/pol_function/DIPOLE_kb_Ylm.F, interfaces/a2y/a2y_db1.F:
                 fixed few missing _SP
  - [yambo] src/io/io_DB1.F: menu_is_closed implementation simplified
            Warning add on size of DB1 header, set to 18, yambo writes only 17 components,
            I did not change it to avoid back compatibility.
  - [yambo] src/modules/mod_X.F: dipoles are now initialized to cZERO when allocated

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5451 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K_kerr_IP.F setup/QP_state_table_setup.F

  Bugs:
  - [yambo_kerr] Epsilon_ij was not initialized to zero
  Additions:
  -
  Changes:
  - [yambo] Few _SP add

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5444 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc io/variables_RT.F

  Bugs:
  - [yambo_rt] fixed bug #250
               Call to io_elemental(ID,VAR="",VAR_SZ=0,MENU=0) to close the
               RT_DYNAMICS section was before the last variable
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5431 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc real_time/RT_ELPH_initialize.F

  Bugs:
  - [yambo_rt] fixed bug #249 (restart with EP scattering)
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5429 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug Fix in DIPOLE_driver io_err not inizialized. When DBsIOoff= "DIP"
  sometimes it avoded the calculation of dipoles and consequently
  crashed when projecting. [Daniele Varsano]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5425 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac config/etsf_io.m4 configure include/version.inc e2y/e2y_db1.F e2y/e2y_i.F e2y/e2y_wf.F e2y/e2y_wf_components.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [e2y] few changes. Everything seems fine
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5422 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc interface/INIT_load.F

  Bugs:
  - [yambo_sc] fixed compilation issue
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5421 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc ypp/real_time/RT_occ_time_plot.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [ypp_rt] kpt vector written in the output of the "occupations as function of time" file

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5420 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/Makefile.in config/configure.ac configure include/version.inc bse/K_kerr_IP.F

  Bugs:
  - [yambo_kerr] fixed missing allocation
  Additions:
  -
  Changes:
  - [yambo_kerr] project noow includes the whole _rt project (and thus also _sc and _elph)

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5412 76a4dfbf-5f1f-0410-a543-a0282073b526

- QED-QP format fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5408 76a4dfbf-5f1f-0410-a543-a0282073b526

- Minor format restyling. Still to fix very different output orders of
  magnitude (mod_com) [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5400 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  real_time_control/RT_output.F ypp/real_time/RT_X_effective.F

  Bugs:
  - [ypp_rt] Resored output YPP-eps_x/y/z which had been erroneously erased
             Test 05 in AlAs_bulk was failing
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5398 76a4dfbf-5f1f-0410-a543-a0282073b526

- Small bug-fix that was preventing _qed to compile. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5397 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc interface/INIT.F interface/INIT_load.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [yambo_rt & yambo_sc] Further work on spliting the two projects

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5396 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc interface/INIT_load.F

  Bugs:
  - [yambo_rt / yambo_sc] Fixed typo in input file generation for collisions
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5389 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  . config/Makefile.in config/configure.ac configure include/version.inc collisions/COLLISIONS_Fock.F collisions/COLLISIONS_NEQ_GW_static.F collisions/COLLISIONS_alloc_and_free.F collisions/COLLISIONS_compose_rt.F collisions/COLLISIONS_compose_sc.F collisions/COLLISIONS_eval.F collisions/COLLISIONS_load.F collisions/COLLISIONS_momentum.F collisions/COLLISIONS_sex.F collisions/PLASMA_build_up.F common/RIntegrate.F interface/INIT.F interface/INIT_load.F io/io_COLLISIONS.F io/io_RT_components.F io/variables_RT.F modules/.objects modules/mod_RT_CTL.F modules/mod_SC.F modules/mod_collision.F + modules/mod_real_time.F parallel/PARALLEL_WF_distribute.F parallel/PARALLEL_global_indexes.F pol_function/DIPOLE_build_parallelization_mask.F real_time/RT_BGR.F real_time/RT_Collision.F real_time/RT_Dephasing_Matrix.F real_time/RT_Dephasing_step.F real_time/RT_ELPH_CCA_Kernel.F real_time/RT_ELPH_eq_Kernel.F real_time/RT_ELPH_initialize.F real_time/RT_ELPH_out_of_eq_Kernel.F real_time/RT_ELPH_total_Kernel.F real_time/RT_EULEREXP_step.F real_time/RT_EULER_step.F real_time/RT_INTERPOLATED_step.F real_time/RT_Integrator.F real_time/RT_Lifetimes_merge.F real_time/RT_Lifetimes_save_and_interp.F real_time/RT_Lifetimes_use_delta_Occupations.F real_time/RT_Scattering_step.F real_time/RT_apply_RWA.F real_time/RT_apply_field.F real_time/RT_apply_zero_dyn.F real_time/RT_build_I1_and_I2.F real_time/RT_build_U1_and_U2.F real_time/RT_current_AND_polarization.F real_time/RT_driver.F real_time/RT_impose_zero_dE_and_dN.F real_time/RT_initialize.F real_time/RT_manual_excitation.F real_time/RT_propagate_fields.F real_time/RT_relaxation.F real_time/RT_start_and_restart.F real_time_control/RT_average_operator.F real_time_control/RT_carriers_object.F real_time_control/RT_mean_carrier_lifetimes.F real_time_control/RT_observables.F ypp/init/INIT_ypp.F ypp/real_time/RT_IO_J_and_P.F ypp/real_time/RT_occ_2D_dos_plot.F ypp/real_time/RT_occ_bands_interpolation.F ypp/real_time/RT_occ_energy_plot.F ypp/real_time/RT_occ_time_plot.F ypp/real_time/RT_occupations_analyze.F ypp/real_time/RT_transient_absorption.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [yambo_rt & yambo_sc]
    merged with devel davide.
    Introduced RT_bands, COLL_bands, IP_h_bands, mod_hamiltonian

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5383 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc interface/INIT.F interface/INIT_RT_ctl_load.F interface/INIT_load.F

  Bugs:
  - [yambo_rt] Fixed bug introduced with renaming init_RT_ctl_load.F -> INIT_RT_ctl_load.F
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5379 76a4dfbf-5f1f-0410-a543-a0282073b526

- More on svn:ignore. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5378 76a4dfbf-5f1f-0410-a543-a0282073b526

- Svi:ignore added. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5377 76a4dfbf-5f1f-0410-a543-a0282073b526

- Openmp support added. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5376 76a4dfbf-5f1f-0410-a543-a0282073b526

- Eval_G_minus_G avoiding goto imported. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5373 76a4dfbf-5f1f-0410-a543-a0282073b526

- DP constants added and used in DP expressions. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5372 76a4dfbf-5f1f-0410-a543-a0282073b526

- Makeup. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5371 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. Bug #245 + minor bug introduced by DS
  splitting fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5369 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug #245 fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5368 76a4dfbf-5f1f-0410-a543-a0282073b526

- Trunk and devel-andrea merged. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5367 76a4dfbf-5f1f-0410-a543-a0282073b526

- Trunk and devel-andrea merged. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5367 76a4dfbf-5f1f-0410-a543-a0282073b526

- Renaming of _diag_ finalized. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5366 76a4dfbf-5f1f-0410-a543-a0282073b526

- K_diag_ => K_diago_ [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5365 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5364 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5347 76a4dfbf-5f1f-0410-a543-a0282073b526

- Yambo_ph -c p option restored (thx to C. Perez) [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5345 76a4dfbf-5f1f-0410-a543-a0282073b526

- Alternative fix of Bug #243 based on my commit 5328 where the RESTORE
  option of IO_and_Messaging_switch was fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5344 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5342 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug #242 fixed + headers renaming in X_output. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5341 76a4dfbf-5f1f-0410-a543-a0282073b526

- .objects update. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5336 76a4dfbf-5f1f-0410-a543-a0282073b526

- Global renaming of INIT-based routines. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5335 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Andrea Marini]

  *  config/configure.ac configure include/version.inc interface/init.F interface/init_barriers.F interface/init_load.F parallel/PARALLEL_global_indexes.F pol_function/DIPOLE_build_parallelization_mask.F qp/QED_Radiative_Lifetimes.F qp/QED_Sigma_c.F qp/QP_driver.F qp/QP_newton.F qp/QP_of.F real_time/RT_driver.F

  ***

  PARALLEL global structure needs to be re-organized in PRIMARY and SECONDARY structures. PRIMARY defined by user and
  SECONDARY derived to calculate secondary quantities (like the density). In addition a special layer is the WF one.
  CLEAR links and procedures must be defined in the links creation:

  PRIMARY <-> SECONDARY <-> WF

  ****

  Additions:
  - Created ad-hoc mask from SE parallel fields to Dipole structure.

  Changes:
  - Equilibrium Radiative lifetimes moved in Lifetimes section of QP_driver
  - Cleaned-up naming relative to DIPOLE parallel structure. This in order to create logical sub-words.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5333 76a4dfbf-5f1f-0410-a543-a0282073b526

- Added DIPk_ID and renamed PARALLEL components relative to DIPOLES in
  order to create a close (derived) framework. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5329 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Andrea Marini]

  *  config/configure.ac configure include/version.inc collisions/COLLISIONS_Fock.F collisions/COLLISIONS_sex.F io/IO_and_Messaging_switch.F modules/mod_SC.F parallel/PARALLEL_WF_distribute.F parallel/PARALLEL_global_indexes.F pol_function/DIPOLE_build_parallelization_mask.F pol_function/DIPOLE_driver.F pol_function/DIPOLE_transverse.F qp/QED_Radiative_Lifetimes.F qp/QED_Sigma_c.F qp/QP_newton.F real_time/RT_ELPH_CCA_Kernel.F

  Bugs:
  - IO_and_Messaging_switch "RESTORE" mode fixed by adding a previous "SAVE" call.
  - Removed [x,Vnl] from P definition. Is this a bug or a conceptual mistake I did?

  Additions:
  - Added PARALLEL support to Radiative Recombination rates (still not working, though)

  Changes:
  - B_mat_index modified in such a way to be also used in the Self_Energy environment

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5328 76a4dfbf-5f1f-0410-a543-a0282073b526

- Implementation of radiative lifetimes using <p> instead of current.
  [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5327 76a4dfbf-5f1f-0410-a543-a0282073b526

- Gradient evaluation extended to the spinorial case. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5325 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K_inversion.F bse/K_inversion_Lo.F

  Bugs:
  - [yambo] Fixed bug introduced in inversion solver in parallel
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5354 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/.objects + moved bse/K_diagonalization.F moved bse/K_inversion_Lo.F bse/K_solvers.F common/.objects common/HyperbolicSecant_FT.F + moved modules/mod_X.F pol_function/.objects + moved + moved pol_function/X_bare_Double_Grid_GreenF.F moved pol_function/X_full_GreenF.F moved pol_function/X_os.F pol_function/X_os_residuals.F pol_function/X_simple_GreenF.F moved qp/QP_Green_Function.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - GreenF subroutines and K_diagonalization.F subroutine renamed
    following what proposed by Andrea with few more changes


  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5350 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc bse/.objects bse/K.F bse/K_Haydock.F bse/K_IP.F bse/K_Transitions_setup.F bse/K_diag_compute_epsilon.F + + + + bse/K_diagonalization.F bse/K_eps_interpolate.F bse/K_inversion.F + bse/K_kerr_IP.F bse/K_multiply_by_V.F bse/K_output_file.F bse/K_solvers.F bse/K_stored_in_a_BIG_matrix.F interface/init.F interface/init_RT_ctl_load.F interface/init_load.F io/io_BSS_diago.F io/io_BSS_invert.F linear_algebra/MATRIX_resolvant_via_exact_inversion.F linear_algebra/MATRIX_resolvant_via_perturbative_inversion.F modules/SET_defaults.F modules/mod_BS.F modules/mod_KERR.F modules/mod_RT_CTL.F modules/mod_X.F modules/mod_X_output.F modules/mod_interfaces.F modules/mod_real_time.F pol_function/.objects pol_function/DIPOLE_transverse.F pol_function/O_driver.F pol_function/X_bare_Double_Grid_GreenF.F pol_function/X_drude.F pol_function/X_eh_setup.F + pol_function/X_os_residuals.F pol_function/X_simple_GreenF.F real_time_control/RT_apply.F real_time_control/RT_interpolation.F setup/External_corrections.F surf/Surface_driver.F ypp/excitons/excitons_driver.F ypp/real_time/RT_transient_absorption.F

  Bugs:
  -
  Additions:
  -
  Changes:

  ***  merged with devel-davide ***

   1) K_diagonalization split into:
       - K_diagonalization.F
       - K_diag_compute_epsilon.F (già fatto in precedenza)
       - K_diag_hermitian_residuals.F
       - K_diag_non_hermitian_residuals.F
       - K_diag_kerr_residual.F
       - K_diag_perturbative.F

  2) K_inversion split into:
       - src/bse/K_inversion.F
       - src/bse/K_inversion_Lo.F

  3) X_bare_Double_Grid_GreenF.F split into:
       - X_bare_Double_Grid_GreenF.F
       - X_full_GreenF.F (called by K_inversion_Lo.F)

  4) BSE new features / changes:
      a) Compute exctonic DOS
      b) fixed cioupling structure with symmetrized occupations
      c) option to include NEQ occupations in resuduals only
      d) "perturbative width" implemented following perturbative SOC idea in diag solver
      e) inversion solver by default put the diagonal part of the kernel in Lo.
         Optional flag to switch off this behaviour created
      f) lenght and velocity gauge implementation improved


  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5348 76a4dfbf-5f1f-0410-a543-a0282073b526

- Yambo_ph -c p option restored (thx to C. Perez) [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5346 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc modules/mod_fields.F real_time/RT_Ext_fields.F real_time/RT_Fluence.F real_time/RT_driver.F real_time/RT_initialize.F real_time_control/RT_output.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [yambo_rt] Partial merge with devel-davide.
               Calculation and output of fluence simplified
               Only fields written in output and induced/total fields only when computed.

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5343 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug #242 fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5340 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc sbin/yambo_versions_update.tcsh modules/mod_R_lattice.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [yambo] yambo_versions_update.tcsh "naming" updated to follow versioning number of yambo
            decided in the last meeting: v.s.p@r --> version.subversion.patch@revision

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5339 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc pol_function/X_em1.F

  Bugs:
  - [yambo] computation of em1s in parallel was crashing due to an IO problem
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5337 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc pol_function/X_s.F

  Bugs:
  - [yambo] fixed bug in the use of the LRC kernel
            Bug was found comparing the linear response simulations
            with the real-time implementation by Claudio & Myrta
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5334 76a4dfbf-5f1f-0410-a543-a0282073b526

- Added patch provided by Henrique Pereira to switch off the input file
  creation. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5330 76a4dfbf-5f1f-0410-a543-a0282073b526

- YPP folder structure cleaned-up. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5323 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5322 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug-fix in the evaluation of P m.e. Wrong summation of left and right
  derivatives. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5321 76a4dfbf-5f1f-0410-a543-a0282073b526

- Global Copyright year range update. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5316 76a4dfbf-5f1f-0410-a543-a0282073b526

- Radiative lifetimes frequency part taken out of QED_Sigma_c. Ready to
  introdce DbGd support. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5315 76a4dfbf-5f1f-0410-a543-a0282073b526

- Finalized renaming ypp folders. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5314 76a4dfbf-5f1f-0410-a543-a0282073b526

- On the way of renaming ypp folders. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5313 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug fixed and added Ghz output in QP_of. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5312 76a4dfbf-5f1f-0410-a543-a0282073b526

- Radiative lifetimes implemented with q=G=0 condition. theta function
  moved in mod_functions. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5311 76a4dfbf-5f1f-0410-a543-a0282073b526

- Succesfully merged with trunk. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5305 76a4dfbf-5f1f-0410-a543-a0282073b526

- Readme updated. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5304 76a4dfbf-5f1f-0410-a543-a0282073b526

- QED_Sigma_c restored to previous procedure. Double grid structure
  removed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5295 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug fix in reporting of arbitrary number of fields in output file.
  [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5276 76a4dfbf-5f1f-0410-a543-a0282073b526

- Started the DbGd implementation into QED sigma_c. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5272 76a4dfbf-5f1f-0410-a543-a0282073b526

- Global Copyright year range update. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5317 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  configure include/version.inc config/configure.ac ypp/bits/WF_map_perturbative_SOC.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [ypp] Mapping of SOC WFs immprove

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5310 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc pol_function/X_eh_setup.F

  Bugs:
  - [yambo] recent bug fix in 3.4
            (i.e. poles with almost zero energy neglected only if iq==1)
            applyed to lines recently in trunk devel with last bug-fix
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5301 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc pol_function/X_eh_setup.F

  Bugs:
  - Fixed bug introduced after incorrect merge from my branch to the trunk
    (commit 4611 on 2015-07-20)
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5297 76a4dfbf-5f1f-0410-a543-a0282073b526

- Trunk_devel_tmp moved to trunk. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5294 76a4dfbf-5f1f-0410-a543-a0282073b526

- Trunk/devel temporarly moved to trunk_devel_tmp. Other trunks deleted.
  [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk_devel_tmp@5293 76a4dfbf-5f1f-0410-a543-a0282073b526

- Trunk old structure temporarly restored and commits after rev5276
  reverted. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@5292 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. Bug#239 and  #238 fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@5270 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc ypp/real_time_ypp/RT_X_LRR_real_field.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [ypp_rt] Fixed calcuation off-diagonal elements of the dielectric function
             To be tested against yambo_kerr

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@5261 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  devel/bse/K_solvers.F stable/sbin/yamboo.pl stable/bse/K_diagonalization.F stable/bse/K_driver.F stable/bse/K_solvers.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Fixed few GPL flags and defined _SC lines

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@5242 76a4dfbf-5f1f-0410-a543-a0282073b526

- Yamboo.pl scripts in stable updated to devel version. Removed
  distinction yamboo and yamboo_new. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@5238 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc pol_function/X_em1.F

  Bugs:
  - [yambo] call to IO_and_Messaging_switch moved back inside the loop
            otherwise code crashes
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@5236 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure driver/yambo.h include/version.inc collisions/.objects collisions/COLLISIONS_compose.F collisions/COLLISIONS_compose_rt.F collisions/COLLISIONS_compose_sc.F interface/init.F interface/init_load.F io/io_RT_components.F io/variables_RT.F modules/SET_defaults.F modules/mod_IO.F modules/mod_fields.F modules/mod_real_time.F parser/mod_itm.F pol_function/X_pre_setup.F real_time/RT_BGR.F real_time/RT_Collision.F real_time/RT_Ext_fields.F real_time/RT_Field_Commensurable_Frequencies.F real_time/RT_Fluence.F real_time/RT_Integrator.F real_time/RT_Lifetimes_evaluation_plan.F real_time/RT_apply_RWA.F real_time/RT_current_AND_polarization.F real_time/RT_driver.F real_time/RT_initialize.F real_time/RT_propagate_fields.F real_time_control/RT_apply.F real_time_control/RT_output.F sc/SC_add_XC.F wf_and_fft/scatter_Gamp.F ypp/init_ypp/ypp_init.F ypp/real_time_ypp/RT_IO_J_and_P_paths.F ypp/real_time_ypp/RT_X_LRR_real_field.F ypp/real_time_ypp/RT_X_effective.F ypp/real_time_ypp/RT_X_inversion.F ypp/real_time_ypp/RT_X_qssin.F ypp/real_time_ypp/RT_driver.F ypp/real_time_ypp/RT_dump_and_write_JP.F ypp/real_time_ypp/RT_initialize.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Partial merge with devel-davide:
    [yambo_rt]
     * negf simulations can now be done with a generic number of pulses (up to 4) and the pulses
       can be either linearly or circularly polarized. The input variables changed name.
     * COLLISIONS_compose split in two subroutins for _rt and _sc. Indeed the two are quite different.
       - different input variable size and number,
       - different parallelization strategy,
       - in the _rt version the double grid is implemented,
       - in the _sc part the COHSEX self-energy is computed, in the _rt version only the SEX part is computed.
     * definition of fields in mod_fields extended to include circularly polarized pulses.
       Also the small_a subroutine has been split in small_a and small_a_frequency
     * RT_BGR is presently to be fixed.
     * Fixed integration with induced fields. Now it works correctly
    [ypp_rt]
     * The epsilon and eels are computed along E and in the perpenducular directions. This means
       also the Kerr effect can now be obtained via ypp_rt and potentially the NEQ-Kerr. [To be tested]
     * Post processing of the polarization improved. Finally the absorption is exactly on top of the BSE
       (provided the same smearing is used) also when the polarization is not written in output at each
       time-step

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@5232 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc collisions/COLLISIONS_Fock.F collisions/COLLISIONS_NEQ_GW_static.F collisions/COLLISIONS_eval.F collisions/COLLISIONS_linearize_and_IO.F collisions/COLLISIONS_momentum.F collisions/COLLISIONS_sex.F pol_function/X_em1.F

  Bugs:
  - [yambo & yambo_rt] fixed three nasty bugs in parallel IO
    1) definition of Xdb ID in X_em1. Master writes, then all CPUs read to know the ID
    2) definition of COLL_ID in COLLISIONS_linearize_and_IO. Master writes, then all CPUs read to know the ID
    3) When collisions IO is done in parallel only HEAD_QP_cpu writes the DBs

  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@5231 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc modules/SET_defaults.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Removed duplicate of COLLISIONS_cutoff default.

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@5228 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc modules/mod_parallel.F pol_function/X_em1.F

  Bugs:
  - [BUG #238] Bug fixed. Now fragment index of ndb.em1s file always correspond to iq index
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@5209 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  devel/bse/K_Haydock.F stable/bse/K_Haydock.F

  Bugs:
  - [yambo] (stable) fixed GPL_EXLUDE flag in K_Haydock
  - [yambo] (stable and devel) fixed call to ioBSS_Haydock
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@5198 76a4dfbf-5f1f-0410-a543-a0282073b526

- Updated .objects_gpl in ypp/electrons and config/Makefile.in_gpl.
  [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@5196 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc surf/.objects_gpl

  Bugs:
  -
  Additions:
  -
  Changes:
  - [yambo_surf] empty surf/.objects_gpl
                 yambo_surf is temporarly off in the GPL.

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@5195 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc modules/mod_fields.F real_time/RT_Ext_fields.F ypp/real_time_ypp/RT_X_LRR_real_field.F ypp/real_time_ypp/RT_initialize.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [yambo_rt] improved definition of theta function and derivatives
               for RK2 integrator in src/modules/mod_fields.F

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@5189 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc interface/init.F

  Bugs:
  - [yambo] Coupling in W_eh was never activated after recent change to BSE_mode definition,
            since activation of l_W_eh_cpl was still based on xc_coupling
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@5170 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc collisions/COLLISIONS_load.F io/io_COLLISIONS.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [yambo_rt] restored compatibility with old COLLISIONS DBs

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@5161 76a4dfbf-5f1f-0410-a543-a0282073b526

- Removed more svn:mergeinfo files which are not in the main folder.
  [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@5160 76a4dfbf-5f1f-0410-a543-a0282073b526

- Removed svn:mergeinfo files which are not in the main folder. [Davide
  Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@5159 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug #235 fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@5158 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@5153 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merging history manually imported up to revision 5032. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@5152 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc collisions/COLLISIONS_compose.F

  Bugs:
  - [yambo_rt] Fixed RT_Nk_ibz factor in COLLISIONS_compose.F with double grid
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@5141 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc collisions/COLLISIONS_compose.F real_time/RT_start_and_restart.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [yambo_rt] Recent fix of COLLISIONS_compose with double grid made more efficient

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@5136 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc collisions/COLLISIONS_compose.F

  Bugs:
  - [yambo_rt] Fixed bug in real-time with double grid [COLLISIONS_compose.F]
               Still to check if the division by TR_Nk_ibz is needed ...
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@5135 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Conor Hogan]

  *  config/acx_fortran_flags.m4 config/configure.ac config/netcdf_f90.m4 configure include/version.inc bse/K_Haydock.F common/Fermi_fnc_fit.F real_time/RT_impose_zero_dE_and_dN.F

  Bugs:
  - NETCDF.mod/TYPESIZES.mod generated by some compilers were not being copied to include
  - pgfortran default flags were those of gfortran
  Additions:
  - Added support for PGI compilers (on OS/X specifically) including pgfortran
  - Simple hack for isnan through a -D_PGI flag (needs to be passed explicitly)

  Patch sent by: Conor


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@5122 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Conor Hogan]

  *  configure include/version.inc common/Fermi_fnc_fit.F real_time/RT_impose_zero_dE_and_dN.F bse/K_Haydock.F config/configure.ac

  Additions:
  - isnan checks added for XLF via ieee_is_nan F2003 function

  Patch sent by: Conor


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@5118 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/Makefile.in config/configure.ac configure include/version.inc interpolate moved interpolate/.objects interpolate/bz_interp_coeff.F interpolate/bz_interp_setup.F interpolate/bz_interpolation.F interpolate/eval_interpolation_coeff.F interpolate/fourier_interpolation.F interpolate/grid_generator.F modules/.objects modules/.objects_gpl modules/SET_defaults.F modules/mod_interpolate.F moved ypp/init_ypp/ypp_init.F + moved ypp/modules_ypp/.objects + moved

  Bugs:
  -
  Additions:
  -
  Changes:
  - [ypp] interpolate folder, which is used only by ypp, moved under ypp folder.
          Same for mod_interpolate. config/Makefile.in updated accordingly
   *warning* config/Makefile.in_gpl is presently broken. It has not been adapted to the
   new ypp structure

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@5112 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc p2y/qexml_v4.0.F

  Bugs:
  - [p2y] fixed bug for psps V1 without non local components
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@5096 76a4dfbf-5f1f-0410-a543-a0282073b526

- Added support for ifort 16. [Conor Hogan]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@5091 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K_WF_phases.F parallel/PARALLEL_WF_index.F parallel/PARALLEL_minimal_index_from_overlaping.F qp/XCo_local.F sc/SC_bare_Hamiltonian.F xc_functionals/el_density_and_current.F xc_functionals/el_density_matrix.F xc_functionals/el_magnetization.F ypp/real_time_ypp/RT_X_LRR_real_field.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [yambo] commits 5068 and 5066 reverted

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@5081 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K.F

  Bugs:
  - [bug 228] fixed wrong symmetrization of coupling matrix in K.F
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@5079 76a4dfbf-5f1f-0410-a543-a0282073b526

- Erased all svn:mergeinfo file in subforlders. Ony the mergeinfo in the
  main fodlder remains. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@5075 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc qp/XCo_local.F

  Bugs:
  - Fixed error in previous commit
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@5068 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K_WF_phases.F parallel/PARALLEL_WF_index.F parallel/PARALLEL_minimal_index_from_overlaping.F qp/XCo_local.F sc/SC_bare_Hamiltonian.F xc_functionals/el_density_and_current.F xc_functionals/el_density_matrix.F xc_functionals/el_magnetization.F

  Bugs:
  - [bug 231] Fix released. Likely to be improved or finalized in the future
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@5067 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  . config/configure.ac configure driver/ypp_driver.F include/version.inc interpolate/bz_interp_setup.F ypp/electrons/.objects ypp/electrons/electrons_bands.F + ypp/electrons/electrons_dos.F ypp/electrons/electrons_driver.F ypp/modules_ypp/mod_YPP.F ypp/real_time_ypp/.objects ypp/real_time_ypp/RT_driver.F + + ypp/real_time_ypp/RT_occupations_analyze.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [ypp & ypp_rt] merged with devel davide. Bands interpolation restored.

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@5061 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc modules/mod_vec_operate.F

  Bugs:
  - [yambo] fixed bug which was making fail test 05_rx_greenfunc in LiF/GW
            if code was compiled with bound checks
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@5056 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc common/FREQUENCIES_setup.F io/io_RT_components.F + linear_algebra/MATRIX_driver.F linear_algebra/SLK_test.F linear_algebra/SLK_test_util.F modules/mod_fields.F modules/mod_wrapper_omp.F parallel parallel/PARALLEL_WF_distribute.F parallel/PARALLEL_WF_index.F parallel/PARALLEL_minimal_index_from_overlaping.F real_time/RT_Collision.F real_time/RT_apply_field.F real_time_control/.objects real_time_control/RT_apply.F real_time_control/RT_carriers_object.F real_time_control/RT_databases_IO.F + real_time_control/RT_output.F sc/SC_driver.F setup/External_corrections.F setup/setup.F wf_and_fft/.objects wf_and_fft/WF_load.F wf_and_fft/scatter_Bamp.F ypp/init_ypp/ypp_init.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - merged with devel davide.
    Partial merge to correctly import the fixes I did in ypp_rt
    In particular, from the last commit, the changes to RT_apply and
    the addition of RT_interpolation were missing.

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@5055 76a4dfbf-5f1f-0410-a543-a0282073b526

- Removed src/common mergeinfo which was causing problems. [Davide
  Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@5053 76a4dfbf-5f1f-0410-a543-a0282073b526

- Svn:mergeinfo deleted from subfolders. Kept only the one in the main
  path. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@5033 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  . config/configure.ac configure driver/ypp.h driver/ypp_driver.F include/version.inc lib lib/fftqe/.objects lib/fftqe/c_defs.h.in lib/fftqe/fft_errore.F lib/fftqe/fft_hpsort.F lib/fftqe/fft_setmap.F lib/fftqe/fft_stick.c lib/fftqe/fftqe_defs.h.in lib/fftqe/fftw.h lib/fftqe/fftw2.c lib/fftqe/konst.h lib/fftqe/mod_fft_aux.F lib/fftqe/mod_fft_base.F lib/fftqe/mod_fft_interfaces.F lib/fftqe/mod_fft_parallel.F lib/fftqe/mod_fft_scalar.F lib/fftqe/mod_fft_types.F lib/fftqe/mod_stick_base.F lib/fftqe/mod_stick_set.F ypp/electrons/.objects + + ypp/electrons/electrons_dos_and_charge.F ypp/electrons/electrons_driver.F ypp/elph/ELPH_excitonic_gkkp.F ypp/elph/ELPH_general_gFsq.F ypp/excitons/.objects + + ypp/excitons/excitons_collinear.F ypp/excitons/excitons_driver.F + ypp/excitons/excitons_non_collinear.F ypp/excitons/excitons_sort_and_report.F + ypp/init_ypp/ypp_init.F ypp/init_ypp/ypp_init_load.F ypp/modules_ypp/mod_YPP.F ypp/real_time_ypp/.objects ypp/real_time_ypp/RT_driver.F + + + ypp/real_time_ypp/RT_occupations_FIT_and_plot.F ypp/real_time_ypp/RT_occupations_analyze.F

  Bugs:
  -
  Additions:
  -
  Changes:
    [ypp] merged with devel davide
  - [ypp] excitons_driver "modularized"
  - [ypp & yp_rt] electrons_dos_and_charge split in: electrons_dos, electrons_density, RT_occ_2D_dos_plot
  - [ypp_rt] restored ypp_rt post processing  features which where broken
  - [yambo_rt] Fermi function fit upgraded (it is called by ypp_rt). As a consequence I've upgraded
               also the two subroutines which call it in yambo_rt

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@5032 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Andrea Marini]

  *  . config/Makefile.in config/configure.ac configure doc driver/.objects driver/driver.c driver/yambo.h driver/yambo_driver.F + include/version.inc a2y c2y e2y int_modules lib lib/etsf_io lib/fftqe lib/fftqe/.objects lib/fftqe/c_defs.h.in lib/fftqe/fft_errore.F lib/fftqe/fft_hpsort.F lib/fftqe/fft_setmap.F lib/fftqe/fft_stick.c lib/fftqe/fftqe_defs.h.in lib/fftqe/fftw.h lib/fftqe/fftw2.c lib/fftqe/konst.h lib/fftqe/mod_fft_aux.F lib/fftqe/mod_fft_base.F lib/fftqe/mod_fft_interfaces.F lib/fftqe/mod_fft_parallel.F lib/fftqe/mod_fft_scalar.F lib/fftqe/mod_fft_types.F lib/fftqe/mod_stick_base.F lib/fftqe/mod_stick_set.F lib/install lib/iotk lib/libxc lib/local lib/netcdf sbin/make_makefile.sh.in acfdt bz_ops collisions collisions/.objects collisions/COLLISIONS_Fock.F collisions/COLLISIONS_QED_gw.F collisions/COLLISIONS_eval.F collisions/COLLISIONS_linearize_and_IO.F + collisions/COLLISIONS_sex.F collisions/PLASMA_build_up.F collisions/PLASMA_parallel_setup.F collisions/PLASMA_tables_and_dimensions.F common communicate coulomb external_c interface interface/init.F interface/init_barriers.F interface/init_load.F interpolate io linear_algebra linear_algebra/SLK_test.F linear_algebra/SLK_test_util.F modules modules/mod_X_output.F modules/mod_drivers.F modules/mod_global_XC.F parallel parser pol_function pol_function/DIPOLE_kb_Ylm.F qp qp_control real_time real_time/RT_initialize.F real_time_control real_time_control/RT_databases_IO.F sc setup stop_and_restart surf surf_modules tddft wf_and_fft wf_and_fft/scatter_Bamp_using_the_gradient.F xc_functionals ydb ydb/ydb_i.F ypp/.objects ypp/.objects_gpl ypp/ELPH_atomic_amplitude.F ypp/ELPH_databases.F ypp/ELPH_eliashberg_dos.F ypp/ELPH_excitonic_gkkp.F ypp/ELPH_general_gFsq.F ypp/ELPH_gkkp_expand.F ypp/QP_DBs_initialize.F ypp/QP_DBs_merge.F ypp/QP_DBs_setup.F ypp/RT_1D_Fourier_Transform.F ypp/RT_IO_J_and_P.F ypp/RT_IO_J_and_P_paths.F ypp/RT_IO_check_Double_Grid.F ypp/RT_X_LRR_real_field.F ypp/RT_X_effective.F ypp/RT_X_inversion.F ypp/RT_X_qssin.F ypp/RT_coefficients_Fourier.F ypp/RT_coefficients_Inversion.F ypp/RT_damp_it.F ypp/RT_driver.F ypp/RT_dump_and_write_JP.F ypp/RT_initialize.F ypp/RT_occupations_FIT_and_plot.F ypp/RT_occupations_analyze.F ypp/RT_split_Polarization.F ypp/RT_transient_absorption.F ypp/WANNIER_driver.F ypp/WF_map_perturbative_SOC.F + ypp/bxsf_read.F ypp/double_k_grid.F + ypp/electrons_angular_momentum.F ypp/electrons_bands.F ypp/electrons_dos_and_charge.F ypp/electrons_driver.F ypp/electrons_position.F + + ypp/excitons_collinear.F ypp/excitons_driver.F ypp/excitons_non_collinear.F ypp/excitons_sort_and_report.F ypp/fix_PPs.F ypp/fix_SC_DBs.F ypp/fix_WFs_Gshells.F ypp/fix_WFs_and_E.F ypp/fix_symmetries.F + + ypp/k_DbGd_grid_consistency_check.F ypp/k_build_map.F ypp/k_grids.F ypp/k_map_fine_to_coarse.F ypp/k_random.F ypp/k_special.F ypp/mod_YPP.F + ypp/plot_and_project_1D.F ypp/plot_check_and_launch.F ypp/plot_cube.F ypp/plot_gnuplot.F ypp/plot_xcrysden.F + + + ypp/ras_loc_ypp.F ypp/ras_trans_ypp.F ypp/ras_ypp.F + ypp/reels_ypp.F + ypp/symmetries_driver.F ypp/ypp_i.F ypp/ypp_init.F ypp/ypp_init_load.F

  *** Merged with devel-andrea ***

  Changes:
  - Created brand new ypp subirectory structure and moved the ypp_driver into driver/
  - Created a new option (-s) for self-consistent calculation and moved the potential (-v) at the level
    of the kernel.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@5004 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/Makefile.in config/configure.ac configure include/version.inc sbin/yamboo.pl bse/K_IP.F bse/K_Transitions_setup.F bse/K_diag_compute_epsilon.F bse/K_diagonalization.F bse/K_kerr_IP.F bse/K_stored_in_a_BIG_matrix.F real_time/.objects real_time_control/.objects real_time_control/.objects_gpl surf/.objects surf_modules/.objects surf_modules/.objects_gpl moved + moved wf_and_fft/.objects_gpl ydb/.objects_gpl

  Bugs:
  -
  Additions:
  -
  Changes:
  - GPL: flags and objects updated
  - ydb moved to broken project

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4958 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc ypp/ypp_i.F

  Bugs:
  - [ypp_rt] fixed argouments given to RT_driver call (thanks Claudio)
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4954 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  devel/config/configure.ac devel/configure devel/include/version.inc devel/interpolate/bz_interp_setup.F devel/ypp/electrons_bands.F stable/config/configure.ac stable/configure stable/include/version.inc stable/interpolate/bz_interp_setup.F

  Bugs:
  - [ypp] Fixed bug 219 both in trunk stable and in trunk devel

  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4952 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc modules/mod_wrapper_omp.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [yambo] still related to bug 213. AndreaF created gemm_omp subroutine
            The implementation now should be much more efficient

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4947 76a4dfbf-5f1f-0410-a543-a0282073b526

- Zgemm_omp routines added. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4944 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc modules/mod_wrapper_omp.F

  Bugs:
  - [bug 213] Bug fixed, however in a non efficient way.
              Best solution would be to define gemm_omp subroutines
              as for the gemv_omp case

  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4941 76a4dfbf-5f1f-0410-a543-a0282073b526

- Src/bz_ops/.objects_gpl restored. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4937 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  devel/config/configure.ac devel/configure devel/include/version.inc devel/bse/K_Transitions_setup.F devel/io/io_DB1.F stable/config/configure.ac stable/configure stable/include/version.inc stable/p2y/qexml_v4.0.F

  Bugs:
  - [p2y (stable)] bug fix imported from trunk devel (from Andrea F)
  - [yambo (devel)] code did not compile due to wrong definitio of
                    menu_is_closed inside io_DB1.F (integer instead of logical)
  Additions:
  -
  Changes:
  - [yambo] inserted GPL_EXCLUDE_FLAG inside K_Transitions_setup

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4936 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure driver/ypp.h_gpl include/version.inc common/.objects_gpl parallel/.objects pol_function/.objects_gpl wf_and_fft/.objects_gpl ypp/.objects_gpl

  Bugs:
  -
  Additions:
  -
  Changes:
  - Removed from .objects_gpl files sources which are not GPL
  - _SURF liner restored in driver/ypp.h_gpl

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4935 76a4dfbf-5f1f-0410-a543-a0282073b526

- Updated GPL-related objects. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4934 76a4dfbf-5f1f-0410-a543-a0282073b526

- Devel-andrea synced with devel-trunk and new structure for QED
  collisions added. Devel-trunk synced with devel-andrea. [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4932 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc real_time_control/RT_apply.F

  Bugs:
  - [yambo_rt] Fixed RT_apply in case input variable is not properly defined with < and @
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4929 76a4dfbf-5f1f-0410-a543-a0282073b526

- Further consistency fixes. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4923 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  devel/p2y/qexml_v4.0.F stable/p2y/qexml_v4.0.F

  Bugs:
  - [p2y] Definition of ngauss, degauss and degauss_units fixed
          also in trunk stable
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4921 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc p2y/pw_struct_module.F

  Bugs:
  - [p2y] a, b, a_omega, b_omega are now defined in double precision
          when yambo is compiled in DP (patch from Claudio)
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4919 76a4dfbf-5f1f-0410-a543-a0282073b526

- Nasty print command removed from netcdf library. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4918 76a4dfbf-5f1f-0410-a543-a0282073b526

- Ifort -C showed some consistency errors in p2y. fixed. [Andrea
  Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4917 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc io/io_E_SOC_map.F ypp/WF_map_perturbative_SOC.F ypp/mod_YPP.F ypp/ypp_init.F ypp/ypp_init_load.F

  Bugs:
  - [ypp] Perturbative soc mapping improved.
          Before it was still working only in simplified situations.
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4910 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc real_time_control/RT_observables.F

  Bugs:
  - [yambo_rt] Fixed kinetic energy computation
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4895 76a4dfbf-5f1f-0410-a543-a0282073b526

- Openmpi problem fixed by resorting to the MPI-standard variable
  MPI_COMM_NULL. Variables related to enable-openmpi removed from
  configure. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4886 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  modules/mod_vec_operate.F ypp/WF_map_perturbative_SOC.F ypp/mod_YPP.F ypp/ypp_init.F ypp/ypp_init_load.F

  Bugs:
  - [ypp] SOC mapping fixed
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4876 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  devel/config/configure.ac devel/configure devel/include/version.inc devel/ypp/QP_DBs_initialize.F devel/ypp/QP_DBs_setup.F stable/config/configure.ac stable/configure stable/include/version.inc stable/ypp/QP_DBs_initialize.F stable/ypp/QP_DBs_setup.F

  Bugs:
  - [ypp] Fixed bug 153 bot in trunk stable and in trunk devel
          QP corrections are always the same for both spin channel
          Extension to different QP corrections requires many changes in the code.
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4869 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc p2y/qexml_v4.0.F bse/K_Haydock.F

  Bugs:
  -[p2y] bug 203 in the tracker fixed. It was affecting the non local part
         of pseudo-potentials of version 1 due to an error in qexml_v4.0.F

  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4867 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc common/FREQUENCIES_setup.F pol_function/DIPOLE_kb_Ylm.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - GPL_EXCLUDE flags inserted in common/FREQUENCIES_setup.F
  - _SP, cZERO inserted and exponents changed from real numbers to integers

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4856 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K_Haydock.F

  Bugs:
  - Fixed GPL_EXCLUDE flags which where causing Haydock to fail in the branch gpl

  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4852 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K_dot_product.F modules/mod_BS.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - dot_product in bse/K_dot_product is done using Vstar_dot_V_omp

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4850 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  devel/config/configure.ac devel/configure devel/include/version.inc devel/bse/K_Haydock.F devel/bse/K_dot_product.F devel/bse/K_multiply_by_V.F devel/modules/mod_interfaces.F stable/config/configure.ac stable/configure stable/include/version.inc stable/bse/K_BSmat_by_V.F stable/bse/K_Haydock.F stable/common/pert_inversion.F stable/modules/mod_BS.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [yambo] K_multiply_by_V and K_dot_product moved outside mod_interfaces
  - [yambo] K_BSmat_by_V
   These two changes do not have any particular impact on the trunk.
   However they solve the fail of test LiF/OPTICS for the branch/gpl/devel extracted from the trunk.
   To verify if it is so also for the branch/gpl/stable
   Unfortunately the bug in branch/gpl/devel was "hiding" if I tryed to put some write(*,*) in K_Haydock.F
   It is possible that there is a bug was somewhere else ... (?)


  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4840 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K_output_file.F pol_function/O_eels.F

  Bugs:
  - [yambo] fixed definition of ordering in K_output file which is used to compute the eels
            Some reference files for the eels in the test-suite need to be updated
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4823 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bz_ops/k_map_nearest_by_dir.F io/io_Overlaps.F pol_function/Build_Overlaps_Det_EQ.F pol_function/DIPOLE_build_covariants.F pol_function/DIPOLE_overlaps.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Covariant dipoles implementation updated to second order [patch from Claudio]

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4812 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Myrta Gruning]

  *  AUTHORS real_time/RT_Ext_fields.F

  Bugs: real_time/RT_Ext_fields.F: A%vecpot_acc not correctly updated (found by Ryan)
  -
  Additions: Ryan added to active devel list
  -
  Changes:
  -


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4803 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc real_time_control/RT_average_operator.F

  Bugs:
  - [BUG#196] Bug fixed. RT_average_operator had to be updated after the changes in the dipoles IO
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4791 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc xc_functionals/el_magnetization.F

  Bugs:
  - [BUG#204] I did a work around to make ypp run in serial
              A definitive bug fix should probably involve the implementation
              of parallelization in ypp
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4790 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc modules/mod_IO.F

  Bugs:
  - Forgot to import also modules/mod_IO.F from devel-andrea for the previous bug fix
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4788 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc io/io_QP_and_GF.F io/io_RT_components.F modules/mod_com.F

  Bugs:
  - bug fix to [yambo-devel Bugs Item #190] imported from devel-andrea and extended
    also to io/io_RT_components.F (bug fixes should be released in the trunk)

  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4787 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc pol_function/Build_Overlaps_Det_EQ.F pol_function/DIPOLE_build_covariants.F pol_function/DIPOLE_overlaps.F setup/build_spin_sop.F wf_and_fft/WF_shift_kpoint.F wf_and_fft/WF_symm_kpoint.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Covariant dipoles now works also with n_spinor=2
    To find a magnetic system with gap to test the case n_sp_pol=2

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4785 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc wf_and_fft/WF_shift_kpoint.F wf_and_fft/WF_symm_kpoint.F

  Bugs:
  - Fixed covariant dipoles with symmetries [bug fix from Claudio]
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4783 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bz_ops/k_map_nearest_by_dir.F interface/init.F modules/SET_defaults.F modules/mod_Overlaps.F modules/mod_R_lattice.F pol_function/.objects pol_function/Build_Overlaps_Det.F moved + moved pol_function/DIPOLE_build_covariants.F pol_function/DIPOLE_overlaps.F wf_and_fft/.objects wf_and_fft/WF_shift_by_G.F wf_and_fft/WF_shift_kpoint.F wf_and_fft/WF_symm_kpoint.F ypp/fix_WFs_and_E.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Dipoles covariant implementation extended to work also with grids outside the [0,1) BZ
    and with symmetries. The first case works nicely. In the second case I still have few problems.
    To be checked. [Thanks to Claudio for the patch. I did just few changes.]

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4782 76a4dfbf-5f1f-0410-a543-a0282073b526

- Missing parallelism (breaking V_xc for nspin=2 and b-parallization for
  self-energy environment) was re-introduced according to
  el_density_and-current.F. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4774 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure driver/yambo_driver.F include/version.inc bse/K_output_file.F collisions/COLLISIONS_NEQ_GW_static.F parallel/PARALLEL_Haydock_VEC_COMMs.F qp/QP_W2Sc.F qp/QP_newton.F qp/QP_real_axis.F

  Bugs:
  - Fixed compilation of parallel/PARALLEL_Haydock_VEC_COMMs.F in serial (--without-mpi-libs)
  - Fixed timing call in collisions/COLLISIONS_NEQ_GW_static.F
  - Allocation error in qp/QP_real_axis.F for GnWo fixed. However GnWo is still broken
    (see related bug in the tracker)
  Additions:
  -
  Changes:
  - Output of diamagnetic term only inside _KERR project
  - More cI and _SP in qp/QP_W2Sc.F and qp/QP_newton.F


  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4768 76a4dfbf-5f1f-0410-a543-a0282073b526

- Serial compilation fixed. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4767 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc lib lib/fftqe/.objects lib/fftqe/c_defs.h.in lib/fftqe/fft_errore.F lib/fftqe/fft_hpsort.F lib/fftqe/fft_setmap.F lib/fftqe/fft_stick.c lib/fftqe/fftqe_defs.h.in lib/fftqe/fftw.h lib/fftqe/fftw2.c lib/fftqe/konst.h lib/fftqe/mod_fft_aux.F lib/fftqe/mod_fft_base.F lib/fftqe/mod_fft_interfaces.F lib/fftqe/mod_fft_parallel.F lib/fftqe/mod_fft_scalar.F lib/fftqe/mod_fft_types.F lib/fftqe/mod_stick_base.F lib/fftqe/mod_stick_set.F common common/OCCUPATIONS_Fermi.F common/eval_G_minus_G.F linear_algebra/multi_worlds_scalapack/README.txt linear_algebra/multi_worlds_scalapack/constants.F linear_algebra/multi_worlds_scalapack/distools.F linear_algebra/multi_worlds_scalapack/error.F linear_algebra/multi_worlds_scalapack/kind.F linear_algebra/multi_worlds_scalapack/make.sys linear_algebra/multi_worlds_scalapack/make_file linear_algebra/multi_worlds_scalapack/mp_global.F linear_algebra/multi_worlds_scalapack/mytest.F linear_algebra/multi_worlds_scalapack/para.F linear_algebra/multi_worlds_scalapack/util.F modules/SET_defaults.F parallel pol_function/X_os.F qp/QP_driver.F qp/QP_newton.F qp/QP_ppa_cohsex.F qp/QP_real_axis.F qp_control/Nearest_kpt_interpolation.F real_time_control/RT_carriers_object.F real_time_control/RT_databases_IO.F real_time_control/RT_observables.F ypp/k_map_fine_to_coarse.F

   Merged with devel davide

  Bugs:
  - src/qp_control/Nearest_kpt_interpolation.F:
      Fixed interpolation from carriers grid generated
      from a ral-time run with the double grid and other grids.
  - ypp/k_map_fine_to_coarse.F:
      if l_skip_check is true call warning otherwise error, not the reverse
  Additions:
  -
  Changes:
  - Many _SP, cZERO, cI, etc ... inserted to have the proper
       lines when code is compiled in double precisio

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4762 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/Makefile.in_gpl config/configure.ac configure include/version.inc bse/.objects_gpl bse/K_Haydock.F bse/K_IP.F bse/K_diag_compute_epsilon.F interface/init.F io/.objects_gpl pol_function/.objects_gpl ypp/.objects_gpl ypp/ypp_i.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Fixed GPL flags object files etc.
    For the moment I've removed the SURF project from the devel. It should be easy to put it back in.

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4751 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K_blocks.F modules/mod_interfaces.F parallel/PARALLEL_live_message.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - live message for BSE matrix elements uses real numbers in exponential form

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4747 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc io/io_Double_Grid.F ypp/k_map_fine_to_coarse.F

  Bugs:
  - [ypp] fixed bug in double grid mapping kpts when grid is *not* symmetry expanded
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4741 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K_blocks.F modules/mod_BS.F parallel/PARALLEL_Transitions_grouping.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Fixed wrong merge with devel-davide

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4737 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc lib lib/fftqe/.objects lib/fftqe/c_defs.h.in lib/fftqe/fft_errore.F lib/fftqe/fft_hpsort.F lib/fftqe/fft_setmap.F lib/fftqe/fft_stick.c lib/fftqe/fftqe_defs.h.in lib/fftqe/fftw.h lib/fftqe/fftw2.c lib/fftqe/konst.h lib/fftqe/mod_fft_aux.F lib/fftqe/mod_fft_base.F lib/fftqe/mod_fft_interfaces.F lib/fftqe/mod_fft_parallel.F lib/fftqe/mod_fft_scalar.F lib/fftqe/mod_fft_types.F lib/fftqe/mod_stick_base.F lib/fftqe/mod_stick_set.F bse/K.F bse/K_Haydock.F bse/K_Transitions_setup.F bse/K_WF_phases.F bse/K_blocks.F bse/K_correlation_collisions.F bse/K_stored_in_a_BIG_matrix.F common common/OCCUPATIONS_Fermi.F common/eval_G_minus_G.F interface/init.F io/io_Double_Grid.F linear_algebra/multi_worlds_scalapack/README.txt linear_algebra/multi_worlds_scalapack/constants.F linear_algebra/multi_worlds_scalapack/distools.F linear_algebra/multi_worlds_scalapack/error.F linear_algebra/multi_worlds_scalapack/kind.F linear_algebra/multi_worlds_scalapack/make.sys linear_algebra/multi_worlds_scalapack/make_file linear_algebra/multi_worlds_scalapack/mp_global.F linear_algebra/multi_worlds_scalapack/mytest.F linear_algebra/multi_worlds_scalapack/para.F linear_algebra/multi_worlds_scalapack/util.F modules/SET_defaults.F modules/mod_BS.F modules/mod_FFT.F modules/mod_IO.F modules/mod_X.F modules/mod_electrons.F modules/mod_memory.F modules/mod_parallel.F modules/mod_pars.F modules/mod_units.F modules/mod_wrapper_omp.F parallel parallel/PARALLEL_Transitions_grouping.F parallel/PARALLEL_get_user_structure.F parallel/PARALLEL_global_indexes.F pol_function/X_bare_Double_Grid_GreenF.F pol_function/X_em1.F qp_control/QP_apply.F real_time_control/RT_databases_IO.F sc/OEP_ApplySigmaCSX.F sc/OEP_ApplySigmaX.F sc/OEP_Hole.F sc/OEP_Weighted_Density.F sc/OEP_app_inversion.F sc/OEP_iterative.F wf_and_fft/WF_apply_symm.F wf_and_fft/WF_symm.F wf_and_fft/fft_setup.F xc_functionals/el_density_and_current.F xc_functionals/el_density_matrix.F xc_functionals/el_magnetization.F xc_functionals/el_magnetization_matrix.F ypp/bxsf_read.F ypp/double_k_grid.F ypp/electrons_dos_and_charge.F ypp/k_map_fine_to_coarse.F

  Bugs:
  -
  Additions:
  -
  Changes:
  *** Merged with devel-davide ***
  - Furthere improvment on BSE parallelization
  - Transposition of fft_rot_r implemented by Fabio made the default
  - DbGd now has the ibz index and the bz index (elements (:,:,1)  and (:,:,2) of the table
  - mod_IO reverted to previous version
  - integrating_over_q logical created which controls the use of the DbGd in a consistent way at q=0 and at q/=0

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4731 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc modules/SET_logicals.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - n_CPUs_log fixed in a simple way

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4712 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc modules/SET_logicals.F

  Bugs:
  - [write_to_log>0] If write_to_log is set > 0 only one CPU writes to the log file
                     This is not fully equivalent to what was done before. Only
                     1 log file or nCPU log files are possible at the moment.
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4711 76a4dfbf-5f1f-0410-a543-a0282073b526

- Typo. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4704 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc modules/mod_X.F pol_function/X_os.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [yambo_rt] removed logical computing_Xo_variation erroneously imported from my branch

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4698 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Andrea Marini]

  *  . config/Makefile.in config/configure.ac configure include/version.inc lib lib/fftqe/.objects lib/fftqe/c_defs.h.in lib/fftqe/fft_errore.F lib/fftqe/fft_hpsort.F lib/fftqe/fft_setmap.F lib/fftqe/fft_stick.c lib/fftqe/fftqe_defs.h.in lib/fftqe/fftw.h lib/fftqe/fftw2.c lib/fftqe/konst.h lib/fftqe/mod_fft_aux.F lib/fftqe/mod_fft_base.F lib/fftqe/mod_fft_interfaces.F lib/fftqe/mod_fft_parallel.F lib/fftqe/mod_fft_scalar.F lib/fftqe/mod_fft_types.F lib/fftqe/mod_stick_base.F lib/fftqe/mod_stick_set.F bse/K_IP.F bz_ops/bz_samp_indexes.F collisions/.objects collisions/COLLISIONS_Fock.F collisions/COLLISIONS_eval.F collisions/COLLISIONS_linearize_and_IO.F collisions/COLLISIONS_sex.F collisions/PLASMA_build_up.F collisions/PLASMA_parallel_setup.F collisions/PLASMA_tables_and_dimensions.F common common/.objects common/FREQUENCIES_set_iw_ref.F + interface/init.F io/io_COLLISIONS.F linear_algebra/multi_worlds_scalapack/README.txt linear_algebra/multi_worlds_scalapack/constants.F linear_algebra/multi_worlds_scalapack/distools.F linear_algebra/multi_worlds_scalapack/error.F linear_algebra/multi_worlds_scalapack/kind.F linear_algebra/multi_worlds_scalapack/make.sys linear_algebra/multi_worlds_scalapack/make_file linear_algebra/multi_worlds_scalapack/mp_global.F linear_algebra/multi_worlds_scalapack/mytest.F linear_algebra/multi_worlds_scalapack/para.F linear_algebra/multi_worlds_scalapack/util.F modules/mod_IO.F modules/mod_debug.F parallel parallel/.objects parallel/SET_dip_parallelization.F + pol_function/DIPOLE_shifted_grids.F pol_function/DIPOLE_transverse.F pol_function/DIPOLE_x_real_space.F pol_function/X_os.F real_time/RT_ELPH_initialize.F real_time/RT_Integrator.F real_time/RT_initialize.F real_time/RT_start_and_restart.F real_time_control/RT_databases_IO.F surf/Dipole_driver_cut.F wf_and_fft/load_cc.F ypp/ELPH_databases.F

  Merged with devel-andrea

  Bugs:
  - Fixed wrong re-calculation of PPA screened interaction when a non default value of %ppaE is used (bug spotted by MP).
  - Re-added use of plain fortran for type -2 databases to be used in e-p db's setup.
  - Check on revision done BEFORE io_header call in io_COLLISIONS

  Additions:
  - Check on bands when loading the e-p databases for RT calculation.
  - Check on allocation of QP widths in the case of relaxation calculations.

  Changes:
  - debug module changed a little bit.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4696 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc int_modules/mod_xc2y.F lib lib/fftqe/.objects lib/fftqe/c_defs.h.in lib/fftqe/fft_errore.F lib/fftqe/fft_hpsort.F lib/fftqe/fft_setmap.F lib/fftqe/fft_stick.c lib/fftqe/fftqe_defs.h.in lib/fftqe/fftw.h lib/fftqe/fftw2.c lib/fftqe/konst.h lib/fftqe/mod_fft_aux.F lib/fftqe/mod_fft_base.F lib/fftqe/mod_fft_interfaces.F lib/fftqe/mod_fft_parallel.F lib/fftqe/mod_fft_scalar.F lib/fftqe/mod_fft_types.F lib/fftqe/mod_stick_base.F lib/fftqe/mod_stick_set.F bse/K.F bse/K_Haydock.F bse/K_IP.F bse/K_Transitions_setup.F bse/K_blocks.F bse/K_correlation_collisions.F bse/K_dot_product.F bse/K_driver.F bse/K_exchange_collisions.F bse/K_kerr_IP.F bse/K_multiply_by_V.F bse/K_output_file.F common common/FREQUENCIES_coarse_grid.F common/FREQUENCIES_set_iw_ref.F common/FREQUENCIES_setup.F common/Fermi_fnc_fit.F communicate/section.F coulomb/cutoff_box.F coulomb/cutoff_sphere.F interface/.objects interface/init.F interface/init_QP_ctl_load.F + + interface/init_load.F io/io_BS.F io/io_BSS_diago.F io/io_DIPOLES.F io/io_Overlaps.F io/io_Vnl.F io/variables_DIPOLES.F io/variables_X.F linear_algebra/multi_worlds_scalapack/README.txt linear_algebra/multi_worlds_scalapack/constants.F linear_algebra/multi_worlds_scalapack/distools.F linear_algebra/multi_worlds_scalapack/error.F linear_algebra/multi_worlds_scalapack/kind.F linear_algebra/multi_worlds_scalapack/make.sys linear_algebra/multi_worlds_scalapack/make_file linear_algebra/multi_worlds_scalapack/mp_global.F linear_algebra/multi_worlds_scalapack/mytest.F linear_algebra/multi_worlds_scalapack/para.F linear_algebra/multi_worlds_scalapack/util.F modules/SET_defaults.F modules/SET_logicals.F modules/mod_BS.F modules/mod_KERR.F modules/mod_X.F modules/mod_com.F modules/mod_electrons.F modules/mod_frequency.F modules/mod_interfaces.F modules/mod_matrix_operate.F modules/mod_parallel.F modules/mod_real_time.F modules/mod_stderr.F parallel parallel/.objects parallel/PARALLEL_Haydock_VEC_COMMs.F parallel/PARALLEL_Transitions_grouping.F parallel/PARALLEL_assign_LIN_ALGEBRA_COMMs.F parallel/PARALLEL_assign_chains_and_COMMs.F parallel/PARALLEL_build_up_child_chains.F parallel/PARALLEL_clean_up_the_structure.F parallel/PARALLEL_defaults.F parallel/PARALLEL_get_user_structure.F parallel/PARALLEL_global_indexes.F parallel/PARALLEL_index.F parallel/PARALLEL_live_message.F parallel/PARALLEL_structure.F + parser/mod_itm.F pol_function/Build_Overlaps_Det.F pol_function/DIPOLE_build_covariants.F pol_function/DIPOLE_check_shifted_grids.F pol_function/DIPOLE_driver.F pol_function/DIPOLE_overlaps.F pol_function/DIPOLE_p_matrix_elements.F pol_function/DIPOLE_project_along_q.F pol_function/DIPOLE_shifted_grids.F pol_function/DIPOLE_transverse.F pol_function/DIPOLE_x_real_space.F pol_function/X_os.F pol_function/X_os_residuals.F qp/ELPH_Sigma_c.F qp/QP_W2Sc.F qp/QP_of.F qp/QP_report_and_write.F qp/XCo_Hartree_Fock.F qp_control/QP_apply.F real_time_control/RT_apply.F real_time_control/RT_databases_IO.F setup/External_corrections.F setup/PARALLEL_and_IO_Setup.F surf/Dipole_driver_cut.F surf/Dipole_transverse_cut.F surf/Surface_driver.F wf_and_fft/WF_alloc.F wf_and_fft/WF_derivative.F wf_and_fft/WF_load.F xc_functionals/XC_libxc_driver.F ypp/QP_DBs_merge.F ypp/k_grids.F ypp/k_map_fine_to_coarse.F

  Bugs:
  [interfaces] Fixed string length in mod_xc2y.F
  Additions:
  -
  Changes:
  **** MERGED WITH devel-davide *****
  [yambo]
  1) Parallelization generalized to arbitrary number of processor
  2) BSE parallelization improved and ant-scaling behavior erased
  3) Reorganization of dipoles going on
  4) Implementation of velocity gauge in BSE improved. Velocity gauge removed from G-space approach
  5) Option tu use damping as in PRB 82, 035104 (2010): w=sqrt(Re[w]*(Re[w]+2*i*Im[w])) coded
  [yambo_rt]
  6) init_RT_ctl_load.F init_RT_ctl_switch.F files created and code removed fom init_QP_ctl_load.o init_QP_ctl_switch.F
     to avoid problems with

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4692 76a4dfbf-5f1f-0410-a543-a0282073b526

- PZ functional permitted (fix by Myrta Gruening). [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4688 76a4dfbf-5f1f-0410-a543-a0282073b526

- Typos fixed. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4687 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc common/FREQUENCIES_coarse_grid.F pol_function/X_os.F

  Bugs:
  - [yambo] Fixed out_of bounds appearing in case, in the X_os parallel distribution,
            some of the CPUs do not have any pole (imported from devel-davide)
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4685 76a4dfbf-5f1f-0410-a543-a0282073b526

- Typo. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4644 76a4dfbf-5f1f-0410-a543-a0282073b526

- Compilation fixed. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4633 76a4dfbf-5f1f-0410-a543-a0282073b526

- OPNEMP -> OPENMP: some functionalities may have been corrupted.
  [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4632 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc interface/init.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Fixed input file creation

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4621 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc ypp/WF_map_perturbative_SOC.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [ypp] WF_map_perturbative_SOC, mapping treshold is now dynamic

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4617 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  . config/configure.ac configure driver/ypp.h include/version.inc int_modules/mod_com2y.F lib lib/fftqe/.objects lib/fftqe/c_defs.h.in lib/fftqe/fft_errore.F lib/fftqe/fft_hpsort.F lib/fftqe/fft_setmap.F lib/fftqe/fft_stick.c lib/fftqe/fftqe_defs.h.in lib/fftqe/fftw.h lib/fftqe/fftw2.c lib/fftqe/konst.h lib/fftqe/mod_fft_aux.F lib/fftqe/mod_fft_base.F lib/fftqe/mod_fft_interfaces.F lib/fftqe/mod_fft_parallel.F lib/fftqe/mod_fft_scalar.F lib/fftqe/mod_fft_types.F lib/fftqe/mod_stick_base.F lib/fftqe/mod_stick_set.F bse/.objects bse/K.F bse/K_IP.F bse/K_Transitions_setup.F + bse/K_diagonalization.F bse/K_driver.F bse/K_inversion.F bse/K_kerr_IP.F bse/K_stored_in_a_BIG_matrix.F bz_ops/bz_samp_indexes.F bz_ops/k_lattice.F bz_ops/k_map_nearest_by_dir.F bz_ops/k_the_nearest.F collisions/COLLISIONS_eval.F collisions/PLASMA_build_up.F collisions/PLASMA_parallel_setup.F collisions/PLASMA_tables_and_dimensions.F common common/.objects common/FREQUENCIES_damping.F + common/FREQUENCIES_setup.F common/G_index.F common/OCCUPATIONS_Fermi.F communicate/REPORT_Energies.F interface/init.F interface/init_load.F io/.objects + io/io_SC_components.F io/variables_DIPOLES.F linear_algebra/MATRIX_resolvant_via_exact_inversion.F linear_algebra/MATRIX_resolvant_via_perturbative_inversion.F linear_algebra/multi_worlds_scalapack/README.txt linear_algebra/multi_worlds_scalapack/constants.F linear_algebra/multi_worlds_scalapack/distools.F linear_algebra/multi_worlds_scalapack/error.F linear_algebra/multi_worlds_scalapack/kind.F linear_algebra/multi_worlds_scalapack/make.sys linear_algebra/multi_worlds_scalapack/make_file linear_algebra/multi_worlds_scalapack/mp_global.F linear_algebra/multi_worlds_scalapack/mytest.F linear_algebra/multi_worlds_scalapack/para.F linear_algebra/multi_worlds_scalapack/util.F modules/SET_defaults.F modules/mod_BS.F modules/mod_D_lattice.F modules/mod_FFT.F modules/mod_X.F modules/mod_electrons.F modules/mod_magnetic.F modules/mod_vec_operate.F parallel parser/mod_itm.F pol_function/.objects pol_function/DIPOLE_build_covariants.F pol_function/DIPOLE_check_shifted_grids.F pol_function/DIPOLE_driver.F pol_function/DIPOLE_kb_pwscf_comp.F pol_function/DIPOLE_kb_sum.F pol_function/DIPOLE_overlaps.F pol_function/DIPOLE_p_matrix_elements.F pol_function/DIPOLE_shifted_grids.F pol_function/DIPOLE_transverse.F + pol_function/O_driver.F pol_function/X_bare_Double_Grid_GreenF.F pol_function/X_drude.F pol_function/X_eh_setup.F pol_function/X_os.F + pol_function/X_pre_setup.F pol_function/X_s.F pol_function/X_simple_GreenF.F real_time_control/RT_apply.F real_time_control/RT_databases_IO.F sc/MAG_A_phase.F sc/MAG_common_build_A.F sc/MAG_pseudo_nl.F setup/G_shells_finder.F setup/setup.F surf/Dipole_driver_cut.F wf_and_fft/.objects wf_and_fft/WF_shift_by_G.F + xc_functionals/XC_libxc_driver.F xc_functionals/el_density_and_current.F ypp/.objects + ypp/electrons_driver.F ypp/k_grids.F ypp/k_map_fine_to_coarse.F ypp/k_random.F ypp/mod_YPP.F ypp/ypp_i.F ypp/ypp_init.F ypp/ypp_init_load.F

  Bugs:
  -
  Additions:
  -
  Changes:
  ************************************
  **** MERGED WITH devel-davide ******

  *** MAIN CHANGES ******
  1 - Perturbative SOC implementation created
  2 - Code made more modular:
   2.a) Created subroutine src/common/FREQUENCIES_set_iw_ref and code previously inside K_IP moved there
   2.b) Created subroutine src/bse/K_diag_compute_epsilon.F and code previously inside K_diagonalization moved there
   2.c) Created subroutine src/pol_function/X_os_residuals.F and code previously inside X_os moved there
  3 - Many changes in the dipoles
      DIPOLE_driver --> DIPOLE_shifted_grids, DIPOLE_build_covariants, DIPOLE_x_real_space, DIPOLE_transverse
      with the introduction of the dipoles in real space for non periodic systems (src/pol_function/DIPOLE_x_real_space.F)
      using src/wf_and_fft/load_cc.F which has been moved from mod_magnetic to an external subroutine

  *** OTHER CHANGES ******
  4 - Generator of random grid moved inside the "bzgrids driver" in ypp
  5 - Fixed several missing _SP and used where possible cZERO, cONE etc ...
  6 - BS_H_dim is now defined together with BS_H_dim in K_Transitions setup.
      Thus all variables in src/bse/K_diagonalization.F are not allocs anymore but simple
      locale variables. The number of lines of code is greately reduced
  7 - Fixed drude term in BSE and X_static (previous implementation in BSE had broken the reading of Wd of X_static)
  8 - X_bare_Double_Grid_GreenF modified in view of the implementation with the kpts. Also
      removed the ordering "sr"/"sa". Replaced by the space variable "eh" or "G"
  9 - velocity gauge small changes to have identical result with the length gauge
  10- in src/common/OCCUPATIONS_Fermi.F fixed computation of nel with DbGd
  11- erased %E_dip. Dipoles cannot be rotated
  12- Now both iku_v_norm and rlu_v_norm can be called with the option "inside BZ",
      i.e. computing the norm inside the Brillouin Zone

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4611 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc pol_function/DIPOLE_kb_sum.F

  Bugs:
  - [yambo] Fized bug in dipoles with spinors
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4585 76a4dfbf-5f1f-0410-a543-a0282073b526

- * openmp setup is not switched off when the mpi environment is not
  found * SET_logicals.F: strings in array constructors need to have the
  same length according to   xlf. function str_check added as a
  workaround (compiles, but run time checks are needed) [Andrea
  Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4579 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Andrea Marini]

  *  . config/acx_report.m4 config/configure.ac config/netcdf_f90.m4 configure include/version.inc lib + sbin/make_makefile.sh.in interface/init_load.F interface/init_q_points.F io/io_BS.F io/io_COLLISIONS.F io/io_DB1.F io/io_DB1_selective_scan.F io/io_DIPOLES.F io/io_ELPH.F io/io_HF_and_locXC.F io/io_KB_abinit.F io/io_KB_pwscf.F io/io_Overlaps.F io/io_QINDX.F io/io_QP_and_GF.F io/io_RT_components.F io/io_SC_components.F io/io_Vnl.F io/io_WF.F io/io_X.F io/io_bulk.F io/io_elemental.F io/io_fragment.F io/io_header.F modules/SET_defaults.F modules/SET_logicals.F modules/mod_IO.F modules/mod_com.F modules/mod_pars.F real_time/RT_Lifetimes_evaluation_plan.F real_time/RT_start_and_restart.F real_time_control/RT_observables.F wf_and_fft/WF_load.F xc_functionals/XC_libxc_driver.F ypp/ELPH_databases.F ypp/fix_WFs_and_E.F


  *** PLAIN FORTRAN SUPPORT REMOVED. ONLY NETCDF NOW IS IMPLMENTED ***

  Bugs:
  - Bug in the evaluation of the change of the Hartee RT total energy.
  - bug in XC_libxc_driver.F fixed (cmplx(var,SP) -> cmplx(var,0.0,SP) ) (AF)
  - bug fixed according to Davide's hint (drho_cmplx was defined as real(SP) instead of complex(SP) )

  Changes:
  - Removed collisions fragmentation
  - Restored (NONE) default for RT interpolation (till the procedure will be cleared)

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4576 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.1. [Andrea Marini]

  *  . config/configure.ac configure include/version.inc lib lib/fftqe/.objects lib/fftqe/c_defs.h.in lib/fftqe/fft_errore.F lib/fftqe/fft_hpsort.F lib/fftqe/fft_setmap.F lib/fftqe/fft_stick.c lib/fftqe/fftqe_defs.h.in lib/fftqe/fftw.h lib/fftqe/fftw2.c lib/fftqe/konst.h lib/fftqe/mod_fft_aux.F lib/fftqe/mod_fft_base.F lib/fftqe/mod_fft_interfaces.F lib/fftqe/mod_fft_parallel.F lib/fftqe/mod_fft_scalar.F lib/fftqe/mod_fft_types.F lib/fftqe/mod_stick_base.F lib/fftqe/mod_stick_set.F collisions/.objects collisions/COLLISIONS_Fock.F collisions/COLLISIONS_eval.F collisions/COLLISIONS_linearize_and_IO.F collisions/COLLISIONS_sex.F collisions/PLASMA_build_up.F collisions/PLASMA_parallel_setup.F collisions/PLASMA_tables_and_dimensions.F common linear_algebra/multi_worlds_scalapack/README.txt linear_algebra/multi_worlds_scalapack/constants.F linear_algebra/multi_worlds_scalapack/distools.F linear_algebra/multi_worlds_scalapack/error.F linear_algebra/multi_worlds_scalapack/kind.F linear_algebra/multi_worlds_scalapack/make.sys linear_algebra/multi_worlds_scalapack/make_file linear_algebra/multi_worlds_scalapack/mp_global.F linear_algebra/multi_worlds_scalapack/mytest.F linear_algebra/multi_worlds_scalapack/para.F linear_algebra/multi_worlds_scalapack/util.F modules/mod_QP.F parallel qp/ELPH_simmetrize_and_distribute_gsqF.F qp/QED_Sigma_c.F qp_control/QP_load_DB.F real_time_control/RT_databases_IO.F xc_functionals/XC_libxc_driver.F xc_functionals/eval_Gradient.F ypp/electrons_bands.F ypp/electrons_driver.F ypp/k_grids.F

  *** merged with devel-andrea ***

  Bugs:
  - SERIOUS bug in eval_Gradient. It was used to calculate the derivative of wave-functions but the
    arguments were pure real.
  - Fixed bug in electrons_bands that was preventing to print the internal bands even without T-reversal.
    Fixe also other bug that was causing points outside the high symmetry lines to appear.

  Additions:
  - Added optional complex array as argument of QP_states_simmetrize
  - Added symmetrization of QP corrections in QED_Sigma_c

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4548 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.1. [Davide Sangalli]

  *  . config/configure.ac config/report.in config/scalapack.m4 configure include/version.inc lib lib/fftqe/.objects lib/fftqe/c_defs.h.in lib/fftqe/fft_errore.F lib/fftqe/fft_hpsort.F lib/fftqe/fft_setmap.F lib/fftqe/fft_stick.c lib/fftqe/fftqe_defs.h.in lib/fftqe/fftw.h lib/fftqe/fftw2.c lib/fftqe/konst.h lib/fftqe/mod_fft_aux.F lib/fftqe/mod_fft_base.F lib/fftqe/mod_fft_interfaces.F lib/fftqe/mod_fft_parallel.F lib/fftqe/mod_fft_scalar.F lib/fftqe/mod_fft_types.F lib/fftqe/mod_stick_base.F lib/fftqe/mod_stick_set.F bse/K_Haydock.F bse/K_IP.F bse/K_diagonalization.F bse/K_driver.F bse/K_kerr_IP.F collisions/COLLISIONS_eval.F collisions/PLASMA_build_up.F collisions/PLASMA_parallel_setup.F collisions/PLASMA_tables_and_dimensions.F common interface/init.F interface/init_load.F io/.objects io/io_DIPOLES.F io/io_Overlaps.F io/io_P_and_P2.F io/variables_DIPOLES.F linear_algebra/multi_worlds_scalapack/README.txt linear_algebra/multi_worlds_scalapack/constants.F linear_algebra/multi_worlds_scalapack/distools.F linear_algebra/multi_worlds_scalapack/error.F linear_algebra/multi_worlds_scalapack/kind.F linear_algebra/multi_worlds_scalapack/make.sys linear_algebra/multi_worlds_scalapack/make_file linear_algebra/multi_worlds_scalapack/mp_global.F linear_algebra/multi_worlds_scalapack/mytest.F linear_algebra/multi_worlds_scalapack/para.F linear_algebra/multi_worlds_scalapack/util.F modules/SET_defaults.F modules/mod_KERR.F modules/mod_Overlaps.F modules/mod_SC.F modules/mod_X.F modules/mod_X_output.F parallel pol_function/.objects pol_function/Build_Overlaps_Det.F pol_function/DIPOLE_build_covariants.F pol_function/DIPOLE_dip_dot_field.F pol_function/DIPOLE_driver.F pol_function/DIPOLE_kb_sum.F pol_function/DIPOLE_overlaps.F pol_function/DIPOLE_p_matrix_elements.F + pol_function/DIPOLE_shifted_grids.F pol_function/DIPOLE_transverse.F pol_function/O_driver.F pol_function/X_em1.F pol_function/X_os.F real_time/RT_start_and_restart.F real_time_control/RT_databases_IO.F sc/.objects sc/MAG_Hamiltonian.F + sc/OEP_exact_inversion.F sc/SC_bare_Hamiltonian.F sc/SC_driver.F sc/SC_start_and_restart.F surf/Dipole_driver_cut.F surf/Surface_driver.F surf_modules/mod_optcut.F tddft/TDDFT_BSK_2_FXC.F wf_and_fft/WF_load.F wf_and_fft/WF_shift_by_G.F xc_functionals/el_density_and_current.F ypp/RT_transient_absorption.F ypp/excitons_driver.F ypp/ras_trans_ypp.F

  Bugs:
  -
  Additions:
  -
  Changes:

  *** merged with devel-davide ***
  (TEST SUITE OVERCOME BESIDE FEW DIFFERENCES IN yambo_kerr)
  - "velocity gauge" moved from yambo_kerr to yambo.
  - Reorganization of Dipole_driver
  - IO of DIP_iR, DIP_P, and old  DIP_cov has been moved  inside the only subroutine io_DIPOLES
  - DIP_q_dot_iR renamed DIP_projected and gratly dimplified
  - Covariant dipoles extend to the spinorial case
  - [yambo_magnetic] inizialization done by a different subroutine


  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4539 76a4dfbf-5f1f-0410-a543-a0282073b526

- Test: merge info in folders config and bse deleted from trunk/devel
  and devel-davide/devel. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4537 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.1. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc io/io_Overlaps.F io/io_SC_components.F

  Bugs:
  - [yambo] small fix in the new IO fagmentation structure
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4534 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.1. [Davide Sangalli]

  *  config/configure.ac configure driver/yambo.h driver/ypp.h include/version.inc collisions/COLLISIONS_linearize_and_IO.F interface/init.F interface/init_load.F io/IO_and_Messaging_switch.F io/io_BS.F io/io_COLLISIONS.F io/io_DIPOLES.F io/io_ELPH.F io/io_HF_and_locXC.F io/io_KB_abinit.F io/io_KB_pwscf.F io/io_Overlaps.F io/io_P_and_P2.F io/io_QINDX.F io/io_RT_components.F io/io_SC_components.F io/io_Vnl.F io/io_WF.F io/io_X.F io/io_fragment.F io/io_header.F modules/SET_defaults.F modules/SET_logicals.F modules/mod_IO.F setup/PARALLEL_and_IO_Setup.F wf_and_fft/WF_load.F ypp/fix_WFs_and_E.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [yambo] IO fragmentation reorganized. Now it is possible to decide in input which DBs to be fragmented.
            Test suite overcame in serial and def_par. Still to check the combinations with the new frag_flags.
            Also the old io_flags seem to be not well checked. Some of the tests of the test-suite fail
            (i.e. QP correction within PPA) if io_X is off.

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4533 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.1. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K_Transitions_setup.F modules/mod_BS.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [yambo] modified mod_BS to prevent too many calls to mem_est.
            Overcomes the test-suite.

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4530 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc pol_function/DIPOLE_transverse.F

  Bugs:
  - [yambo] Fixed bug in dipoles with n_sp_pol=2
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4526 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/Makefile.in_gpl config/configure.ac configure include/version.inc

  Bugs:
  -
  Additions:
  -
  Changes:
  - removed replica of interface in Makefile.in_gpl
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4524 76a4dfbf-5f1f-0410-a543-a0282073b526

- Compilation of _surf projects fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4522 76a4dfbf-5f1f-0410-a543-a0282073b526

- .object gpl modified adding missing file. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4521 76a4dfbf-5f1f-0410-a543-a0282073b526

- GPL barrier corrected. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4519 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc ypp/electrons_driver.F ypp/symmetries_driver.F

  Bugs:
  - [ypp] Fixed wrong calls to el_magnetization
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4517 76a4dfbf-5f1f-0410-a543-a0282073b526

- Makefile system fixed (ypp* not compiling well on IBM xlf) [Andrea
  Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4514 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel andrea. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4508 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4506 76a4dfbf-5f1f-0410-a543-a0282073b526

- Mergeinfo with devel andrea recorded. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4503 76a4dfbf-5f1f-0410-a543-a0282073b526

- Mergeinfo recorded. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4500 76a4dfbf-5f1f-0410-a543-a0282073b526

- Trying reverse merge. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4499 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merge:info recovered in trunk. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4496 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.1. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc parallel/PARALLEL_Transitions_grouping.F parallel/PARALLEL_index.F

  Bugs:
  - [yambo] fixed bug in parallelization of the BSE
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4492 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.1. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc a2y/a2y_i.F modules/mod_BS.F

  Bugs:
  - [a2y] small fix
  Additions:
  -
  Changes:
  - [yambo / yambo_kerr] if defined _KERR removed from mob_BS.F since
                         "if defined" commands inside modules give compilation problems

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4489 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.1. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc a2y/a2y_i.F a2y/a2y_wf.F pol_function/DIPOLE_dip_dot_field.F ypp/electrons_driver.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [a2y GPL] beeing more conservative. Added few GPL_EXCLUDE / GPL_INCLUDE flags for a2y
  - [ypp] bands interpolation does not work with t-rev symmetry because when the symmetries are
          used in the interpolation procedure the t-rev is not properly considered.

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4487 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.1. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc pol_function/DIPOLE_driver.F

  Bugs:
  - [yambo] Fixed problem in Dipole_driver.F
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4486 76a4dfbf-5f1f-0410-a543-a0282073b526

- GPL barriers and 4.0.0 -> 4.0.1. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4484 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc io/io_header.F real_time/RT_start_and_restart.F ypp/k_map_fine_to_coarse.F

  Bugs:
  - [yambo & ypp] fixed two compilation problems with gfortran
  - [yambo_rt]    magn_reference is initialized only if n_spin>2
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4478 76a4dfbf-5f1f-0410-a543-a0282073b526

- Out-of-date files removed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4477 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4476 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merge info fixes. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4474 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc modules/mod_wrapper_omp.F

  Bugs:
  - [yambo] defined _OPENMP. Once the defined has been fixed with the previous commit
            the N inside the "defined _OPENMP" the module was non declared.
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4472 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc modules/mod_wrapper_omp.F

  Bugs:
  - [yambo, _OPENMP] fixed typo
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4468 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc interface/init_load.F io/io_SC_components.F modules/mod_SC.F modules/mod_real_time.F qp/XCo_local.F real_time/RT_Collision.F real_time/RT_driver.F real_time/RT_start_and_restart.F sc/MAG_A_phase.F sc/MAG_H_pseudo.F sc/MAG_Hamiltonian.F sc/MAG_common_build_A.F sc/SC_Energy.F sc/SC_bare_Hamiltonian.F sc/SC_driver.F sc/SC_start_and_restart.F wf_and_fft/WF_rotate.F xc_functionals/Build_V_xc_mat.F xc_functionals/XC_libxc_driver.F xc_functionals/el_density_and_current.F xc_functionals/el_density_matrix.F xc_functionals/el_magnetization.F xc_functionals/el_magnetization_matrix.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [yambo_sc] extended to the case n_spinor=2. In particular the subroutine WF_rotate
               Also the magnetization is computed during the sc cycle if n_spin>1 and
               used to build the new V_xc in case of a local potential
  - [yambo_magnetic] extended to the case n_spinor=2 with the update to yambo_sc .
                     In particular the Pauli term of the Hamitonian
  - [yambo_rt] Defined el_magnetization_matrix used to compute the magnetization in the
               case n_spinor=2. With this upgrade also TD-DFT properly work with
               n_spinor=2

  All test of the test-suite for yambo_rt and yambo_sc overcame.
  Only the check on the collisions DBs fails because the I/O of the collisions has been reordered.
  However the test using these collisions are ok.

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4465 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc real_time/RT_apply_field.F real_time/RT_current_AND_polarization.F real_time_control/RT_average_operator.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [yambo_rt] Rescaling of the dipoles with the double grid commented.
               It should not be done accordingly to the philosophy of
               Del Sole in PRB 48, 11789 (1993). However for the moment I do not
               erase the coding because I'd like to check it a bit more. The discussion
               on the topic was based on the idea that the rescaling was causing a
               problem in the absorption of Silicon with the double grid, while it is not.

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4463 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc qp/XCo_Hartree_Fock.F

  Bugs:
  - [yambo] fixed wrong DP to SP conversion in qp/XCo_Hartree_Fock.F
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4461 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K_Transitions_setup.F

  Bugs:
  - [yambo_rt] removed line erroneously inserted from my branch during the last merge in bse/K_Transitions_setup.F
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4457 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bz_ops/.objects bz_ops/k_map_nearest_by_dir.F interface/init.F interface/init_load.F io/.objects io/io_Overlaps.F linear_algebra/MATRIX_driver.F modules/SET_defaults.F modules/mod_Overlaps.F modules/mod_R_lattice.F modules/mod_X.F modules/mod_interfaces.F modules/mod_vec_operate.F pol_function/.objects pol_function/Build_Overlaps_Det.F pol_function/DIPOLE_build_covariants.F pol_function/DIPOLE_dip_dot_field.F pol_function/DIPOLE_driver.F pol_function/DIPOLE_overlaps.F pol_function/O_driver.F wf_and_fft/.objects wf_and_fft/WF_shift_by_G.F

  Bugs:
  -
  Additions:
  - DIPOLE evaluated in the covariant form. [Thank to Claudio and Myrta]
    Implemenation inserted in trunk/devel.
    Code is running but results with covariant dipoles are still not ok.

  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4446 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc int_modules/mod_wf2y.F wf_and_fft/WF_load.F ypp/fix_WFs_and_E.F

  Bugs:
  - [ypp] symmetries tool now works correctly also in case wf_nb_io is different from E%nb,
          i.e. if WF DBs is fragmented on bands as well
  Additions:
  -
  Changes:
  - [p2y/a2y] max_wf_block_size changed to 100 MB folowing Conor's suggestion

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4440 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/Makefile.in config/configure.ac configure include/version.inc

  Bugs:
  -
  Additions:
  -
  Changes:
  - interface folder already listed among the basic libs in the Makefile.
    No need to specify it again.

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4439 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . config config/configure.ac configure include/version.inc p2y/PP_PWscf_driver.F p2y/qexml_v4.0.F lib lib/fftqe/.objects lib/fftqe/c_defs.h.in lib/fftqe/fft_errore.F lib/fftqe/fft_hpsort.F lib/fftqe/fft_setmap.F lib/fftqe/fft_stick.c lib/fftqe/fftqe_defs.h.in lib/fftqe/fftw.h lib/fftqe/fftw2.c lib/fftqe/konst.h lib/fftqe/mod_fft_aux.F lib/fftqe/mod_fft_base.F lib/fftqe/mod_fft_interfaces.F lib/fftqe/mod_fft_parallel.F lib/fftqe/mod_fft_scalar.F lib/fftqe/mod_fft_types.F lib/fftqe/mod_stick_base.F lib/fftqe/mod_stick_set.F bse bse/K_IP.F bse/K_Transitions_setup.F common interface/init.F interface/init_load.F interpolate/bz_interp_coeff.F interpolate/bz_interp_setup.F interpolate/fourier_interpolation.F io/io_RIM_E_and_k.F io/io_RT_components.F linear_algebra/multi_worlds_scalapack/README.txt linear_algebra/multi_worlds_scalapack/constants.F linear_algebra/multi_worlds_scalapack/distools.F linear_algebra/multi_worlds_scalapack/error.F linear_algebra/multi_worlds_scalapack/kind.F linear_algebra/multi_worlds_scalapack/make.sys linear_algebra/multi_worlds_scalapack/make_file linear_algebra/multi_worlds_scalapack/mp_global.F linear_algebra/multi_worlds_scalapack/mytest.F linear_algebra/multi_worlds_scalapack/para.F linear_algebra/multi_worlds_scalapack/util.F modules/SET_defaults.F modules/mod_R_lattice.F modules/mod_X.F modules/mod_X_output.F modules/mod_electrons.F modules/mod_magnetic.F parallel pol_function/.objects pol_function/DIPOLE_kb_abinit_comp.F pol_function/DIPOLE_kb_pwscf_comp.F pol_function/DIPOLE_kb_sum.F + pol_function/DIPOLE_transverse.F pol_function/X_bare_RIM_GreenF.F pol_function/X_drude.F pol_function/X_eh_setup.F pol_function/X_os.F pol_function/X_pre_setup.F pol_function/X_simple_GreenF.F real_time_control/RT_carriers_object.F sc/MAG_H_pseudo.F sc/MAG_pseudo_nl.F ypp/.objects ypp/k_map_fine_to_coarse.F

  Bugs:
  -
  Additions:
  -
  Changes:

  *********************************
  *** merged with devel-davide  ***
  *** Overcomes test-suit tests ***
  *********************************

  - [x,Vnl] and Dipole_transverse reorganized
  - X_simple_GreenF and X_bare_RIM_GreenF implementation simplified
  - few small bug fix
  - RIM kpts always written in DBs and defined as a global variable in mod_electrons,
    removed from type bz_samp.
  - Small energies poles removed only if drude term is included
  - Double grid (presently called RIM): now yambo considers also transition within a
    single group of k-points assciated to a point on the bare grid. This could be
    an alternative way to get the Drude term with an ultra-fine double grid.
  - other minor changes


  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4438 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac config/fft.m4 configure include/version.inc

  Bugs:
  -
  Additions:
  -
  Changes:
  - Fixed fft configuration error introduced with last commit

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4437 76a4dfbf-5f1f-0410-a543-a0282073b526

- Compilation isses fixed. AF. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4436 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac config/fft.m4 config/report.in configure include/version.inc

  Bugs:
  -
  Additions:
  -
  Changes:
  - Configure report updated also for FFT

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4434 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc io/io_SC_components.F modules/SET_defaults.F modules/mod_X.F modules/mod_electrons.F pol_function/DIPOLE_driver.F pol_function/DIPOLE_rotate.F pol_function/DIPOLE_transverse.F pol_function/X_em1.F qp/XCo_Hartree_Fock.F sc/SC_driver.F setup/setup.F wf_and_fft/WF_load.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [yambo_sc] Now yambo_sc uses the SC_E and SC_WFs for computing the dipoles.
               However that way the commutator with the non local component of the Hamiltonian is neglected.
               I also started the implementation based on DIPOLE_rotate. Still to be improved.
               This avoids the problem, but has another one, since the diagonal components of the dipoles
               are ill defined and in the rotation these give a wrong dipole.

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4432 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc e2y/e2y_wf.F bse/K_eps_interpolate.F bz_ops/bz_samp_indexes.F modules/mod_vec_operate.F parallel/PARALLEL_Transitions_grouping.F parallel/PARALLEL_minimal_index_from_overlaping.F ypp/fix_WFs_Gshells.F

  Bugs:
  - [yambo] BSE: Fixed other bug spotted by Guido. In case of a huge number of transition N_cv the conversion
            "integer to real" of some table (in this case of the BS_T_grp_1st_el(:) vector) which have values
             proportional to N_cv was wrong. Problem fixed defining the interface sort to r_sort and i_sort
             which is able to deal directly with integer vectors.
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4426 76a4dfbf-5f1f-0410-a543-a0282073b526

- Cleanup. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4425 76a4dfbf-5f1f-0410-a543-a0282073b526

- Cleanup. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4424 76a4dfbf-5f1f-0410-a543-a0282073b526

- Small change in the RIM, now it works for large sampling, while  it
  was failing due to the samll number in the MC condition. [Daniele
  Varsano]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4423 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc common/FREQUENCIES_coarse_grid.F interface/init_barriers.F pol_function/X_os.F

  Bugs:
  - [yambo] fixed problem with coarse grid and huge databases with almost continuous
            distribution of poles. I also lowered a bit the treshold from 1E-6 to 1E-5 Ha
            It can be likely reduced further without changes in the spectrum.
            (Same change as in trunk stable, bug pointed out by Guido Fratesi)
  Additions:
  -
  Changes:
  - [yambo] Restored skip_WF_load logical as it was in the stable.
  - [yambo] Updated barriers for non uniform grids.

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4421 76a4dfbf-5f1f-0410-a543-a0282073b526

- Small bug fix. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4419 76a4dfbf-5f1f-0410-a543-a0282073b526

- Trunk-devel and devel-andrea syncronized. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4412 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K_Transitions_setup.F

  Bugs:
  - [yambo] fixed bug in the Drude term of the BSE
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4404 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc modules/mod_pseudo.F pol_function/DIPOLE_kb_abinit_comp.F pol_function/DIPOLE_kb_init.F pol_function/DIPOLE_kb_pwscf_comp.F pol_function/DIPOLE_transverse.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Implementation of the [x,Vnl] pwscf commutator simplified

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4402 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc pol_function/DIPOLE_kb_init.F

  Bugs:
  - [yambo_kerr] fixed smal bug with commutator and relativistic psps
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4399 76a4dfbf-5f1f-0410-a543-a0282073b526

- Xlf on BGQ complained for some libraries linked in the wrong order
  when compiling ypp. fixed. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4398 76a4dfbf-5f1f-0410-a543-a0282073b526

- Svn:ignore fixed. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4397 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K_WF_phases.F

  Bugs:
  - [yambo] small change in the message on the total number of phases
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4394 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc parallel/PARALLEL_defaults.F

  Bugs:
  - Fixed too long lines for gfortran
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4393 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fixed script to update the revision number to work for the GPL source
  as well. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4391 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Andrea Marini]

  *  config/configure.ac configure include/version.inc p2y/p2y_db1.F sbin/yambo_versions_update.tcsh bz_ops/bz_samp_indexes.F interface/init.F interface/init_q_points.F io/io_DB1.F io/io_elemental.F io/io_header.F io/ver_is_gt_or_eq.F modules/mod_IO.F modules/mod_LIVE_t.F modules/mod_R_lattice.F modules/mod_logo.F modules/mod_parallel.F parallel/.objects + + parallel/PARALLEL_get_user_structure.F parallel/PARALLEL_global_indexes.F parallel/PARALLEL_structure.F pol_function/DIPOLE_driver.F qp/QED_Sigma_c.F

  Bugs:
  - Fixed bug in e-p Q-points self-detection (spotted by Alejandro).
  - Fixed bug in time estimation for dipoles I/O.

  Additions:
  - Double revision system (devel/gpl) implemented.
  - Self-parallel-environment implemented (now -np N is enough).

  Changes:
  - Fixed height of LOGO's to be all the same (spotted by AndreaF).

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4390 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure driver/a2y.h driver/c2y.h driver/p2y.h driver/yambo.h driver/ypp.h include/version.inc a2y/a2y_i.F a2y/a2y_wf.F int_modules/mod_wf2y.F p2y/p2y_i.F modules/SET_defaults.F pol_function/X_os.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - fragmentation done by default on kpts. To avoi it run yambo / X2y -U

  - WF_splitter
    fragmentation on bands also by default if a single wf file is bigger than 10 MB,
    which means about more than 350 bands for kpt. The previous limit (400 MB) was too high.
    To avoid it run X2y -b $n_tot_band, with $n_tot_band the total number of bands in your database.
    Notice that yambo is not able to do fragmentation only on the bands.
    If the bands fragmentation is activated so it is the kpts fragmentation.
    NETCDF write WFs in single or double according to the value kind of wf.
    So, in the calculation of the DBs sizem DP has been replaced by SP with
    a factor 2 due the complex nature of the WFs.


  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4387 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc pol_function/X_os.F

  Bugs:
  - [yambo] Fixed bug in X_os for systems with fractional occupations when
            X%cg_percentual<100 % and in particular for NEQ occupations.
  Additions:
  -
  Changes:
  - Small change to the implementation of X_os to make it more logical

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4378 76a4dfbf-5f1f-0410-a543-a0282073b526

- Other compilation issues fixed. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4369 76a4dfbf-5f1f-0410-a543-a0282073b526

- Portability issues in compilation of internal iotk fixed. [Andrea
  Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4368 76a4dfbf-5f1f-0410-a543-a0282073b526

- Small portability/compatibility issues fixed. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4367 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . config config/acx_report.m4 config/configure.ac config/iotk.m4 config/netcdf_f90.m4 config/report.in configure include/version.inc lib lib/fftqe/.objects lib/fftqe/c_defs.h.in lib/fftqe/fft_errore.F lib/fftqe/fft_hpsort.F lib/fftqe/fft_setmap.F lib/fftqe/fft_stick.c lib/fftqe/fftqe_defs.h.in lib/fftqe/fftw.h lib/fftqe/fftw2.c lib/fftqe/konst.h lib/fftqe/mod_fft_aux.F lib/fftqe/mod_fft_base.F lib/fftqe/mod_fft_interfaces.F lib/fftqe/mod_fft_parallel.F lib/fftqe/mod_fft_scalar.F lib/fftqe/mod_fft_types.F lib/fftqe/mod_stick_base.F lib/fftqe/mod_stick_set.F bse collisions/COLLISIONS_eval.F collisions/PLASMA_build_up.F collisions/PLASMA_parallel_setup.F collisions/PLASMA_tables_and_dimensions.F common common/Laplace_transform.F common/OCCUPATIONS_Fermi.F common/crystal_lattice.F communicate/REPORT_Occupations.F communicate/section.F interface/init_load.F interface/init_q_points.F interpolate/bz_interp_coeff.F interpolate/bz_interp_setup.F io/io_QP_and_GF.F linear_algebra/MATRIX_driver.F linear_algebra/multi_worlds_scalapack/README.txt linear_algebra/multi_worlds_scalapack/constants.F linear_algebra/multi_worlds_scalapack/distools.F linear_algebra/multi_worlds_scalapack/error.F linear_algebra/multi_worlds_scalapack/kind.F linear_algebra/multi_worlds_scalapack/make.sys linear_algebra/multi_worlds_scalapack/make_file linear_algebra/multi_worlds_scalapack/mp_global.F linear_algebra/multi_worlds_scalapack/mytest.F linear_algebra/multi_worlds_scalapack/para.F linear_algebra/multi_worlds_scalapack/util.F modules/mod_com.F modules/mod_wrapper.F modules/mod_xc_functionals.F parallel parser/mod_itm.F pol_function/DIPOLE_transverse.F pol_function/X_bare_RIM_GreenF.F qp/QP_Green_Function.F qp/QP_ppa_cohsex.F qp/QP_secant.F qp/XCo_Hartree_Fock.F qp/XCo_driver.F qp_control/QP_apply_DB_interpolation.F real_time_control/RT_apply.F real_time_control/RT_carriers_object.F real_time_control/RT_databases_IO.F setup/QP_state_table_setup.F stop_and_restart/stop_now.F tddft/TDDFT_BSK_2_FXC.F wf_and_fft/WF_load.F wf_and_fft/fft_setup.F xc_functionals/XC_libxc_driver.F xc_functionals/el_magnetization.F ypp/electrons_angular_momentum.F ypp/electrons_position.F

  Bugs:
  -
  Additions:
  -
  Changes:
  ** merged with devel-davide **
  - configure report updated (still definitive version to be decided)
  - fixed some gfortran warnings
  - fixed io_carriers for NEQ BSE via yambo_rt
  - wrapper's interfaces used by more subroutines

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4364 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug fix (extra do removed) [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4340 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc io/io_DB1.F

  Bugs:
  - [p2y] small bug in case p2y was compiled without netcdf libs
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4339 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc common/OCCUPATIONS_Gaps.F

  Bugs:
  - [yambo] Fixed application of external stretching QP corrections in metals
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4338 76a4dfbf-5f1f-0410-a543-a0282073b526

- An error was to be issued because of a double call to clock_stop.
  fixed. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4336 76a4dfbf-5f1f-0410-a543-a0282073b526

- Makefile.in updated to avoid recursive make all. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4335 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fix for compliation using double precision. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4330 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4328 76a4dfbf-5f1f-0410-a543-a0282073b526

- Trunk-devel, devel-andrea and gpl-devel syncronized. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4325 76a4dfbf-5f1f-0410-a543-a0282073b526

- Cleanup. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4324 76a4dfbf-5f1f-0410-a543-a0282073b526

- Devel-andrea and trunk-devel syncronized. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4322 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/Makefile.in config/Makefile.in_gpl config/configure.ac configure include/version.inc

  Bugs:
  -
  Additions:
  -
  Changes:
  - Makefile.in and Makefile.in_gpl fixed

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4321 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea (--dp related fixes) [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4320 76a4dfbf-5f1f-0410-a543-a0282073b526

- Timing (serial, parallel MPI+OpenMp) fixed. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4318 76a4dfbf-5f1f-0410-a543-a0282073b526

- Alloc/dealloc of scatterBamp workspace fixed and cleanup. [Andrea
  Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4316 76a4dfbf-5f1f-0410-a543-a0282073b526

- Cleanup. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4315 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fmt. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4314 76a4dfbf-5f1f-0410-a543-a0282073b526

- Allocation of scatterBamp workspace made once and forall (out of the
  main loops) [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4313 76a4dfbf-5f1f-0410-a543-a0282073b526

- Typo in comment. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4312 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fmt. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4311 76a4dfbf-5f1f-0410-a543-a0282073b526

- Typos in comments. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4310 76a4dfbf-5f1f-0410-a543-a0282073b526

- External allocations required by scatterBamp were missing. [Andrea
  Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4309 76a4dfbf-5f1f-0410-a543-a0282073b526

- Configure reganerated (HDF5_str was not correct in the report). The
  misbehaviour seems to be related to autoconf. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4307 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4304 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  devel/config/configure.ac devel/configure devel/include/version.inc devel/setup/build_spin_sop.F stable/config/configure.ac stable/configure stable/include/version.inc stable/setup/build_spin_sop.F

  Bugs:
  - [yambo] fixed bug in spin-sop appearing when --enable-dp was used
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4301 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/Makefile.in config/configure.ac configure include/version.inc e2y/e2y_db1.F modules/mod_pars.F modules/mod_vec_operate.F

  Bugs:
  - [yambo --enable-dp] fixing compilation issues with dp option
  - [config/Makefile.in] fixed again missing "@" which was removed
  Additions:
  -
  Changes:
  -
  Notes:
  - code with --enable-dp option was not compiling. I guess it has not been tested neither ...


  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4300 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fixed report about using hdf5 support in yambo. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4299 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K_Transitions_setup.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Ordering of eh transitions in the BSE matrix changed again. Now it is based on f_eh>0.
    This affects only the case of population inversion (i.e. BSE out of equilibrium).
    The result of the BSE solution is independet on the ordering of cv transition,
    however if f_eh<0 then sqrt(f_eh) becomes imaginary. Although this is in principle
    ok since BS_T_grp%R is imaginary, to avoid problems the best solution is to
    select the transisions with f_eh>0.

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4298 76a4dfbf-5f1f-0410-a543-a0282073b526

- Openmp parallelism of X_os significantly changed (according to devel-
  andreaF) in order to deal with large systems (omp parallel is now
  mostly on G vector loops) [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4292 76a4dfbf-5f1f-0410-a543-a0282073b526

- Explicit make command ([utils]) to download the extlibraries (make
  get_extlibs) in cases when the wget command would fail otherwise (eg
  on a compute node) [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4288 76a4dfbf-5f1f-0410-a543-a0282073b526

- Small fix to be able to configure when a non-zero netcdf_idir is
  present. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4287 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug fixed in the configuration of netcdf+hdf5 when linking with ext
  libs. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4285 76a4dfbf-5f1f-0410-a543-a0282073b526

- Andrea-devel and trunk-devel syncronized. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4280 76a4dfbf-5f1f-0410-a543-a0282073b526

- Mergeinfo fix. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4278 76a4dfbf-5f1f-0410-a543-a0282073b526

- Configuration of FFTW+openmp fixed according to Davide's report.
  [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4274 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K_Transitions_setup.F bse/K_blocks.F interface/init.F interface/init_barriers.F interface/init_load.F io/io_BSS_invert.F io/io_COLLISIONS.F io/io_SC_components.F pol_function/DIPOLE_check_shifted_grids.F pol_function/DIPOLE_dip_dot_field.F pol_function/DIPOLE_driver.F pol_function/DIPOLE_kb_abinit_comp.F pol_function/DIPOLE_kb_pwscf_comp.F pol_function/DIPOLE_shifted_grids.F pol_function/X_em1.F pol_function/X_s.F qp/QP_W2Sc.F qp/QP_descriptions.F qp/QP_newton.F qp/QP_ppa_cohsex.F qp/QP_real_axis.F qp/XCo_Hartree_Fock.F qp/XCo_driver.F qp/XCo_local.F real_time_control/RT_average_operator.F tddft/TDDFT_ALDA_R_space.F wf_and_fft/WF_load.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - cleaning code from unused variables

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4271 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged (struggling) with devel-andrea. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4263 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fixing (maybe) other svn merge conflicts. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4261 76a4dfbf-5f1f-0410-a543-a0282073b526

- Code cleaning. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4259 76a4dfbf-5f1f-0410-a543-a0282073b526

- Cleaning unused variables. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4255 76a4dfbf-5f1f-0410-a543-a0282073b526

- Small change in Makefile.in. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4254 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fixed gpl object file in xc_functionals. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4252 76a4dfbf-5f1f-0410-a543-a0282073b526

- DOS normalization factor fixed. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4248 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc ypp/excitons_driver.F

  Bugs:
  - [ypp] plot of excitonic wave-function was always in the "free-hole" configuration
          Bug introduced long time ago ...
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4246 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea (via svn) [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4243 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea (by-hand method) [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4241 76a4dfbf-5f1f-0410-a543-a0282073b526

- Libxc configuration synchronized with other external libs. [Andrea
  Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4232 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  devel/config/configure.ac devel/configure devel/include/version.inc devel/qp_control/QP_apply.F stable/config/configure.ac stable/configure stable/include/version.inc stable/qp/XCo_driver.F stable/qp_ctl/mod_QP_CTL.F

  Bugs:
  - [ypp & yambo] Fixed bug pointed out by a user in the forum.
                  When QP corrections are imported in a run using the E_RIM (i.e. the double grid)
                  if QP_apply is called in the 'X' mode: (i) the QP_corrections were not extended to the E_RIM energies
                  and (ii) Fermi_en%E_RIM was not allocated. As a consequence call OCCUPATIONS_Fermi(Fermi_en,k,1) was crashing

                  Now the QP_corrections are extended also to the RIM energies in any mode. However I think there should be a check
                  if the RIM energies have been already corrected, as it exist in the case of the standard energies ...

                  Fix released both in the stable and in the devel

  Additions:
  -
  Changes:
  -


  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4229 76a4dfbf-5f1f-0410-a543-a0282073b526

- With-p2y fixed and with-p2y-version (courtesy of conor) [Andrea
  Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4228 76a4dfbf-5f1f-0410-a543-a0282073b526

- Small fix: on Fermi BGQ the tests for hdf5 were not able to find the
  path to link netcdf libs. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4227 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fighting with mergeinfo :( [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4221 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fighting with mergeinfo :( [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4220 76a4dfbf-5f1f-0410-a543-a0282073b526

- Small revert (last changes here broke compilation on BG) [Andrea
  Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4213 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fortran cpp to be used in libxc added as a separate env variable read
  by configure (allows best portability and max flexibility on difficult
  arch) [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4212 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug fixed in the netcdf-4.1.3 release, according to:
  http://www.unidata.ucar.edu/software/netcdf/docs/known_problems.html
  #clang-ncgen3 compilation on OSX Mavericks fixed. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4211 76a4dfbf-5f1f-0410-a543-a0282073b526

- Configuration and compilation on OSX: few issues found and fixed.
  [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4207 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc qp/XCo_driver.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Output of HF eigenvalues. Implmentation imported from trunk stable

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4206 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc collisions/COLLISIONS_alloc_and_free.F collisions/COLLISIONS_linearize_and_IO.F

  Bugs:
  - [yambo_rt] small bug fix in memory estimation when collisions are allocated
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4204 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc collisions/COLLISIONS_Fock.F collisions/COLLISIONS_NEQ_GW_static.F collisions/COLLISIONS_alloc_and_free.F collisions/COLLISIONS_compose.F collisions/COLLISIONS_linearize_and_IO.F collisions/COLLISIONS_load.F collisions/COLLISIONS_sex.F io/io_COLLISIONS.F modules/mod_collision.F pol_function/DIPOLE_kb_Ylm.F real_time/RT_Coulomb_relaxation.F

  Bugs:
  - src/collisions/COLLISIONS_alloc_and_free.F: l_HF replaced with l_Fock
  -
  Additions:
  -
  Changes:
  - renamed v*_GW --> v*_r  and   v*_SEX --> v*_c
  - implemented DIPOLE_kb_Ylm.F also for l=3 (i.e. lang=4). If l>3 now yambo returns a warning


  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4199 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . config config/acx_cpp.m4 config/configure.ac configure driver/yambo_driver.F include/version.inc lib lib/fftqe/.objects lib/fftqe/c_defs.h.in lib/fftqe/fft_errore.F lib/fftqe/fft_hpsort.F lib/fftqe/fft_setmap.F lib/fftqe/fft_stick.c lib/fftqe/fftqe_defs.h.in lib/fftqe/fftw.h lib/fftqe/fftw2.c lib/fftqe/konst.h lib/fftqe/mod_fft_aux.F lib/fftqe/mod_fft_base.F lib/fftqe/mod_fft_interfaces.F lib/fftqe/mod_fft_parallel.F lib/fftqe/mod_fft_scalar.F lib/fftqe/mod_fft_types.F lib/fftqe/mod_stick_base.F lib/fftqe/mod_stick_set.F bse bz_ops/k_the_nearest.F collisions/.objects + collisions/COLLISIONS_Hartree_Fock.F + collisions/COLLISIONS_QED_gw.F collisions/COLLISIONS_alloc_and_free.F collisions/COLLISIONS_cohsex.F collisions/COLLISIONS_compose.F collisions/COLLISIONS_eval.F collisions/COLLISIONS_linearize_and_IO.F collisions/COLLISIONS_load.F + collisions/PLASMA_build_up.F collisions/PLASMA_parallel_setup.F collisions/PLASMA_tables_and_dimensions.F common io/io_COLLISIONS.F linear_algebra/multi_worlds_scalapack/README.txt linear_algebra/multi_worlds_scalapack/constants.F linear_algebra/multi_worlds_scalapack/distools.F linear_algebra/multi_worlds_scalapack/error.F linear_algebra/multi_worlds_scalapack/kind.F linear_algebra/multi_worlds_scalapack/make.sys linear_algebra/multi_worlds_scalapack/make_file linear_algebra/multi_worlds_scalapack/mp_global.F linear_algebra/multi_worlds_scalapack/mytest.F linear_algebra/multi_worlds_scalapack/para.F linear_algebra/multi_worlds_scalapack/util.F modules modules/mod_collision.F modules/mod_real_time.F modules/mod_vec_operate.F parallel pol_function/DIPOLE_dip_dot_field.F pol_function/DIPOLE_kb_Ylm.F + real_time/RT_BGR.F real_time/RT_Collision.F real_time/RT_Coulomb_relaxation.F real_time/RT_driver.F + sc/SC_driver.F xc_functionals ypp/RT_initialize.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - merged with devel-davide. Main change in collisions structure. Still to be tested

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4192 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fixing merging history with devel-andrea. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4182 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fixing merging history with devel-andrea. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4181 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4180 76a4dfbf-5f1f-0410-a543-a0282073b526

- Small changes. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4170 76a4dfbf-5f1f-0410-a543-a0282073b526

- Openmp messages updated (info about n_threads added) [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4169 76a4dfbf-5f1f-0410-a543-a0282073b526

- Typo. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4168 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Myrta Gruning]

  *  config/libxc.m4 configure

  Bugs: libxc external library with version number < 2.0.3 are now not compatible (before was < 2.0.0)
  -
  Additions:
  -
  Changes:
  -


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4166 76a4dfbf-5f1f-0410-a543-a0282073b526

- Cleanup of un-used timing modules. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4162 76a4dfbf-5f1f-0410-a543-a0282073b526

- Timing removed. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4154 76a4dfbf-5f1f-0410-a543-a0282073b526

- Libxc packed into a downlodable tgz file. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4153 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc io/io_RT_components.F modules/mod_RT_CTL.F modules/mod_interfaces.F qp/QP_real_axis.F real_time/RT_driver.F real_time/RT_initialize.F real_time_control/RT_databases_IO.F

  Bugs:
  - [yambo] Fixed long line for gfortran
  Additions:
  -
  Changes:
  - [yambo_rt] interface RT_carriers_object moved from mod_interfaces to mod_RT_CTL

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4146 76a4dfbf-5f1f-0410-a543-a0282073b526

- Resetting merge history of syncronization between devel-andrea and
  trunk-devel to revision 4144. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4145 76a4dfbf-5f1f-0410-a543-a0282073b526

- Copyright year update. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4144 76a4dfbf-5f1f-0410-a543-a0282073b526

- GIANT merge of devel-andrea in trunk-devel. Tests updated and passed
  by both. GPL prepared for update. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4143 76a4dfbf-5f1f-0410-a543-a0282073b526

- Directory renamed. Preparing merge. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4142 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Myrta Gruning]

  *  lib/libxc/Makefile.in lib/libxc/aclocal.m4 lib/libxc/build/Makefile.in lib/libxc/config.h.in lib/libxc/configure lib/libxc/ltmain.sh lib/libxc/m4/ltversion.m4 lib/libxc/Makefile.am lib/libxc/Makefile.in lib/libxc/testsuite/Makefile.in

  Bugs: Makefile.am in src (I did not changed it when hacking the libxc)
  -
  Additions:
  -
  Changes:
  -


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4132 76a4dfbf-5f1f-0410-a543-a0282073b526

- Buf fixed in the description of the cutoff in other databases, giving
  fake WARNINGS. [Daniele Varsano]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4131 76a4dfbf-5f1f-0410-a543-a0282073b526

- Small bug fix. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4124 76a4dfbf-5f1f-0410-a543-a0282073b526

- Small fix in the netcdf/hdf5 configuration. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4119 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc a2y/a2y_db1.F int_modules/mod_com2y.F common/G_rot_grid.F

  Bugs:
  - [a2y] small bug fix
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4112 76a4dfbf-5f1f-0410-a543-a0282073b526

- Small bug_fix in configure. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4108 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug fixed in the configuration of netcdf. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4106 76a4dfbf-5f1f-0410-a543-a0282073b526

- Further improvement on the configuration scheme. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4105 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc modules/mod_BS.F pol_function/DIPOLE_transverse.F

  Bugs:
  - Three small fix, two for the GPL and one for the trunk
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4099 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc sbin/generate_gpl.sh

  Bugs:
  -
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4098 76a4dfbf-5f1f-0410-a543-a0282073b526

- Update of library configuration done. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4080 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc p2y/qexml_v4.0.F

  Bugs:
  - [p2y] Fixed limit of max 9 projectors due to
          intc vector internal to qexml, defined of dimension 9.
          Now qexml uses the yambo intc function.
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4079 76a4dfbf-5f1f-0410-a543-a0282073b526

- More on the configuration of libraries. netcdf+hdf5 still not properly
  working. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4078 76a4dfbf-5f1f-0410-a543-a0282073b526

- Netcdf conf updated. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4072 76a4dfbf-5f1f-0410-a543-a0282073b526

- Configuration of FFT improved (ESSL FFT are not automatically
  recognized) [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4071 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc

  Bugs:
  -
  Additions:
  -
  Changes:
  - with-p2y-version flag fixed

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4070 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc modules/mod_KERR.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [yambo] --with-netcdf-link option restored

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4068 76a4dfbf-5f1f-0410-a543-a0282073b526

- Configuration of FFT libs (as well as other external libs) updated;
  [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4064 76a4dfbf-5f1f-0410-a543-a0282073b526

- Preparing GPL. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4057 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc sbin/generate_gpl.sh bse/K_Haydock.F bse/K_diagonalization.F bse/K_stored_in_a_BIG_matrix.F io/io_BSS_Haydock.F modules/mod_BS.F modules/mod_KERR.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [yambo_kerr] working on yambo_kerr beyond IP in the trunk devel

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4055 76a4dfbf-5f1f-0410-a543-a0282073b526

- Working on gpl: code compiles. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4053 76a4dfbf-5f1f-0410-a543-a0282073b526

- Working on gpl. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4052 76a4dfbf-5f1f-0410-a543-a0282073b526

- Working on GPL. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4051 76a4dfbf-5f1f-0410-a543-a0282073b526

- Working on GPL. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4049 76a4dfbf-5f1f-0410-a543-a0282073b526

- Working on GPL. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4047 76a4dfbf-5f1f-0410-a543-a0282073b526

- Working on GPL devel. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4046 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K_Haydock.F bse/K_diagonalization.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [yambo] GPL exclude flags add for the Kerr project in BSE

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4035 76a4dfbf-5f1f-0410-a543-a0282073b526

- Redefinition of configure flags for iotk, etsf_io, netcdf implmented.
  [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4033 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc real_time/RT_start_and_restart.F xc_functionals/XC_potential_driver.F

  Bugs:
  - [yambo] non initialized variable in XC_potential_driver was making yambo_rt crash
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4031 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc modules/mod_wrapper_omp.F

  Bugs:
  - [yambo] fixed missing _omp in mod_wrapper_omp
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4027 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . bin config config/configure.ac configure include/version.inc a2y c2y e2y int_modules p2y lib lib/blas lib/fftqe/.objects lib/fftqe/c_defs.h.in lib/fftqe/fft_errore.F lib/fftqe/fft_hpsort.F lib/fftqe/fft_setmap.F lib/fftqe/fft_stick.c lib/fftqe/fftqe_defs.h.in lib/fftqe/fftw.h lib/fftqe/fftw2.c lib/fftqe/konst.h lib/fftqe/mod_fft_aux.F lib/fftqe/mod_fft_base.F lib/fftqe/mod_fft_interfaces.F lib/fftqe/mod_fft_parallel.F lib/fftqe/mod_fft_scalar.F lib/fftqe/mod_fft_types.F lib/fftqe/mod_stick_base.F lib/fftqe/mod_stick_set.F lib/lapack bse bse/K.F bse/K_Haydock.F bse/K_IP.F bse/K_diagonalization.F collisions/.objects collisions/COLLISIONS_Hartree_Fock.F collisions/COLLISIONS_alloc_and_free.F collisions/COLLISIONS_cohsex.F collisions/COLLISIONS_compose.F collisions/COLLISIONS_eval.F collisions/COLLISIONS_linearize_and_IO.F collisions/COLLISIONS_load.F collisions/PLASMA_build_up.F collisions/PLASMA_parallel_setup.F collisions/PLASMA_tables_and_dimensions.F common io/io_BSS_Haydock.F io/io_BSS_diago.F linear_algebra/MATRIX_resolvant_via_perturbative_inversion.F linear_algebra/multi_worlds_scalapack/README.txt linear_algebra/multi_worlds_scalapack/constants.F linear_algebra/multi_worlds_scalapack/distools.F linear_algebra/multi_worlds_scalapack/error.F linear_algebra/multi_worlds_scalapack/kind.F linear_algebra/multi_worlds_scalapack/make.sys linear_algebra/multi_worlds_scalapack/make_file linear_algebra/multi_worlds_scalapack/mp_global.F linear_algebra/multi_worlds_scalapack/mytest.F linear_algebra/multi_worlds_scalapack/para.F linear_algebra/multi_worlds_scalapack/util.F modules modules/.objects modules/mod_BS.F modules/mod_wrapper.F + parallel pol_function/DIPOLE_driver.F pol_function/DIPOLE_kb_sum.F pol_function/DIPOLE_shifted_grids.F pol_function/X_simple_GreenF.F qp/QP_real_axis.F qp/XCo_Hartree_Fock.F qp/XCo_local.F real_time/RT_Collision.F real_time/RT_EULEREXP_step.F real_time/RT_EULER_step.F real_time/RT_build_I1_and_I2.F real_time/RT_build_U1_and_U2.F rt_ctl/.objects rt_ctl/OCCUPATIONS_out_of_equilibrium.F rt_ctl/RT_OCC_LIFE_and_REF_IO.F rt_ctl/RT_alloc_def_or_free.F rt_ctl/RT_average_operator.F rt_ctl/RT_databases_IO.F rt_ctl/RT_mean_carrier_lifetimes.F rt_ctl/RT_observables.F rt_ctl/RT_occupations_FIT.F rt_ctl/RT_output.F rt_ctl/RT_variables_load.F tddft/TDDFT_ALDA_R_space.F wf_and_fft/WF_rotate.F

  Merged with devel-davide:
  - [yambo_kerr]: recovering implementation beyond IP
  - created mod_wrapper_omp.F and calls to XXXX_omp interfaces changed to have a cleaner code


  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4023 76a4dfbf-5f1f-0410-a543-a0282073b526

- Svn:ignore reset in some dirs. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4019 76a4dfbf-5f1f-0410-a543-a0282073b526

- Compilation of interfaces with external iotk and etsf_io fixed.
  [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4018 76a4dfbf-5f1f-0410-a543-a0282073b526

- Automatic download/configuration of external library merged in from
  devel-andreaF. Libs addressed are: iotk, netcdf, etsf_io. [Andrea
  Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@4010 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Myrta Gruning]

  *  io/io_DB1.F

  Bugs: Changed number of revision from which the screened exchanged variable is considered for back compatibility
  -
  Additions:
  -
  Changes:
  -


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3998 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc bse bse/K_output_file.F interface/init.F interface/init_load.F modules modules/mod_X_output.F ypp/QP_DBs_merge.F

  Bugs:
  -
  Additions:
  -
  Changes:
  Merged with devel-davide
  1) [ypp_rt]   small bug fix in creation of NEQ ndb.QP
  2) [yambo_rt] bse run can create also o-JOBNAME.refl* file with Reflectance

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3997 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc bse collisions/.objects collisions/COLLISIONS_Hartree_Fock.F collisions/COLLISIONS_alloc_and_free.F collisions/COLLISIONS_cohsex.F collisions/COLLISIONS_compose.F collisions/COLLISIONS_eval.F collisions/COLLISIONS_linearize_and_IO.F collisions/COLLISIONS_load.F collisions/PLASMA_build_up.F collisions/PLASMA_parallel_setup.F collisions/PLASMA_tables_and_dimensions.F common linear_algebra/multi_worlds_scalapack/README.txt linear_algebra/multi_worlds_scalapack/constants.F linear_algebra/multi_worlds_scalapack/distools.F linear_algebra/multi_worlds_scalapack/error.F linear_algebra/multi_worlds_scalapack/kind.F linear_algebra/multi_worlds_scalapack/make.sys linear_algebra/multi_worlds_scalapack/make_file linear_algebra/multi_worlds_scalapack/mp_global.F linear_algebra/multi_worlds_scalapack/mytest.F linear_algebra/multi_worlds_scalapack/para.F linear_algebra/multi_worlds_scalapack/util.F modules modules/mod_electrons.F parallel qp_ctl/QP_apply.F rt_ctl/.objects rt_ctl/OCCUPATIONS_out_of_equilibrium.F rt_ctl/RT_OCC_LIFE_and_REF_IO.F rt_ctl/RT_alloc_def_or_free.F rt_ctl/RT_average_operator.F rt_ctl/RT_databases_IO.F rt_ctl/RT_mean_carrier_lifetimes.F rt_ctl/RT_observables.F rt_ctl/RT_occupations_FIT.F rt_ctl/RT_output.F rt_ctl/RT_variables_load.F xc_functionals/el_density.F ypp/QP_DBs_merge.F ypp/k_RIM_grid_consistency_check.F ypp/k_map_fine_to_coarse.F ypp/mod_YPP.F ypp/ypp_init.F ypp/ypp_init_load.F

  Bugs:
  -
  Additions:
  -
  Changes:
  Merged with devel-davide:
  - Few bug-fies/improvments
  - ypp -q nw merges the ndq.QP databases to compute transient absorption


  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3994 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  devel/ypp/QP_DBs_initialize.F stable/p2y/qexml_v4.0.F stable/ypp/QP_DBs_initialize.F

  Bugs:
  - [stable, p2y] fix imported by devel
  Additions:
  -
  Changes:
  - [devel & stable, ypp] output of ypp -q improved

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3992 76a4dfbf-5f1f-0410-a543-a0282073b526

- Added basic documentation and config file for doxygen. [Conor Hogan]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3988 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Myrta Gruning]

  *  . p2y/qexml_v4.0.F p2y/p2y_db1.F p2y/mod_p2y.F p2y/mod_pw_data.F int_modules/mod_xc2y.F include/version.inc + wf_and_fft/.objects io/io_DB1.F modules modules/SET_defaults.F modules/mod_global_XC.F modules/mod_QP.F modules/mod_xc_functionals.F bse xc_functionals/XC_libxc_driver.F xc_functionals/XC_potential_driver.F qp/XCo_local.F qp/XCo_driver.F qp/XCo_Hartree_Fock.F common parallel config/configure.ac

  Bugs:
  -
  Additions: Merged with devel-myrta (3985,3599,3191,3096,3095,3090) to add screened hybrid support to QP
  -
  Changes:
  -


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3986 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Myrta Gruning]

  *  . modules modules/mod_BS.F bse bse/K_IP.F bse/K_Haydock.F bse/K_dot_product.F bse/K_stored_in_a_BIG_matrix.F bse/K_multiply_by_V.F

  Merged with devel-myrta r3858:3861

  Bugs: Missing simmetrization of diagonal coupling blocks in K_stored_in_a_BIG_matrix.F. It affected the spectrum calculated with coupling usi
  ng exact diago.
  -
  Additions: coupling re-activated with Haydock
  -
  Changes:
  -


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3984 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Myrta Gruning]

  *  config/acx_fortran_flags.m4 config/acx_get_fc_version.m4 configure

  Bugs: configure did not work for ifort 15
  -
  Additions:
  -
  Changes:
  -


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3980 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Myrta Gruning]

  *  config/libxc.m4 configure

  Bugs:
  -
  Additions:
  -
  Changes: During the configure, if an external libxc is specified and found, compatibility (version control) is verified.
           Libxc < 2.0.0 are considered not compatible and the configure falls back to internal lib
  -


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3979 76a4dfbf-5f1f-0410-a543-a0282073b526

- Multiple output creation in parallel COHSEX and BSE fixed. [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3969 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc bse collisions/.objects collisions/COLLISIONS_Hartree_Fock.F collisions/COLLISIONS_alloc_and_free.F collisions/COLLISIONS_cohsex.F collisions/COLLISIONS_compose.F collisions/COLLISIONS_eval.F collisions/COLLISIONS_linearize_and_IO.F collisions/COLLISIONS_load.F collisions/PLASMA_build_up.F collisions/PLASMA_parallel_setup.F collisions/PLASMA_tables_and_dimensions.F common interface/init.F linear_algebra/multi_worlds_scalapack/README.txt linear_algebra/multi_worlds_scalapack/constants.F linear_algebra/multi_worlds_scalapack/distools.F linear_algebra/multi_worlds_scalapack/error.F linear_algebra/multi_worlds_scalapack/kind.F linear_algebra/multi_worlds_scalapack/make.sys linear_algebra/multi_worlds_scalapack/make_file linear_algebra/multi_worlds_scalapack/mp_global.F linear_algebra/multi_worlds_scalapack/mytest.F linear_algebra/multi_worlds_scalapack/para.F linear_algebra/multi_worlds_scalapack/util.F modules parallel rt_ctl/.objects rt_ctl/RT_OCC_LIFE_and_REF_IO.F rt_ctl/RT_alloc_def_or_free.F rt_ctl/RT_average_operator.F rt_ctl/RT_databases_IO.F rt_ctl/RT_mean_carrier_lifetimes.F rt_ctl/RT_observables.F rt_ctl/RT_occupations_FIT.F rt_ctl/RT_output.F rt_ctl/RT_variables_load.F

  Bugs:
  - [yambo_rt] Fixed parallelization for simple COHSEX run
  Additions:
  -
  Changes:
  - merged with devel-davide

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3965 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merge with devel-davide recorded. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3956 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc qp_ctl/QP_apply.F qp_ctl/mod_QP_CTL.F

  Bugs:
  - [yambo] Fixed bug introduced in QP_apply moving the subroutine outside of the module
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3955 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc common/TEMPERATURE_Debye.F interface/init.F interface/init_QP_ctl_load.F interface/init_QP_ctl_switch.F interface/init_load.F modules/SET_defaults.F modules/mod_QP.F modules/mod_real_time.F real_time/RT_ELPH_initialize.F real_time/RT_driver.F rt_ctl/RT_OCC_LIFE_and_REF_IO.F rt_ctl/RT_occ_check_and_load_ref.F rt_ctl/RT_output.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [yambo_rt] code cleaning: removed old code lines which are not used anymore

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3951 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc interface/init.F qp_ctl/QP_apply.F ypp/electrons_driver.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [ypp_rt] when running ypp_rt using RT occupations the occupations should not be computed again
             This part of the code is still to be improved.

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3948 76a4dfbf-5f1f-0410-a543-a0282073b526

- Svn:ignore updated. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3945 76a4dfbf-5f1f-0410-a543-a0282073b526

- Svn:ignore updated. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3944 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . config/configure.ac configure driver/yambo_driver.F include/version.inc bse bse/K_driver.F interface/init.F interface/init_barriers.F interface/init_load.F modules modules/SET_defaults.F modules/mod_drivers.F modules/mod_real_time.F parallel parallel/PARALLEL_global_indexes.F pol_function/DIPOLE_dip_dot_field.F pol_function/DIPOLE_driver.F pol_function/DIPOLE_transverse.F qp/QP_ppa_cohsex.F qp/XCo_Hartree_Fock.F qp/XCo_driver.F qp_ctl/.objects qp_ctl/Nearest_kpt_interpolation.F + qp_ctl/mod_QP_CTL.F rt_ctl/OCCUPATIONS_out_of_equilibrium.F rt_ctl/RT_alloc_def_or_free.F rt_ctl/RT_occ_check_and_load_ref.F rt_ctl/RT_variables_load.F setup/.objects + setup/QP_external_corrections.F setup/setup.F xc_functionals/XC_libxc_driver.F ypp/RT_transient_absorption.F

  Bugs:
  -
  Additions:
  -
  Changes:
  Merged with devel-davide

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3940 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc bse bse/K.F bse/K_IP.F bse/K_Transitions_setup.F bse/K_driver.F bse/K_stored_in_a_BIG_matrix.F collisions/.objects collisions/COLLISIONS_Hartree_Fock.F collisions/COLLISIONS_alloc_and_free.F collisions/COLLISIONS_cohsex.F collisions/COLLISIONS_compose.F collisions/COLLISIONS_eval.F collisions/COLLISIONS_linearize_and_IO.F collisions/COLLISIONS_load.F collisions/PLASMA_build_up.F collisions/PLASMA_parallel_setup.F collisions/PLASMA_tables_and_dimensions.F common common/.objects common/OCCUPATIONS_Extend.F interface/init.F interface/init_load.F io/io_DB1.F io/io_QINDX.F io/io_QP_and_GF.F linear_algebra/multi_worlds_scalapack/README.txt linear_algebra/multi_worlds_scalapack/constants.F linear_algebra/multi_worlds_scalapack/distools.F linear_algebra/multi_worlds_scalapack/error.F linear_algebra/multi_worlds_scalapack/kind.F linear_algebra/multi_worlds_scalapack/make.sys linear_algebra/multi_worlds_scalapack/make_file linear_algebra/multi_worlds_scalapack/mp_global.F linear_algebra/multi_worlds_scalapack/mytest.F linear_algebra/multi_worlds_scalapack/para.F linear_algebra/multi_worlds_scalapack/util.F modules modules/SET_defaults.F modules/mod_QP.F modules/mod_RT_CTL.F modules/mod_drivers.F modules/mod_real_time.F parallel pol_function/DIPOLE_driver.F pol_function/DIPOLE_kb_init.F pol_function/DIPOLE_transverse.F qp/QP_expand.F qp_ctl/Nearest_kpt_interpolation.F qp_ctl/QP_apply_DB_interpolation.F qp_ctl/QP_merge_DBs.F qp_ctl/mod_QP_CTL.F real_time/.objects real_time/RT_apply_RWA.F real_time/RT_driver.F real_time/RT_k_grid.F rt_ctl/.objects + rt_ctl/RT_OCC_LIFE_and_REF_IO.F rt_ctl/RT_alloc_def_or_free.F rt_ctl/RT_average_operator.F + rt_ctl/RT_databases_IO.F + rt_ctl/RT_mean_carrier_lifetimes.F rt_ctl/RT_observables.F + rt_ctl/RT_occupations_FIT.F rt_ctl/RT_output.F rt_ctl/RT_variables_load.F setup/QP_external_corrections.F setup/setup.F ypp/.objects ypp/RT_check_RIM.F ypp/RT_occ_check_and_load_ref.F ypp/RT_occupations_FIT_and_plot.F ypp/RT_occupations_analyze.F ypp/RT_transient_absorption.F ypp/electrons_bands.F ypp/electrons_dos_and_charge.F ypp/excitons_driver.F ypp/mod_YPP.F ypp/ypp_i.F ypp/ypp_init.F ypp/ypp_init_load.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - MERGED WITH DEVEL DAVIDE:
  1) BSE occupations changed from f_v*(1-fc) to f_v-f_c
  2) Nearest_neighbor_interpolation now can also do the interpolation conserving the number of electrons/holes
     I add a new element to both the rt and the qp type for that
  3) Debye_TBose_update section commented in RT_driver
  4) Transient absorption via yambo_rt implemented
  5) Removed old calls to call RT_OCC_LIFE_and_REF_IO in src/setup/QP_external_corrections.F
     In future the subroutine will be moved to External_corrections.F and the call
     to Occupations_out_of_equilibrium in setup.F will be moved here
  6) Transient absorption via ypp_rt now works correctly also with the PP DBs created with abinit

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3930 76a4dfbf-5f1f-0410-a543-a0282073b526

- Qexml_read_xc fixed in order to skip tag LDA_PLUS_U_CALCULATION if
  needed. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3923 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fixed error message in electrons bands. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3905 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Myrta Gruning]

  *  lib/libxc/Makefile.in

  Bugs: Libxc did not compile on Fermi due to errors in the Makefile.in
  -
  Additions:
  -
  Changes:
  -


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3904 76a4dfbf-5f1f-0410-a543-a0282073b526

- Small bug-fix. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3903 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc lib/libxc/config.h.in + bse collisions/.objects collisions/COLLISIONS_Hartree_Fock.F collisions/COLLISIONS_alloc_and_free.F collisions/COLLISIONS_cohsex.F collisions/COLLISIONS_compose.F collisions/COLLISIONS_eval.F collisions/COLLISIONS_linearize_and_IO.F collisions/COLLISIONS_load.F collisions/PLASMA_build_up.F collisions/PLASMA_parallel_setup.F collisions/PLASMA_tables_and_dimensions.F common interface/init_load.F io/io_RIM_E_and_k.F io/io_X.F io/variables_RT.F linear_algebra/multi_worlds_scalapack/README.txt linear_algebra/multi_worlds_scalapack/constants.F linear_algebra/multi_worlds_scalapack/distools.F linear_algebra/multi_worlds_scalapack/error.F linear_algebra/multi_worlds_scalapack/kind.F linear_algebra/multi_worlds_scalapack/make.sys linear_algebra/multi_worlds_scalapack/make_file linear_algebra/multi_worlds_scalapack/mp_global.F linear_algebra/multi_worlds_scalapack/mytest.F linear_algebra/multi_worlds_scalapack/para.F linear_algebra/multi_worlds_scalapack/util.F modules modules/SET_defaults.F modules/mod_BS.F modules/mod_RT_CTL.F modules/mod_R_lattice.F modules/mod_real_time.F parallel pol_function/DIPOLE_transverse.F pol_function/X_em1.F pol_function/X_os.F real_time/RT_Collision.F real_time/RT_Dephasing_Matrix.F real_time/RT_Lifetimes_evaluation_plan.F real_time/RT_SET_lifetimes_evaluation_plan.F real_time/RT_apply_field.F real_time/RT_initialize.F real_time/RT_start_and_restart.F rt_ctl/.objects rt_ctl/RT_OCC_LIFE_and_REF_IO.F rt_ctl/RT_alloc_def_or_free.F rt_ctl/RT_average_operator.F rt_ctl/RT_databases_IO.F rt_ctl/RT_mean_carrier_lifetimes.F rt_ctl/RT_observables.F rt_ctl/RT_occupations_FIT.F rt_ctl/RT_output.F rt_ctl/RT_variables_load.F sc/SC_add_XC.F sc/SC_bare_Hamiltonian.F xc_functionals/el_density_matrix.F ypp/RT_check_RIM.F ypp/RT_occupations_analyze.F ypp/RT_transient_absorption.F ypp/k_RIM_grid_consistency_check.F ypp/k_grids.F ypp/k_map_fine_to_coarse.F ypp/k_random.F

  Bugs:
  -
  Additions:
  -
  Changes:
  *** Merged with devel-davide ***
  1) [yambo_rt] RIM implementation extended to the computation of Sigma and VH
  2) [ypp] RIM restored to previous version with RIM_pt and RIM_ptbz
  3) [yambo_rt] Changed default and variables which appear under -V=rt
  4) [yambo] BSE restart: now when reading em1s file X_epsilon is allocated
  5) [ypp_rt] Transient absorption: minor changes

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3902 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Myrta Gruning]

  *  lib/libxc/xc_version.h

  Bugs: xc_version was missing and therefore internal libxc failed compilation
  -
  Additions: file missing in the previous commit
  -
  Changes:
  -


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3898 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Myrta Gruning]

  *  config/Makefile.in config/acx_report.m4 config/libxc.m4 config/report.in config/setup.in configure lib/libxc/Makefile.in lib/libxc/Makefile.am lib/libxc/Makefile.in lib/libxc/bessel.c lib/libxc/expint_e1.c lib/libxc/functionals.c lib/libxc/gga.c lib/libxc/gga_c_am05.c lib/libxc/gga_c_ft97.c lib/libxc/gga_c_lm.c lib/libxc/gga_c_lyp.c lib/libxc/gga_c_op.c lib/libxc/gga_c_optc.c lib/libxc/gga_c_p86.c lib/libxc/gga_c_pbe.c lib/libxc/gga_c_pw91.c lib/libxc/gga_c_sogga11.c lib/libxc/gga_c_tca.c lib/libxc/gga_c_wi.c lib/libxc/gga_c_wl.c lib/libxc/gga_k_dk.c lib/libxc/gga_k_ol1.c lib/libxc/gga_k_ol2.c lib/libxc/gga_k_pearson.c lib/libxc/gga_k_tflw.c lib/libxc/gga_x_2d_b86.c lib/libxc/gga_x_2d_b86_mgc.c lib/libxc/gga_x_2d_b88.c lib/libxc/gga_x_2d_pbe.c lib/libxc/gga_x_airy.c lib/libxc/gga_x_am05.c lib/libxc/gga_x_b86.c lib/libxc/gga_x_b86_mgc.c lib/libxc/gga_x_b88.c lib/libxc/gga_x_bayesian.c lib/libxc/gga_x_bpccac.c lib/libxc/gga_x_c09x.c lib/libxc/gga_x_dk87.c lib/libxc/gga_x_ft97.c lib/libxc/gga_x_g96.c lib/libxc/gga_x_herman.c lib/libxc/gga_x_hjs.c lib/libxc/gga_x_htbs.c lib/libxc/gga_x_ityh.c lib/libxc/gga_x_kt.c lib/libxc/gga_x_lb.c lib/libxc/gga_x_lg93.c lib/libxc/gga_x_mpbe.c lib/libxc/gga_x_n12.c lib/libxc/gga_x_optx.c lib/libxc/gga_x_pbe.c lib/libxc/gga_x_pbea.c lib/libxc/gga_x_pw86.c lib/libxc/gga_x_pw91.c lib/libxc/gga_x_rpbe.c lib/libxc/gga_x_sogga11.c lib/libxc/gga_x_ssb_sw.c lib/libxc/gga_x_vmt.c lib/libxc/gga_x_wc.c lib/libxc/gga_x_wpbeh.c lib/libxc/gga_xc_1w.c lib/libxc/gga_xc_b97.c lib/libxc/gga_xc_edf1.c lib/libxc/gga_xc_oblyp_d.c lib/libxc/gga_xc_th.c lib/libxc/hyb_gga_xc_b1wc.c lib/libxc/hyb_gga_xc_b3lyp.c lib/libxc/hyb_gga_xc_b97.c lib/libxc/hyb_gga_xc_cam_b3lyp.c lib/libxc/hyb_gga_xc_hse.c lib/libxc/hyb_gga_xc_o3lyp.c lib/libxc/hyb_gga_xc_pbeh.c lib/libxc/hyb_mgga_xc_m05.c lib/libxc/integrate.c lib/libxc/lda.c lib/libxc/lda_c_1d_csc.c lib/libxc/lda_c_1d_loos.c lib/libxc/lda_c_2d_amgb.c lib/libxc/lda_c_2d_prm.c lib/libxc/lda_c_gombas.c lib/libxc/lda_c_hl.c lib/libxc/lda_c_ml1.c lib/libxc/lda_c_pw.c lib/libxc/lda_c_pz.c lib/libxc/lda_c_rc04.c lib/libxc/lda_c_rpa.c lib/libxc/lda_c_vwn.c lib/libxc/lda_c_wigner.c lib/libxc/lda_k_tf.c lib/libxc/lda_x.c lib/libxc/lda_x_1d.c lib/libxc/lda_x_2d.c lib/libxc/lda_xc_teter93.c lib/libxc/libxc_master.F90 lib/libxc/mgga.c lib/libxc/mgga_c_bc95.c lib/libxc/mgga_c_cc06.c lib/libxc/mgga_c_cs.c lib/libxc/mgga_c_m08.c lib/libxc/mgga_c_pkzb.c lib/libxc/mgga_c_tpss.c lib/libxc/mgga_c_vsxc.c lib/libxc/mgga_x_2d_prhg07.c lib/libxc/mgga_x_br89.c lib/libxc/mgga_x_gvt4.c lib/libxc/mgga_x_lta.c lib/libxc/mgga_x_m05.c lib/libxc/mgga_x_m06l.c lib/libxc/mgga_x_m08.c lib/libxc/mgga_x_mk00.c lib/libxc/mgga_x_mn12.c lib/libxc/mgga_x_ms.c lib/libxc/mgga_x_pkzb.c lib/libxc/mgga_x_tau_hcth.c lib/libxc/mgga_x_tpss.c lib/libxc/mgga_xc_otpss_d.c lib/libxc/mgga_xc_vsxc.c lib/libxc/mix_func.c lib/libxc/special_functions.c lib/libxc/stoll.c lib/libxc/util.c lib/libxc/util.h lib/libxc/version.c lib/libxc/work_gga_becke.c lib/libxc/work_gga_c.c lib/libxc/work_gga_x.c lib/libxc/work_lda.c lib/libxc/work_mgga_c.c lib/libxc/work_mgga_x.c lib/libxc/xc.h lib/libxc/xc_config.h lib/libxc/xc_f.c modules modules/mod_xc_functionals.F

  Bugs:
  -
  Additions:Libxc can be externally linked
  -
  Changes: Updated internal libxc
  -


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3894 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3888 76a4dfbf-5f1f-0410-a543-a0282073b526

- Small bug in cutoff real space test. [Daniele Varsano]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3879 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc rt_ctl/RT_output.F ypp/RT_transient_absorption.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Transient absorption now prints also the "transient residuals" [EXPERIMENTAL]

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3854 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-pedro. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3847 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3842 76a4dfbf-5f1f-0410-a543-a0282073b526

- Minor differences between my devel and trunk fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3839 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . bse collisions/.objects collisions/COLLISIONS_Hartree_Fock.F collisions/COLLISIONS_alloc_and_free.F collisions/COLLISIONS_compose.F collisions/COLLISIONS_eval.F collisions/COLLISIONS_linearize_and_IO.F collisions/COLLISIONS_load.F collisions/PLASMA_build_up.F collisions/PLASMA_parallel_setup.F collisions/PLASMA_tables_and_dimensions.F common communicate/REPORT_Occupations.F modules modules/mod_fields.F modules/mod_real_time.F parallel pol_function/DIPOLE_transverse.F real_time/RT_Dephasing_step.F real_time/RT_EULEREXP_step.F real_time/RT_Ext_fields.F real_time/RT_Integrator.F real_time/RT_apply_RWA.F real_time/RT_current_AND_polarization.F real_time/RT_driver.F real_time/RT_initialize.F real_time/RT_propagate_fields.F real_time/RT_start_and_restart.F rt_ctl/.objects rt_ctl/RT_OCC_LIFE_and_REF_IO.F rt_ctl/RT_alloc_def_or_free.F rt_ctl/RT_average_operator.F rt_ctl/RT_databases_IO.F rt_ctl/RT_mean_carrier_lifetimes.F rt_ctl/RT_observables.F rt_ctl/RT_occupations_FIT.F rt_ctl/RT_output.F rt_ctl/RT_variables_load.F xc_functionals/XC_libxc_driver.F ypp/.objects ypp/RT_X_LRR_real_field.F ypp/RT_X_effective.F ypp/RT_databases.F ypp/RT_driver.F + ypp/RT_initialize.F ypp/k_RIM_grid_consistency_check.F ypp/mod_YPP.F ypp/ypp_init.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - MERGED WITH DEVEL DAVIDE
  A) [yambo_rt] Polarization and current are computed correctly also with symmetries (RT_average_operator)
  B) [yambo_rt] All integrators now evolve G-G_eq
  C) [yambo_rt] Induced field [ work in progress ... ]
  D) [ypp_rt] Post processing of polarization improved to avoid errors in the derived spectrum

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3837 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc xc_functionals/XC_libxc_driver.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [yambo] Finally fixed bug in GGA plus spin [Davide&Myrta]

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3831 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug fixed in the openmp parallelism of QP_ppa_cohsex.F; ig loops
  reversed. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3829 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc xc_functionals/XC_libxc_driver.F ypp/electrons_dos_and_charge.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [yambo] Fixed a bug with GGA+SPIN [by Myrta]. However it seems there is still another bug somewhere
  - [ypp_rt] RT_DOS now works properly with spinors

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3827 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3821 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K_blocks.F modules/mod_fields.F real_time/RT_initialize.F rt_ctl/RT_average_operator.F

  Bugs:
  - [yambo_rt] modules/mod_fields.F: definition of theta function in mod_fields fixed for RK2 integrator
               HEUN integrator still to be checked
  - [yambo]    bse/K_blocks.F: long line fixed for gfortran
  Additions:
  -
  Changes:
  - Other minor changes

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3814 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3795 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3787 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . config/configure.ac configure driver/ypp.h include/version.inc bse bse/K_driver.F bse/K_output_file.F collisions/.objects collisions/COLLISIONS_Hartree_Fock.F collisions/COLLISIONS_alloc_and_free.F collisions/COLLISIONS_compose.F collisions/COLLISIONS_eval.F collisions/COLLISIONS_linearize_and_IO.F collisions/COLLISIONS_load.F collisions/PLASMA_build_up.F collisions/PLASMA_parallel_setup.F collisions/PLASMA_tables_and_dimensions.F common interface/init.F interface/init_load.F io/io_RT_components.F io/variables_RT.F modules modules/.objects modules/SET_defaults.F modules/mod_fields.F modules/mod_real_time.F parallel real_time/RT_Dephasing_step.F real_time/RT_Ext_fields.F real_time/RT_Fluence.F real_time/RT_apply_field.F real_time/RT_current_AND_polarization.F real_time/RT_driver.F real_time/RT_initialize.F real_time/RT_propagate_fields.F rt_ctl/.objects rt_ctl/RT_OCC_LIFE_and_REF_IO.F rt_ctl/RT_alloc_def_or_free.F rt_ctl/RT_average_operator.F rt_ctl/RT_databases_IO.F rt_ctl/RT_mean_carrier_lifetimes.F rt_ctl/RT_observables.F rt_ctl/RT_occupations_FIT.F rt_ctl/RT_output.F rt_ctl/RT_variables_load.F sc/MAG_pseudo_nl.F ypp/RT_X_LRR_real_field.F ypp/RT_X_inversion.F ypp/RT_X_qssin.F ypp/RT_initialize.F ypp/RT_paths.F ypp/RT_split_Polarization.F ypp/RT_transient_absorption.F ypp/ypp_init.F ypp/ypp_init_load.F

  Bugs:
  - [YAMBO_RT] Few bug fixes
  Additions:
  -
  Changes:
  ** Merged with devel-davide **
  - [_RT]      Fixed minus in P dot E term (yambo_rt) and minus in epsilon[alpha] expression (ypp_rt)
  - [YPP_RT]   Transient absorption upgraded
  - [YPP_RT]   RT_paths scan all the folders in the present directory only if asked in input.
               Otherwise only the folders specified with -J are used as always in yambo
  - [YAMBO_RT] Fixed initial time for field and theta / delta function in mod_fields. Now length and velocity gauge are consistent
               [but velocity gauge still miss the e^{iA(t)(r-r')} factor ]
  - [YAMBO_RT] If asked in input yambo now computed the induced electric field [more tests needed]

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3782 76a4dfbf-5f1f-0410-a543-a0282073b526

- Double occurrence of #if defined _ELPH removed. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3770 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3764 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fixed small bug which was preventing compilation with gfortran.
  [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3752 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3747 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Myrta Gruning]

  *  bse/K_dot_product.F

  Bugs: Typo in the preprocessing part that compromised the Haydock part
  -
  Additions:
  -
  Changes:
  -


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3737 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K_Haydock.F interpolate/bz_interp_coeff.F modules/mod_matrix_operate.F

  Bugs:
  - More fix needed to compile yambo with cray compilers
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3735 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K_IP.F bse/K_diagonalization.F bse/K_driver.F bse/K_kerr_IP.F bse/K_solvers.F interface/init_load.F io/io_header.F io/variables_RT.F modules/.objects modules/SET_defaults.F modules/mod_X.F modules/mod_X_output.F modules/mod_com.F modules/mod_fields.F modules/mod_parallel.F pol_function/Dipole_dip_dot_field.F pol_function/Dipole_driver.F pol_function/Dipole_shifted_grids.F pol_function/Dipole_transverse.F pol_function/X_os.F real_time/RT_apply_field.F real_time/RT_initialize.F surf/Dipole_driver_cut.F

  Bugs:
  - Fixed compilation problem in mod_parallel.F
  Additions:
  -
  Changes:
  - mod_fields.F moved inside the _RT project:
    "global_gauge" variable is now in mod_X.F
    "grid_path variable" is now in mod_com.F together with the other paths

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3733 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K_Transitions_setup.F bse/K_output_file.F

  Bugs:
  - Drude term in eh-space fixed. Now kerr results are consistent with trunk stable,
    although still a bit different from references in test-suite.
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3703 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K_IP.F bse/K_driver.F bse/K_kerr_IP.F modules/mod_BS.F pol_function/Dipole_dip_dot_field.F pol_function/Dipole_driver.F pol_function/Dipole_transverse.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [yambo_kerr] kerr is working and producing reasonable results, but different from reference

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3701 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel davide. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3699 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc bse collisions/.objects collisions/COLLISIONS_Hartree_Fock.F collisions/COLLISIONS_alloc_and_free.F collisions/COLLISIONS_compose.F collisions/COLLISIONS_eval.F collisions/COLLISIONS_linearize_and_IO.F collisions/COLLISIONS_load.F collisions/PLASMA_build_up.F collisions/PLASMA_parallel_setup.F collisions/PLASMA_tables_and_dimensions.F common modules parallel real_time/RT_Dephasing_step.F real_time/RT_Integrator.F real_time/RT_apply_RWA.F rt_ctl/.objects rt_ctl/RT_OCC_LIFE_and_REF_IO.F rt_ctl/RT_alloc_def_or_free.F rt_ctl/RT_average_operator.F rt_ctl/RT_databases_IO.F rt_ctl/RT_mean_carrier_lifetimes.F rt_ctl/RT_observables.F rt_ctl/RT_occupations_FIT.F rt_ctl/RT_output.F rt_ctl/RT_variables_load.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - merged with devel-davide: fixed bugs introduced in the integrator

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3682 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3678 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-davide. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3677 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3669 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea and fixed parallelization in XCo_local.
  [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3661 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-davide. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3660 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc bse collisions/.objects collisions/COLLISIONS_Hartree_Fock.F collisions/COLLISIONS_alloc_and_free.F collisions/COLLISIONS_cohsex.F collisions/COLLISIONS_compose.F collisions/COLLISIONS_eval.F collisions/COLLISIONS_linearize_and_IO.F collisions/COLLISIONS_load.F collisions/PLASMA_build_up.F collisions/PLASMA_parallel_setup.F collisions/PLASMA_tables_and_dimensions.F common modules modules/mod_SC.F parallel qp/XCo_local.F rt_ctl/.objects rt_ctl/RT_OCC_LIFE_and_REF_IO.F rt_ctl/RT_alloc_def_or_free.F rt_ctl/RT_average_operator.F rt_ctl/RT_databases_IO.F rt_ctl/RT_mean_carrier_lifetimes.F rt_ctl/RT_observables.F rt_ctl/RT_occupations_FIT.F rt_ctl/RT_output.F rt_ctl/RT_variables_load.F sc/SC_bare_Hamiltonian.F xc_functionals/.objects xc_functionals/XC_libxc_driver.F xc_functionals/el_density_matrix.F xc_functionals/el_magnetization.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Merged with devel-davide: working on _RT for n_spinor>1

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3657 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc bse bz_ops/bz_samp_indexes.F bz_ops/k_reduce.F collisions/.objects collisions/COLLISIONS_Hartree_Fock.F collisions/COLLISIONS_alloc_and_free.F collisions/COLLISIONS_compose.F collisions/COLLISIONS_eval.F collisions/COLLISIONS_linearize_and_IO.F collisions/COLLISIONS_load.F collisions/PLASMA_build_up.F collisions/PLASMA_parallel_setup.F collisions/PLASMA_tables_and_dimensions.F common interpolate/grid_generator.F io/variables_RT.F io/variables_SC.F modules parallel qp/XCo_local.F real_time/RT_Coulomb_interpolation.F_project real_time/RT_EULEREXP_step.F real_time/RT_Integrator.F real_time/RT_apply_RWA.F real_time/RT_initialize.F rt_ctl/.objects rt_ctl/RT_OCC_LIFE_and_REF_IO.F rt_ctl/RT_alloc_def_or_free.F rt_ctl/RT_average_operator.F rt_ctl/RT_databases_IO.F rt_ctl/RT_mean_carrier_lifetimes.F rt_ctl/RT_observables.F rt_ctl/RT_occupations_FIT.F rt_ctl/RT_output.F rt_ctl/RT_variables_load.F ypp/RT_databases.F ypp/RT_transient_absorption.F ypp/build_kpts_map.F ypp/k_grids.F ypp/symmetries_driver.F ypp/ypp_init.F

  MERGED WITH DEVEL DAVIDE

  Bugs:
  - [ypp] removal of symmetries and WFs rotation fixed in case the sampling of the BZ
          contains points on the border of the BZ
  Additions:
  -
  Changes:
  - [yambo_rt] variables_RT fixed
  - [yambo_rt] EXP integrator fixed (more test needed)
  - [ypp_rt]   working on TR-Abs
  - [yambo_rt] parallelization line in XCo_local.F changed to avoid out--of--bounds in serial run.
               However I'm not sure this is the correct fix. Still to be checked

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3653 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K_Haydock.F parallel/PARALLEL_Haydock_VEC_COMMs.F

  Bugs:
  - compilation of yambo fixed
  Additions:
  -
  Changes:
  - Version numbering fixed

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3651 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3645 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Myrta Gruning]

  *  . ChangeLog modules modules/mod_BS.F bse bse/K_Haydock.F bse/K_dot_product.F bse/K_multiply_by_V.F common parallel parallel/PARALLEL_Haydock_VEC_COMMs.F

  Bugs: Yambo did not compile in parallel after merge with devel-myrta. Cherrypicking merge with r3642 of devel-myrta
  -
  Additions:
  -
  Changes:
  -


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3643 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc + bse collisions/.objects collisions/COLLISIONS_Hartree_Fock.F collisions/COLLISIONS_alloc_and_free.F collisions/COLLISIONS_compose.F collisions/COLLISIONS_eval.F collisions/COLLISIONS_linearize_and_IO.F collisions/COLLISIONS_load.F collisions/PLASMA_build_up.F collisions/PLASMA_parallel_setup.F collisions/PLASMA_tables_and_dimensions.F common interface/init.F interface/init_load.F + io/io_RT_components.F io/variables_RT.F modules modules/SET_defaults.F modules/mod_real_time.F parallel pol_function/Dipole_transverse.F qp/XCo_local.F real_time/.objects real_time/RT_BGR.F real_time/RT_Collision.F + real_time/RT_Integrator.F + real_time/RT_Scattering_step.F real_time/RT_apply_RWA.F real_time/RT_current_AND_polarization.F real_time/RT_driver.F real_time/RT_initialize.F real_time/RT_relaxation.F real_time/RT_start_and_restart.F real_time/RT_update.F rt_ctl/.objects rt_ctl/RT_OCC_LIFE_and_REF_IO.F rt_ctl/RT_alloc_def_or_free.F rt_ctl/RT_average_operator.F rt_ctl/RT_databases_IO.F rt_ctl/RT_mean_carrier_lifetimes.F rt_ctl/RT_observables.F rt_ctl/RT_occupations_FIT.F rt_ctl/RT_output.F rt_ctl/RT_variables_load.F sc/SC_History.F sc/SC_bare_Hamiltonian.F sc/SC_driver.F sc/V_real_space_to_H.F xc_functionals/.objects + ypp/RT_1D_Fourier_Transform.F ypp/RT_X_LRR_real_field.F ypp/RT_X_effective.F ypp/RT_X_inversion.F ypp/RT_X_qssin.F ypp/RT_databases.F ypp/RT_initialize.F ypp/RT_split_Polarization.F ypp/RT_transient_absorption.F + ypp/mod_YPP.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Merged with devel davide:
  1) Removed Thermalization
  2) V_real_space_to_H extendend to the SO case
  3) Working on ypp_rt

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3638 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Myrta Gruning]

  *  common common/Matrix_resolvant_via_perturbative_inversion.F parallel parallel/.objects + modules modules/mod_parallel.F modules/mod_interfaces.F modules/mod_BS.F bse bse/K_stored_in_a_BIG_matrix.F bse/K_multiply_by_V.F bse/.objects bse/K_Haydock.F +

  Bugs:
  -
  Additions:
  -
  Changes: By merging with devel-myrta Haydock matrix_by_vector and dot_product are fully distributed. Note that this solve issue on differences when Haydock was parallel or serial. These were caused by numerical problems. Please refer to MG if you notice anything strange when using BSE. Note that Coupling is disabled.
  -


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3629 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Myrta Gruning]

  *  coulomb/bessel_F2.F bse/K_multiply_by_V.F bse/K_inversion.F xc_functionals/XC_libxc_driver.F common/pol_fit.F

- Merged with devel-andrea. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3609 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Andrea Ferretti]

  *  . AUTHORS bin config config/Makefile.in config/acx_fortran_flags.m4 config/acx_mpi.m4 config/configure.ac + config/fftw.m4 config/netcdf_f90.m4 config/setup.in configure driver include include/version.inc a2y c2y e2y int_modules p2y lib lib/blas/.objects + lib/local lib/slatec sbin sbin/make_makefile.sh.in acfdt bse bz_ops collisions collisions/.objects collisions/COLLISIONS_Hartree_Fock.F collisions/COLLISIONS_alloc_and_free.F collisions/COLLISIONS_cohsex.F collisions/COLLISIONS_compose.F collisions/COLLISIONS_eval.F collisions/COLLISIONS_linearize_and_IO.F collisions/COLLISIONS_load.F collisions/PLASMA_build_up.F collisions/PLASMA_parallel_setup.F collisions/PLASMA_tables_and_dimensions.F common communicate coulomb external_c interface interface/init.F interface/init_load.F interpolate io io/io_QP.F modules modules/SET_defaults.F modules/mod_BS.F modules/mod_FFT.F modules/mod_QP.F modules/mod_X.F modules/mod_collision.F modules/mod_interfaces.F modules/mod_memory.F modules/mod_openmp.F modules/mod_timing.F modules/mod_wave_func.F parallel parallel/PARALLEL_get_user_structure.F parallel/PARALLEL_global_indexes.F parallel/PARALLEL_structure.F parser pol_function pol_function/X_os.F qp qp/QP_driver.F qp/QP_ppa_EET_terminator.F qp/QP_ppa_cohsex.F qp/XCo_local.F qp_ctl real_time rt_ctl/.objects rt_ctl/RT_OCC_LIFE_and_REF_IO.F rt_ctl/RT_alloc_def_or_free.F rt_ctl/RT_average_operator.F rt_ctl/RT_databases_IO.F rt_ctl/RT_mean_carrier_lifetimes.F rt_ctl/RT_observables.F rt_ctl/RT_occupations_FIT.F rt_ctl/RT_output.F rt_ctl/RT_variables_load.F sc sc/OEP_app_inversion.F sc/OEP_exact_inversion.F setup setup/PARALLEL_and_IO_Setup.F surf surf_modules tddft wf_and_fft wf_and_fft/.objects wf_and_fft/WF_derivative.F wf_and_fft/WF_load.F wf_and_fft/eval_R_minus_R.F wf_and_fft/fft_3d_fftw.F + wf_and_fft/fft_3d_sg.F + wf_and_fft/fft_setup.F wf_and_fft/scatter_Bamp.F xc_functionals xc_functionals/XC_libxc_driver.F ydb ypp

  Bugs:
  - FFTQE complains from time to time. Init has to be made more robust
  Additions:
  - Interface to FFT from quantum-espresso (FFTQE)
  - G terminator scheme makde working again
  - OMP support further implemented
  Changes:
  - though FFT interfaces are the same, -1 and +1 directions are no longer equivalent
    when using FFTQE. scatter_bamp changed accordingly.


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3594 76a4dfbf-5f1f-0410-a543-a0282073b526

- No need to keep the explicit nullify statements once => null() inits
  are already implemented in derived types. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3587 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Myrta Gruning]

  *  bse/K_WF_phases.F

  Bugs: K_WF_phases.F did not compile with --enable-dp
  -
  Additions:
  -
  Changes:
  -


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3585 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . config/Makefile.in config/configure.ac configure driver/ypp.h include/version.inc bse/K.F bse/K_driver.F bz_ops/k_the_nearest.F collisions/COLLISIONS_Hartree_Fock.F collisions/COLLISIONS_alloc_and_free.F collisions/COLLISIONS_cohsex.F common/Fermi_fnc_fit.F common/OCCUPATIONS_Fermi.F interface/init_load.F interpolate/eval_interpolation_coeff.F io/.objects io/io_DB1_selective_scan.F io/io_DIPOLES.F io/io_RIM_E_and_k.F io/io_RT_components.F + io/variables_SC.F modules/.objects modules/SET_defaults.F + modules/mod_R_lattice.F modules/mod_SC.F modules/mod_electrons.F modules/mod_real_time.F parallel/PARALLEL_WF_distribute.F parallel/PARALLEL_global_indexes.F pol_function/Dipole_dip_dot_field.F pol_function/Dipole_driver.F pol_function/Dipole_transverse.F pol_function/X_s.F qp_ctl/.objects + qp_ctl/OCCUPATIONS_IO_and_interpolate.F qp_ctl/QP_apply_DB_interpolation.F qp_ctl/mod_QP_CTL.F real_time/.objects real_time/RT_BGR.F real_time/RT_Collision.F real_time/RT_Coulomb_relaxation.F real_time/RT_ELPH_CCA_Kernel.F real_time/RT_Fluence.F real_time/RT_G_retarded_EP_initialize.F real_time/RT_INTERPOLATED_step.F real_time/RT_Integrator.F real_time/RT_Lifetimes_evaluation_plan.F real_time/RT_Lifetimes_merge.F real_time/RT_Lifetimes_save_and_interp.F real_time/RT_Lifetimes_use_delta_Occupations.F real_time/RT_apply_RWA.F real_time/RT_average_operator.F real_time/RT_current_AND_polarization.F real_time/RT_databases_IO.F real_time/RT_driver.F real_time/RT_impose_zero_dE_and_dN.F real_time/RT_initialize.F real_time/RT_k_grid.F real_time/RT_manual_excitation.F real_time/RT_mean_carrier_lifetimes.F real_time/RT_observables.F real_time/RT_occupations_FIT.F real_time/RT_output.F real_time/RT_propagate_fields.F real_time/RT_relaxation.F real_time/RT_start_and_restart.F + sc/SC_add_XC.F sc/SC_bare_Hamiltonian.F sc/SC_driver.F setup/QP_external_corrections.F ypp/.objects ypp/RT_X_LRR_real_field.F ypp/RT_X_effective.F ypp/RT_X_qssin.F ypp/RT_check_RIM.F ypp/RT_databases.F ypp/RT_initialize.F ypp/RT_occ_check_and_load_ref.F ypp/RT_occupations_FIT_and_plot.F ypp/RT_occupations_analyze.F ypp/RT_split_Polarization.F + ypp/electrons_bands.F ypp/electrons_dos_and_charge.F ypp/electrons_driver.F ypp/excitons_driver.F ypp/excitons_sort_and_report.F ypp/k_map_fine_to_coarse.F ypp/mod_YPP.F ypp/ypp_i.F ypp/ypp_init.F ypp/ypp_init_load.F


       MERGED WITH DEVEL DAVIDE

  - [yambo_sc & yambo_rt] The _SC project and its subroutine are now independent from the _RT project.
                          All _RT variables which were defined inside the _SC module are now in the _RT modules
  - [yambo_rt] The _RT project variables are now divided between the real_time and the rt_ctl folders.
               Also there is a mod_real_time.F and a mod_RT_CTL.F and an rt kind has been dfined
  - [ypp_rt] Transient absorption and transient reflectivity implemented (ypp_rt -t a)
             In the same spirit of the time-dependent DOS [EXPERIMENTAL]
  - [yambo & yambo_rt] The nearest neighbor interpolation present in the QP_apply_DB_interpolation
                       has been made more general and moved in a new subroutine, Nearest_kpt_interpolation.
                       It is called both by QP_apply_DB_interpolation and some subroutines in ypp_rt
   - Few bug fixes
   - Projects: yambo magnetic is marked as devel; yambo_kerr, yambo_surf and ypp_surf are marked as broken


  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3581 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc collisions/COLLISIONS_alloc_and_free.F collisions/COLLISIONS_load.F modules/mod_memory.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Previous commit was wrong. Error in memory estimation dimension was due to a wrong use of mem_est subroutine.
    mem_est subroutine upgraded to deal with many elements allocated and associated with the same string

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3571 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  devel devel/config/configure.ac devel/configure devel/include/version.inc devel/collisions/COLLISIONS_load.F devel/sc/MAG_common_build_A.F devel/ypp/electrons_dos_and_charge.F stable/sc/MAG_common_build_A.F of conflicts:

  Bugs:
  - [yambo_magnetic] fixed SPEED_OF_LIGHT factor (both devel and stable)
  - [yambo_rt]       fixed mem_est for collisions
  Additions:
  -
  Changes:
  - merged trunk devel with trunk stable (spin projected dos implemented for n_spinor=2)

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3570 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K_blocks.F

  Bugs:
  - [yambo] fixed error introduced with recent commit in BSE parallelizzation
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3569 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.1. [Davide Sangalli]

  *  devel/wf_and_fft/WF_load.F stable/config/configure.ac stable/configure stable/include/version.inc stable/wf_and_fft/WF_load.F stable/ypp/electrons_dos_and_charge.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - if nspinor=2 Dos can be projected along +S_z and -S_z (trunk/stabel)
  - FFT message switched off if WFs are loaded kpt by kpt (both trunk stable and trunk devel)

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3565 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc ypp/k_map_fine_to_coarse.F

  Bugs:
  - [ypp] %s_table had not been moved to %k_table in ypp/k_map_fine_to_coarse.F
    after renaming of tables in mod_R_lattice
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3562 76a4dfbf-5f1f-0410-a543-a0282073b526

- Revision updated. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3555 76a4dfbf-5f1f-0410-a543-a0282073b526

- Openmp bug (?) fixed in X (isc was not properly reset by
  collision_reset). Not sure this bug is related to the intel openmp
  implementation or to the openmp standard. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3554 76a4dfbf-5f1f-0410-a543-a0282073b526

- Correct small bug fix. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3548 76a4dfbf-5f1f-0410-a543-a0282073b526

- Small bug fix. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3547 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc p2y/qexml_v4.0.F bse/K_stored_in_a_BIG_matrix.F pol_function/Dipole_driver.F pol_function/O_select_q_and_G.F ypp/excitons_driver.F ypp/ypp_init.F ypp/ypp_init_load.F

  Bugs:
  - [yambo] O_select_q_and_G.F: bug fix for calculations of EELS with q-vectors out of the BZ (imported from trunk stable)
  - [yambo] K_stored_in_a_BIG_matrix.F: BSE with fractional occupations fixed for the diagonalization solver
  - [p2y]   The code was writing of a non allocated vector in case the PP was without non local components (imported from trunk stable)
  Additions:
  -
  Changes:
  - [ypp] Contribution to each excitations can be weighted with dipoles. (imported from trunk stable)

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3545 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K_Transitions_setup.F bse/K_blocks.F parallel/PARALLEL_Transitions_grouping.F

  Bugs:
  - Fixed out of bounds in reading for BSE parallelization
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3538 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc real_time/RT_ELPH_total_Kernel.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [yambo_rt] restored checks on negative phonon frequencies

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3537 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel davide. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3535 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K_driver.F sc/MAG_H_pseudo.F setup/QP_external_corrections.F

  Bugs:
  - Fixed number revisioning
  - [yambo_magnetic] Fixed renaming of io_KB_* functions also in yambo_mangetic
  - [yamob_sc] calls to OCCUPATIONS_IO_and_interpolate only in yambo_rt
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3533 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3528 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc interface/init.F parallel/PARALLEL_global_indexes.F

  Bugs:
  - [yambo_sc] Bug in sc parallelization fixed
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3523 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc sc/MAG_H_pseudo.F sc/SC_start_and_restart.F sc/XC_switch.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - yambo_magnetic compiles

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3522 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . ChangeLog config/configure.ac configure include/version.inc bz_ops/k_the_nearest.F common/spline_fit.F io/io_RIM_E_and_k.F_project io/io_RT_components.F qp_ctl/QP_apply_DB_interpolation.F real_time/RT_ELPH_initialize.F real_time/RT_output.F ypp/electrons_bands.F ypp/electrons_dos_and_charge.F ypp/electrons_driver.F ypp/k_map_fine_to_coarse.F_project ypp/mod_YPP.F ypp/ypp_init.F ypp/ypp_init_load.F

  Bugs:
  -
  Additions:
  -
  Changes:
  ** merged with devel davide. **
  - Some bug fix
  - improvements to ypp_rt (dos and occupations interpolation on band-structure)
  - removed .F_project files: io_RIM_E_and_k.F_project and k_map_fine_to_coarse.F_project

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3515 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3503 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . config/configure.ac include/version.inc modules/SET_defaults.F real_time/RT_Integrator.F real_time/RT_Lifetimes_save_and_interp.F real_time/RT_Lifetimes_use_delta_Occupations.F + + real_time/RT_mean_carrier_lifetimes.F real_time/RT_output.F real_time/RT_relaxation.F

  Bugs:
  -
  Additions:
  -
  Changes:
  ** Merged with devel-davide **
  - Few bug fixes
  - Fixed spin_occ in RT_relaxation

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3502 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bad omp syntax fixed. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3493 76a4dfbf-5f1f-0410-a543-a0282073b526

- M_by_V wrapper provided with explicit omp support. external routines
  to be moved from src/modules. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3492 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  include/version.inc interface/init.F interface/init_load.F io/variables_SC.F modules/mod_real_time.F real_time/RT_Lifetimes_Interpolation.F real_time/RT_Lifetimes_evaluation_plan.F real_time/RT_Lifetimes_save_and_interp.F real_time/RT_SET_lifetimes_evaluation_plan.F real_time/RT_initialize.F sc/XC_switch.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Interpolations variables renamed RT_life_interp_* instead of RT_dynamics_*
    plus few small fix

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3478 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  include/version.inc real_time/RT_Collision.F real_time/RT_Integrator.F real_time/RT_Lifetimes_Interpolation.F real_time/RT_impose_zero_dE_and_dN.F real_time/RT_observables.F

  Bugs:
  - fixed small bug l_sc_ip: RT_output was calling V_real_space_to_H
  - fixed bug introduced renaming G_old, G_new with dG_in dG_out in RT_integrator.
    Now polarization is correct
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3476 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  include/version.inc modules/mod_real_time.F real_time/RT_Collision.F real_time/RT_Scattering_step.F real_time/RT_driver.F real_time/RT_observables.F real_time/RT_relaxation.F real_time/RT_start_and_restart.F real_time/RT_update.F sc/SC_bare_Hamiltonian.F

  Bugs:
  - removed ".false." input variable from call to el_density_matrix
  Additions:
  -
  Changes:
  - Now XC0_and_HARTREE0 always store the equilibrium Hartree and XCpotential
    A lot of useless code lines/comments have been removed from RT_start_and_restart.
    However it is still a bit stupid because SC_bare_hamiltonian removes
    V_Hartree[rho0] and V_xc[rho0] and then RT collision has to sum again
    them to Ho_plus_sigma again at each iteration ...
  - rho_full and rho_reference merged in rho_reference

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3474 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  include/version.inc modules/mod_real_time.F real_time/RT_Dephasing_Matrix.F real_time/RT_Scattering_step.F real_time/RT_apply_RWA.F real_time/RT_relaxation.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [YAMBO_RT] EXP integrator for scattering is applyed only if l_RT_RWA=.true.
               otherwise Polarization is not dephased

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3471 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3470 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc interface/init_load.F io/io_RT_components.F real_time/RT_ELPH_CCA_Kernel.F real_time/RT_ELPH_initialize.F real_time/RT_ELPH_total_Kernel.F real_time/RT_Integrator.F real_time/RT_Lifetimes_evaluation_plan.F

  Bugs:
  - Fixed errors due to wrong merge
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3453 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . ChangeLog config/configure.ac configure driver/ypp.h include/version.inc bse/K_Haydock.F bse/K_inversion.F + + + communicate/REPORT_Energies.F + interface/init.F interface/init_load.F interpolate/bz_interp_coeff.F interpolate/fourier_interpolation.F + + io/io_RT_components.F io/variables_SC.F modules/SET_defaults.F modules/mod_R_lattice.F modules/mod_drivers.F modules/mod_functions.F modules/mod_global_XC.F modules/mod_interpolate.F + modules/mod_real_time.F pol_function/O_driver.F qp_ctl/OCCUPATIONS_IO_and_interpolate.F qp_ctl/QP_apply_global_stretch.F real_time/.objects real_time/RT_Collision.F + real_time/RT_Coulomb_relaxation.F real_time/RT_DEPHASING_step.F real_time/RT_Dephasing_Matrix.F real_time/RT_ELPH_CCA_Kernel.F real_time/RT_EULEREXP_step.F real_time/RT_EULER_step.F real_time/RT_Fluence.F + real_time/RT_G_retarded_convolution.F real_time/RT_Integrator.F real_time/RT_Lifetimes_Interpolation.F real_time/RT_Lifetimes_evaluation_plan.F + real_time/RT_Lifetimes_save_and_interp.F real_time/RT_Lifetimes_use_delta_Occupations.F + + real_time/RT_apply_RWA.F + real_time/RT_average_operator.F real_time/RT_driver.F + real_time/RT_initialize.F real_time/RT_k_grid.F real_time/RT_mean_carrier_lifetimes.F real_time/RT_observables.F + real_time/RT_occupations_FIT_and_lock.F real_time/RT_output.F real_time/RT_relaxation.F real_time/RT_start_and_restart.F sc/SC_Energy.F sc/SC_add_XC.F sc/SC_driver.F sc/XC_switch.F ydb/ydb_i.F ypp/.objects + + ypp/RT_occupations_FIT.F + ypp/RT_occupations_analyze.F ypp/RT_occupations_check.F ypp/RT_occupations_repair.F ypp/electrons_bands.F ypp/electrons_dos_and_charge.F ypp/electrons_driver.F + + ypp/k_random.F ypp/mod_YPP.F ypp/ypp_i.F ypp/ypp_init.F ypp/ypp_init_load.F

  Bugs:
  -
  Additions:
  -
  Changes:
                               *** MERGED WITH DEVEL-DAVIDE ***

  - [yambo_rt] Many changes to the integrators:
               * RWA is applied in the simplest way and now includes also the dephasing part
               * new integrator Heun
               * RT_DEPAHSING_step erased. Replaced by RT_scattering_step, which now also contains
                 the EXP mode. However still to be tested / improved
  - [yambo_rt] Logicals changed. Now the kind of RT run is controlled by Potential="***"
               Logicals are set up in src/sc/XC_switch.F as for the SC run.
               Can be: IP / HARTREE / DFT / COHSEX
  - [ypp_rt]   Some subroutines are renamed, fixed support for RIM and restored RT_dos implementation
  - [ypp]      Random grid generator and mapping fine grid to coarse grid are now two separate subroutines
  - [ypp]      The factor to decide the number of shell for the bands interpolation can now be changed in input



  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3450 76a4dfbf-5f1f-0410-a543-a0282073b526

- BUG FIX: COH term in COHSEX in presence of TR. [Daniele Varsano]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3435 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk stable. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3416 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with branch devel-pedro. [Pedro Melo]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3409 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc

  Bugs:
  -
  Additions:
  -
  Changes:
  - Fix for the configure moved in configure.ac

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3401 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fixed small bug. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3399 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk stable. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3398 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-davide. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3385 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc modules/mod_interpolate.F real_time/RT_Collision.F real_time/RT_EULEREXP_step.F real_time/RT_Integrator.F real_time/RT_apply_field.F real_time/RT_build_U1_and_U2.F real_time/RT_observables.F real_time/RT_output.F real_time/RT_start_and_restart.F sc/V_qp_basis_to_H.F ypp/RT_occupations_analyze.F ypp/electrons_bands.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Merged with devel-davide:
    1) Now also EXP integrator is sensitive to small changes
    2) E_RIM used also to contruct DIP_iR = DIP_P / deltaE_RIM
    3) Energy output changed again, I have to decide with Andrea what will be the final version

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3381 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk stable. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3363 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3344 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc modules/mod_real_time.F real_time/RT_Collision.F real_time/RT_Integrator.F real_time/RT_apply_RWA.F real_time/RT_impose_zero_dE_and_dN.F real_time/RT_relaxation.F

  Bugs:
  - Other bug fix from my branch
  Additions:
  -
  Changes:
  - Impose on equilibrium lifetimes restored, but in the correct way

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3336 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug-fix imported from trunk stable. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3332 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3330 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc real_time/RT_impose_zero_dE_and_dN.F real_time/RT_relaxation.F

  Bugs:
  - Bug fix in RT_impose imported from my branch
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3325 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc interface/init.F io/io_COLLISIONS.F modules/mod_real_time.F real_time/RT_Collision.F real_time/RT_Coulomb_relaxation.F real_time/RT_Integrator.F real_time/RT_apply_RWA.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Speed-up of "Rotating Wave Approximation" subroutine imported from my branch

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3319 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc p2y/qexml_v4.0.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - bug-fix in p2y imported from trunk/stable

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3314 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc interface/init_load.F real_time/RT_initialize.F

  Bugs:
  - Bug fix imported from my branch: flags where not initialized after I removed UPDATE_flags
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3308 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc interface/init_load.F io/io_RT_components.F io/variables_SC.F modules/SET_defaults.F modules/mod_real_time.F real_time/RT_Coulomb_relaxation.F real_time/RT_ELPH_CCA_Kernel.F real_time/RT_G_retarded_convolution.F real_time/RT_Lifetimes_evaluation_plan.F real_time/RT_databases_IO.F real_time/RT_driver.F real_time/RT_initialize.F real_time/RT_mean_carrier_lifetimes.F real_time/RT_output.F real_time/RT_relaxation.F real_time/RT_start_and_restart.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Merged with trunk devel:
    A) RESTART FIXED
    B) RT_eh_en and RT_scatt_tresh. [EXPERIMENTAL]

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3305 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . config/Makefile.in config/setup.in configure include/version.inc lib/dierckx lib/dierckx/.objects lib/dierckx/fpbacp.f lib/dierckx/fpbspl.f lib/dierckx/fpchep.f lib/dierckx/fpdisc.f lib/dierckx/fpgivs.f lib/dierckx/fpknot.f lib/dierckx/fpperi.f lib/dierckx/fprati.f lib/dierckx/fprota.f lib/dierckx/percur.f lib/dierckx/splev.f

  Bugs:
  -
  Additions:
  -
  Changes:
  - dierckx removed from trunk
  - configure restored to correct version including fixed enable-keep-src flag
    and openmp flag to compile with gfortran. Also fixed revision number

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3297 76a4dfbf-5f1f-0410-a543-a0282073b526

- Configure fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3294 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3289 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc real_time/RT_impose_zero_dE_and_dN.F

  Bugs:
  - When RTskipImpose=.false. and Impose_fac=NaN for equilibrium Lifetimes,
    REF_lifetime were not stored and dynamics was wrong
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3285 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . ChangeLog config/configure.ac configure include/version.inc real_time/RT_Fluence.F real_time/RT_Lifetimes_evaluation_plan.F real_time/RT_average_operator.F real_time/RT_driver.F real_time/RT_observables.F real_time/RT_output.F real_time/RT_relaxation.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Merge with devel-davide:
    All output variables expressed in terms of the changes, i.e. constructed from dG

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3283 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Andrea Marini]

  *  qp/QP_ppa_cohsex.F coulomb/.objects real_time/RT_Lifetimes_use_delta_Occupations.F io/io_HF_and_locXC.F io/ioX.F io/io_SC_components.F io/io_DIPOLES.F modules/mod_IO.F

  Bugs:
  - When fragments were used the procedure of closing/opening a fragment was not
    cleaning the io_unit creating continously new units. This was resulting in
    too many units opened.
  - In _SC the COH loop in QP_ppa_cohsex were wrongly distributed.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3281 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc interface/init.F interface/init_load.F io/io_RIM_E_and_k.F modules/SET_defaults.F modules/mod_electrons.F modules/mod_real_time.F real_time/RT_Coulomb_relaxation.F real_time/RT_ELPH_CCA_Kernel.F real_time/RT_ELPH_initialize.F real_time/RT_ELPH_total_Kernel.F real_time/RT_average_operator.F real_time/RT_impose_zero_dE_and_dN.F real_time/RT_initialize.F real_time/RT_k_grid.F real_time/RT_observables.F real_time/RT_relaxation.F real_time/RT_start_and_restart.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Merged with devel-davide:
    1) Bug fix Energy with RIM is now correct
    2) EE_scatt + RIM, the number of RIM points used is now controlled by the input variable EERimPerc.
       Default is 0., i.e. the minimum possible. Old behavior is with 100. (=100%)
    3) Also RT_impose uses dGamma*f+Gamma0*df. Calls in RT_relaxation restored before the interpolation
    4) RTeeImposeE controls if impose on energy is used for EE scatt
    5) The energy type has also the %W_RIM structure. Presently these are all equal to %W on the small grid
    6) Other minor bug fix


  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3278 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . config/Makefile.in config/configure.ac configure include/version.inc coulomb/.objects + io/io_RT_components.F modules/mod_ELPH.F modules/mod_real_time.F real_time/.objects real_time/RT_Coulomb_interpolation.F real_time/RT_Coulomb_relaxation.F real_time/RT_DEPHASING_step.F real_time/RT_ELPH_CCA_Kernel.F real_time/RT_ELPH_initialize.F real_time/RT_ELPH_total_Kernel.F real_time/RT_G_retarded_convolution.F real_time/RT_Integrator.F real_time/RT_Lifetimes_Interpolation.F real_time/RT_Lifetimes_equilibrium.F real_time/RT_Lifetimes_merge.F real_time/RT_Lifetimes_save_and_interp.F real_time/RT_Lifetimes_use_delta_Occupations.F real_time/RT_impose_zero_dE_and_dN.F real_time/RT_initialize.F real_time/RT_k_grid.F real_time/RT_mean_carrier_lifetimes.F real_time/RT_relaxation.F ypp/RT_occupations_analyze.F ypp/electrons_bands.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - merged with devel-davide

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3272 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . config/Makefile.in config/configure.ac config/setup.in configure include/version.inc + lib/libxc/config.h.in lib/libxc/configure sbin/make_makefile.sh.in common/.objects common/HyperbolicSecant_FT.F + interface/init.F interface/init_load.F io/variables_SC.F modules/mod_real_time.F real_time/.objects real_time/RT_Collision.F real_time/RT_Coulomb_relaxation.F real_time/RT_DEPHASING_step.F real_time/RT_ELPH_CCA_Kernel.F real_time/RT_ELPH_total_Kernel.F real_time/RT_Integrator.F real_time/RT_Lifetimes_Interpolation.F real_time/RT_Lifetimes_equilibrium.F + real_time/RT_Lifetimes_save_and_interp.F real_time/RT_Lifetimes_use_delta_Occupations.F real_time/RT_driver.F real_time/RT_impose_zero_dE_and_dN.F real_time/RT_manual_excitation.F real_time/RT_mean_carrier_lifetimes.F real_time/RT_observables.F real_time/RT_output.F real_time/RT_relaxation.F real_time/RT_start_and_restart.F ypp/RT_occupations_analyze.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Merged with devel davide:
    1) Dynamics is in terms of dG<
    2) Lifetimes are computed as Gamma0 + dGamma
    3) Created spline_fit subroutine for interpolation, which uses the dierckx library in lib/dierckx.
       Presently it is not used. Spline does not work for extrapolation

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3256 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc io/io_RT_components.F modules/mod_SC.F modules/mod_real_time.F qp_ctl/OCCUPATIONS_IO_and_interpolate.F real_time/RT_Coulomb_interpolation.F real_time/RT_Coulomb_relaxation.F real_time/RT_DEPHASING_step.F real_time/RT_ELPH_CCA_Kernel.F real_time/RT_Lifetimes_evaluation_plan.F real_time/RT_Lifetimes_use_delta_Occupations.F real_time/RT_driver.F real_time/RT_impose_zero_dE_and_dN.F real_time/RT_observables.F real_time/RT_output.F real_time/RT_propagate_fields.F real_time/RT_relaxation.F real_time/RT_start_and_restart.F ypp/RT_occupations_FIT.F ypp/RT_occupations_analyze.F ypp/RT_occupations_check.F ypp/RT_occupations_repair.F ypp/electrons_bands.F ypp/electrons_dos_and_charge.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - merged with devel-davide.
    Main change: RT_H_occupations and RT_E_occupations

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3237 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3231 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3201 76a4dfbf-5f1f-0410-a543-a0282073b526

- Devel-trunk and devel-andrea merged and synchronized. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3199 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  real_time/RT_ELPH_initialize.F

  Bugs:
  - Bug fix in RT_ELPH_initialize fixed again. Likely the commit was lost with the changes in the repo

  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3196 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc io/ioKB_abinit.F io/ioKB_pwscf.F io/io_HF_and_locXC.F modules/mod_real_time.F qp/QP_report_and_write.F ypp/electrons_driver.F ypp/excitons_driver.F ypp/ypp_init.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Merged with trunk stable. Bug fix imported

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3195 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc lib/libxc/configure modules/mod_real_time.F real_time/RT_Collision.F real_time/RT_Coulomb_interpolation.F real_time/RT_EULEREXP_step.F real_time/RT_EULER_step.F real_time/RT_Integrator.F real_time/RT_build_I1_and_I2.F real_time/RT_propagate_fields.F ypp/RT_occupations_FIT.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Patch imported from tmp_repository: RIM in Ho_plus_sigma

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3181 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3177 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc real_time/RT_Collision.F real_time/RT_Coulomb_interpolation.F real_time/RT_EULEREXP_step.F real_time/RT_EULER_step.F real_time/RT_GAMMA_save_and_interp.F real_time/RT_Integrator.F real_time/RT_driver.F real_time/RT_impose_zero_dE_and_dN.F real_time/RT_observables.F real_time/RT_relaxation.F

  Bugs:
  - Fixed two bugs intoduced by previous commit
  Additions:
  -
  Changes:
  merged with devel davide:
  - Conditions on G_lessere are imposed during integratio
  - RT_Coulomb interpolation starts only if the number of Carriers is above 1.E-4

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3174 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc modules/SET_defaults.F modules/mod_interpolate.F modules/mod_real_time.F real_time/RT_Coulomb_interpolation.F real_time/RT_ELPH_initialize.F real_time/RT_driver.F real_time/RT_impose_zero_dE_and_dN.F real_time/RT_initialize.F real_time/RT_observables.F real_time/RT_output.F real_time/RT_relaxation.F ypp/electrons_bands.F

  Bugs:
  - Fixed ELPH+RIM GKKP renormalization factor [Andrea]
  - Work-around for ELPH+RIM GKKP if small grid levels are degenerate while
    big grid levels are not [Andrea]
  Additions:
  -
  Changes:
  - Factors from RT_impose are written in output [Davide]
  - RT_impose now imposes:
    * Nel and energy for EL-EL
    * Nel and dG for EL-PH

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3172 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc qp/ELPH_gsqF_to_Sigma.F real_time/RT_SET_lifetimes_evaluation_plan.F

  Bugs:
  - Fixed compilation issue
  Additions:
  -
  Changes:
  - RT_SET lifetimes two different modes, i.e. FIELD and EXP can be activated together.
    The first one (FIELD) is activated only if trim(RT_dynamics_KIND)=="FIELD" and for the time the field is on.
    The second one (EXP) is activated if RT_dynamics_decay_time>0
    * from t=0 if no field is present
    * from t=t0, i.e. after the field is off, when a field is present


  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3167 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3165 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc real_time/RT_Coulomb_interpolation.F real_time/RT_Coulomb_relaxation.F real_time/RT_ELPH_CCA_Kernel.F real_time/RT_Fluence.F real_time/RT_GAMMA_save_and_interp.F real_time/RT_Integrator.F real_time/RT_average_operator.F real_time/RT_impose_zero_dE_and_dN.F real_time/RT_observables.F real_time/RT_relaxation.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - RT_Coulomb_interpolation. Condition on the error is less strict
  - If RIM is used sums over RT_nk are grouped. This way the error on the final result is smaller
    real_time/RT_observables.F, real_time/RT_impose_zero_dE_and_dN.F and src/real_time/RT_ELPH_CCA_Kernel.F
    subroutines affected
  - RT_impose_zero_dE_and_dN changed

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3162 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  devel/config/configure.ac devel/configure devel/include/version.inc stable/config/configure.ac stable/configure stable/include/version.inc

  Bugs:
  -
  Additions:
  -
  Changes:
  - Updating versions in the trunk for the release of the new GPL.
    STABLE: 3.4.0 --> 3.4.1  will be the new stable GPL
    DEVEL:  3.4.0 --> 4.0.0  will be the new devel GPL

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3152 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc common/Fermi_fnc_fit.F modules/SET_defaults.F modules/mod_real_time.F real_time/RT_manual_excitation.F real_time/RT_mean_carrier_lifetimes.F real_time/RT_observables.F real_time/RT_occupations_FIT_and_lock.F real_time/RT_start_and_restart.F ypp/RT_occupations_FIT.F ypp/RT_occupations_analyze.F ypp/electrons_bands.F ypp/electrons_driver.F ypp/mod_YPP.F ypp/ypp_i.F ypp/ypp_init.F ypp/ypp_init_load.F of conflicts:

  Bugs:
  - Sigma_relax was not allocated when l_elel_scatt=.true. and l_elph_scatt=.false.
  - ypp_rt: plot of gamma(E) was wrong
  - ypp_rt: fixed generation of input file for interpolation of f_occ on the band structure
  - fixed small error in the construction of the EP lifetimes ratio = Gh/(Gh+Ge)
  Additions:
  -
  Changes:
  - ypp_rt: Now Te(t) an Th(t) are generated
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3151 76a4dfbf-5f1f-0410-a543-a0282073b526

- Devel-andrea and trunk-devel merged. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3147 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  modules/mod_LIVE_t.F

  Bugs:
  - Now the code compiles also with gfortran

  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3145 76a4dfbf-5f1f-0410-a543-a0282073b526

- Trunk-devel and branches-devel-andrea now merged. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3144 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc bz_ops/bz_samp_indexes.F common/Fermi_fnc_fit.F interface/init.F interface/init_load.F io/ioQINDX.F modules/SET_defaults.F modules/mod_real_time.F real_time/RT_Coulomb_interpolation.F

  Bugs:
  -
  Additions:
  -
  Changes:
  * merged with devel-davide:
  - RT_Coulom_interpolation uses the temperature from the previous step in case
    Fermi_fnc_fit fails fitting the EE_lifetimes ratio
  - BSE scattering table can be computed running the setup

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3135 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc bz_ops/k_the_nearest.F collisions/COLLISIONS_cohsex.F common/Fermi_fnc_fit.F common/pol_fit.F interpolate/bz_interp_setup.F interpolate/eval_interpolation_coeff.F io/io_RT_components.F modules/mod_R_lattice.F modules/mod_fields.F modules/mod_interpolate.F modules/mod_real_time.F real_time/RT_Collision.F real_time/RT_Coulomb_interpolation.F real_time/RT_Coulomb_relaxation.F real_time/RT_Ext_fields.F real_time/RT_Fluence.F real_time/RT_Integrator.F real_time/RT_current_AND_polarization.F real_time/RT_databases_IO.F real_time/RT_driver.F real_time/RT_impose_elel_conserves_E_and_N.F real_time/RT_initialize.F real_time/RT_k_grid.F real_time/RT_mean_carrier_lifetimes.F real_time/RT_observables.F real_time/RT_occupations_fit.F real_time/RT_output.F real_time/RT_relaxation.F real_time/RT_start_and_restart.F ypp/electrons_bands.F ypp/electrons_driver.F ypp/k_random.F

  Bugs:
  -
  Additions:
  -
  Changes:
  *** BIG COMMIT FROM MERGE WITH MY DEVEL. - [YAMBO_RT - YPP_RT] **
      THE CODE COMPILES BUT MORE TESTS ARE NEEDED. I STILL HAVE SMALL BUT
      NON NEGLIGIBLE DIFFERENCES BETWEEN THE TRUNK AND MY BRANCH

  * MAIN CHANGES:
  - RT_Coulomb_interpolation now works properly using as input the results of Fermi_fnc_fit.
    Als Fermi_fnc_fit has been improvede because the dynamics with l_elel_scatt + l_elph_scatt
    dependes deeply on its ability to fit the ratio between the RT_EE_lifetimes.
    Also the interpolation in energy is done after the interpolation in time.
  - Interpolation of the band structue finally works properly with the RIM.
    [RIM] If the points of the RIM/BIG grid are not expanded they are associated
    only the point in the IBZ. This is needed for a correct interpolation. The RIM
    structure should be improved in view of BSE and other calculations.

  * OTHER CHANGES:
  - k_the_nearest in case ROTATE_K_REF=.true. gives in output also the symmetry which
    points to the rotated k_point
  - cosmetic changes in COLLISION_cohsex
  - logical  renamed NE_dynamics      --> l_NE_dynamics_started
    new logicals                      --> l_NE_dynamics
                                      --> l_manual_excitations (thus l_NE_with_fields=.false. in this case)
  - New time structure for fields: t_initial, t_initial_indx, t_final, t_final_indx
    The latter is computed from RT_fluence
  - The ration gamma_h/(gamma_h+gamma_e) is fitted on the fly and the output printed.
    A negative temperature means a fit with an error above a given treshold.
    Also the EE and the EP lifetimes are written in different files
  - Condition on the occupations: the must remain between 0 and spin_occ
  - RT_impose_elel_conserves_E_and_N now works separately on the small and the big grid in
    case the RIM is used. This because on the small grid we do not need to change the lifetimes.
    This is likely to be changed with new Andrea's lifetimes interpolation

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3128 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3106 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  io/ioQINDX.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - OLD ndb.kindx are re-computed by default

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3092 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc bz_ops/bz_samp_indexes.F collisions/.objects collisions/COLLISIONS_cohsex.F collisions/COLLISIONS_eval.F collisions/PLASMA_build_up.F collisions/PLASMA_parallel_setup.F collisions/PLASMA_tables_and_dimensions.F collisions/RT_EE_scattering_kinematics.F common/Fermi_fnc_fit.F io/ioQINDX.F modules/SET_defaults.F modules/mod_R_lattice.F modules/mod_SC.F modules/mod_functions.F modules/mod_plasma.F modules/mod_real_time.F parallel/PARALLEL_WF_distribute.F parallel/PARALLEL_live_message.F real_time/.objects real_time/RT_Collision.F real_time/RT_Coulomb_interpolation.F real_time/RT_Coulomb_relaxation.F real_time/RT_driver.F real_time/RT_impose_elel_conserves_E_and_N.F real_time/RT_initialize.F real_time/RT_observables.F real_time/RT_occupations_fit.F real_time/RT_relaxation.F wf_and_fft/WF_alloc.F ypp/RT_occupations_analyze.F ypp/YPP_RT_occupations_fit.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - merged with devel-davide. Main change: fixed collisions, now iGo_pmq is ok and electrons number is conserved


  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3091 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc common/Fermi_fnc_fit.F common/HyperbolicSecant_FT.F modules/mod_pars.F real_time/RT_Coulomb_relaxation.F real_time/RT_ELPH_CCA_Kernel.F real_time/RT_Fluence.F real_time/RT_G_retarded_convolution.F real_time/RT_driver.F real_time/RT_observables.F real_time/RT_occupations_fit.F real_time/RT_output.F ypp/RT_occupations_analyze.F ypp/YPP_RT_occupations_fit.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Fixed RT_occupations_fit, now a chech is done on the quality of the FIT
  - Few changes in the output:
    * RT_fluence removed from .dynamics file. Now only Etot, Nel and DeltaG are printed
    * headers removed from file created by RT_ocupations_analyze [ypp_rt]
    * Temperatures are printed only if (l_elel_scatt .or. l_elph_scatt)
   - Code cleaning: removed tol0 and tol2 from pars mod
  - RIM removed from elel_scatt in view of the new implementation based on lifetimes ratio

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3070 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc collisions/PLASMA_build_up.F io/variables_SC.F real_time/RT_Coulomb_relaxation.F real_time/RT_driver.F ypp/RT_occupations_analyze.F ypp/YPP_RT_occupations_fit.F

  Bugs:
  - Fixed message (number of poles) in Plamsa_build_up
  -
  Additions:
  -
  Changes:
  - Coulomb relaxation with RIM restored to old behaviour which produces
    wrong "blocks of occupations" in case only el-el scattering is active and which
    competes with el-ph, when also the latter is active, preventing the electrons
    from correctly thermalizing
  - ypp_rt now plots also gamma(E) with f(E) at given T (-o tf)
  - IO of occupations and gammas is done after evaluating the gammas
  - (Partially) restored compatibility with old occupations DBs

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3064 76a4dfbf-5f1f-0410-a543-a0282073b526

- Missing file. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3052 76a4dfbf-5f1f-0410-a543-a0282073b526

- Git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-
  devel/trunk/devel@3050 76a4dfbf-5f1f-0410-a543-a0282073b526. [Andrea
  Marini]

- Version 3.4.0. [Andrea Marini]

  *  configure include/version.inc config/configure.ac qp/XCo_local.F acfdt/acfdt_tot_energy.F parallel/PARALLEL_global_indexes.F interface/init.F real_time/RT_initialize.F real_time/RT_start_and_restart.F real_time/RT_Collision.F real_time/RT_output.F real_time/RT_observables.F sc/SC_add_XC.F sc/SC_Energy.F tddft/tddft_alda_g_space.F io/io_COLLISIONS.F modules/mod_xc_functionals.F modules/mod_plasma.F modules/mod_interfaces.F bse/K.F collisions/COLLISIONS_alloc_and_free.F collisions/COLLISIONS_load.F collisions/Plasma_setup.F + + collisions/.objects collisions/COLLISIONS_eval.F collisions/Plasma_driver.F driver/yambo_driver.F

  Bugs:
  - Fixed bug introduced by the new XC_potential_driver interface

  Changes:
  - Created ad-hoc parallel routine for the Plasma and renamed all the Plasma
    routines.

  *** SERIAL TESTS PASSED ***

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3049 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Myrta Gruning]

  *  . configure include/version.inc p2y/qexml_v4.0.F p2y/p2y_db1.F p2y/mod_p2y.F p2y/mod_pw_data.F int_modules/mod_xc2y.F config/configure.ac lib/libxc/configure io/ioDB1.F modules/mod_global_XC.F modules/mod_xc_functionals.F modules/SET_defaults.F xc_functionals/XC_potential_driver.F xc_functionals/XC_libxc_driver.F qp/XCo_local.F qp/XCo_driver.F

  Bugs:
  -
  Additions: Interface for hybrids (B3LYP and PBE0 only) in p2y. In XCo_driver the matrix elements for B3LYP and PBE0 are calculated
  -
  Changes:
  -
  (Merged devel-myrta diffs into trunk)


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3044 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  config/Makefile.in config/configure.ac configure include/version.inc

  Bugs:
  -
  Additions:
  -
  Changes:
  - e2y compiles

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3042 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Myrta Gruning]

  *  config/Makefile.in

  Bugs: Error in dependencies for interfaces libs prevented compilation when 'make interfaces' from clean
  -
  Additions:
  -
  Changes:
  -


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3040 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug fixed to pass TD-SEX in serial. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3035 76a4dfbf-5f1f-0410-a543-a0282073b526

- Timing in openmp done using n_threads_now. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3033 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  . config/configure.ac configure driver/ypp.h include/version.inc collisions/COLLISIONS_cohsex.F common/.objects common/FREQUENCIES_coarse_grid.F + interface/init.F interpolate/bz_interp_coeff.F interpolate/bz_interp_setup.F interpolate/bz_interpolation.F interpolate/eval_interpolation_coeff.F interpolate/fourier_interpolation.F io/.objects io/ioE_RIM.F + modules/.objects modules/mod_R_lattice.F modules/mod_SC.F modules/mod_interfaces.F modules/mod_interpolate.F modules/mod_plasma.F modules/mod_real_time.F parallel/PARALLEL_WF_distribute.F parallel/PARALLEL_global_indexes.F qp/Plasma_driver.F qp/Plasma_setup.F real_time/.objects real_time/RT_Coulomb_relaxation.F real_time/RT_ELPH_CCA_Kernel.F real_time/RT_G_retarded_convolution.F real_time/RT_driver.F real_time/RT_impose_N_conservation.F + real_time/RT_initialize.F real_time/RT_k_grid.F real_time/RT_mean_carrier_lifetimes.F real_time/RT_observables.F + real_time/RT_output.F real_time/RT_relaxation.F real_time/RT_start_and_restart.F setup/setup.F ypp/.objects ypp/RT_occupations_FIT.F ypp/RT_occupations_analyze.F ypp/RT_occupations_check.F + ypp/electrons_bands.F ypp/electrons_dos_and_charge.F ypp/electrons_driver.F ypp/k_random.F ypp/mod_YPP.F ypp/read_bxsf.F ypp/ypp_i.F ypp/ypp_init.F ypp/ypp_init_load.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Merged with devel-davide:
    * Plasma is now a type
    * RIM dbs contains also kpts (tested only with RT RIM). RIM kpts are saved in the
      new elements of the bz_samp struture (%pt_RIM and %ptbz_RIM) as RIM energies are
      saved in the levels structure (%E_RIM)
    * ypp can interpolate occupations on the band structure also from a RIM run thanks to
      the new RIM structure and using Claudio's interplation subroutines (l_RT_bands)
    * FIT of the electrons and holes temperatures on the fly
    * Parallel global index for real-time are now based on EH_gas (plasma type).
      Names still to be improved
    * When the RT_rim structure is constructed (function RT_k_grid) a new structure is computed,
      RIM_closest_E(i_n,i_k_rim) = i_k which is closest in energy (within the same i_n)
    * Output file .dynamics now contains the Temperatures of the fit and the total energy.
      The components of the energy are written in the .energy output file
    * Mean carrier lifetimes are printed after they are computed.
    * RT_impose_N_conservation rewritten although it contains only the the N conservation for the moment
    * it_now for restart fixed
    * RT_occupations analyze structure improved

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3032 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3026 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3023 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version updated. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3015 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merge problems fixed. All non-RT tests passed with all possible CPU
  configurations. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3014 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea@r3012. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3013 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  . configure include/version.inc collisions/COLLISIONS_cohsex.F collisions/COLLISIONS_load.F parallel/PARALLEL_global_indexes.F real_time/RT_Collision.F real_time/RT_relaxation.F real_time/RT_start_and_restart.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Merged with devel-andrea

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@3002 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  configure include/version.inc collisions/COLLISIONS_cohsex.F interface/init_load.F modules/mod_parallel.F parallel/PARALLEL_WF_distribute.F parallel/PARALLEL_global_indexes.F real_time/RT_average_operator.F

  Bugs:
  - Fixed small bug. Parallelization over collisions seems working

  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@2993 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@2992 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc

  Bugs:
  -
  Additions:
  -
  Changes:
  - confiugre with "--enable-open-mp" option works also with gfortran

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@2962 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc qp/Plasma_driver.F real_time/RT_initialize.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Fixed output of total time and Plasma approximation

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@2958 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc collisions/COLLISIONS_alloc_and_free.F collisions/COLLISIONS_linearize_and_IO.F collisions/COLLISIONS_load.F interface/init.F io/ioKB_abinit.F io/ioKB_pwscf.F real_time/RT_manual_excitation.F wf_and_fft/WF_load.F

  Bugs:
  - fixed bug with real collisions I/O (HF)
  Additions:
  -
  Changes:
  - merged with trunk/stable (bug fix for ioKB)
  - merged with devel-andrea (bug fixes)
  - RT_manual_excitations reverted to previous version, otherwise yambo did not overcome RT tests

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@2954 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@2947 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc collisions/COLLISIONS_load.F qp/Plasma_driver.F wf_and_fft/WF_load.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Bug fixes for parallel runs

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@2946 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc collisions/COLLISIONS_alloc_and_free.F interface/init_load.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Hopefully this time collisions/COLLISIONS_alloc_and_free.F is ok ...

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@2941 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc collisions/COLLISIONS_alloc_and_free.F collisions/COLLISIONS_eval.F modules/mod_interfaces.F parallel/PARALLEL_WF_distribute.F qp/Plasma_driver.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Fixed bug in allocation-deallocation of collisions (COLLISIONS_alloc_and_free.F)
  - yambo_rt now works in parallel, however the last level (Plasma) is still broken
  - Plasma structure inside PARALLEL_WF_distribute is ok

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@2940 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc

  Bugs:
  -
  Additions:
  -
  Changes:
  - Fixed revision after previous commit
  - Correct commit.msg file related to the previous commit:
    * Plasma structure introducted from my branch. Also started work for parallel
      Plasma structure. Still on working ...
    * Collisions v3 is now collisions%v3r for l_elel_sattering and
                           collisions%v3c for l_elel_sattering
    * Changed RT_impose_N_conservation
    * Removed several unused variables in ypp and in other subroutines
    * improved Hyperbolic_secant implementation
    * improved RT_manual_excitations in the RIM case.
    * Fixed the RT_io_steps and all related procedures.
      Now it=1 | T=0.      |   file=0
           .   |  .        |   .
          it=n | T=(n-1)*T |  file=(n-1)/RT_io_steps <--> if( (mod(n-1),RT_io_steps)==0 )
           .   |  .        |   .

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@2931 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  . include/version.inc config/configure.ac configure xc_functionals/XC_libxc_driver.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - merged with trunk stable. Bug-fix imported
  - fixed version numbering in config/configure.ac

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@2929 76a4dfbf-5f1f-0410-a543-a0282073b526

- Small bugs in timing stop. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@2919 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea@r2917. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@2918 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  . include/version.inc config/configure.ac configure xc_functionals/XC_libxc_driver.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - merged with trunk stable. Bug-fix imported
  - fixed version numbering in config/configure.ac

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@2901 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea@r2880. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@2881 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  include/version.inc configure parallel/PARALLEL_global_indexes.F wf_and_fft/WF_load.F

  Bugs:
  - gfortran asks for .eqv. instead of == when comparing two logicals
  - B_mat_index is defined from SC_bands(1), loop fixed
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@2868 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea@2864. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@2865 76a4dfbf-5f1f-0410-a543-a0282073b526

- Revision number updated. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@2854 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andre@r2849. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@2853 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  modules/SET_defaults.F common/OCCUPATIONS_Fermi.F real_time/RT_manual_excitation.F include/version.inc config/configure.ac configure

  Bugs:
  - Fixed bug in OCCUPATIONS_Fermi
  Additions:
  -
  Changes:
  - Input energy for RT_manual_excitations is not changed by yambo
  - IO_time set by default to 0.5 fs

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@2844 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  . config/configure.ac ypp/RT_occupations_check.F ypp/RT_occupations_analyze.F include/version.inc driver/yambo_driver.F driver/yambo.h configure parallel/PARALLEL_global_indexes.F io/io_COLLISIONS.F io/COLLISIONS_load.F io/variables_SC.F modules/SET_defaults.F modules/mod_electrons.F modules/mod_collisions_IO.F modules/mod_real_time.F modules/mod_drivers.F qp/QP_newton.F qp/QP_of.F qp/QP_driver.F qp/QP_descriptions.F qp/COLLISIONS_cohsex.F qp/COLLISIONS_store.F qp/QP_report_and_write.F qp/ELPH_Sigma_c.F qp/COLLISIONS_eval.F qp_ctl/mod_QP_CTL.F setup/QP_external_corrections.F setup/QP_state_table_setup.F interface/init_load.F interface/init.F interface/barriers.F real_time/RT_observables.F real_time/RT_databases_IO.F real_time/RT_initialize.F real_time/RT_start_and_restart.F real_time/RT_driver.F real_time/RT_impose_N_conservation.F real_time/RT_ELPH_initialize.F real_time/RT_ELPH_zeroing.F real_time/RT_manual_excitation.F real_time/RT_relaxation.F common/OCCUPATIONS_Extend.F common/OCCUPATIONS_Fermi.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Merged with devel-davide:
    1) Energy references are now relative to Valence Band Maximum (VBM) and
       Conduction Band minimum (CBm). E_VBM and E_CBm are now part of the levels structure.
    2) Logicals and runlevels reorganized:
       * yambo_ph/yambo_rt -c [(e)lectrons/(p)honons/(b)oth] controls
         l_elel_corr  and l_elph_corr  refer to equilibrium     self-energy
       * yambo_rt -s [(e)lectrons/(p)honons/(b)oth] controls
         l_elel_scatt and l_elph_scatt refer to out-of-equirium self-energy = Scattering terms
    3) "rim_cut" runlevel is now yambo -r

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@2830 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  config/configure.ac config/Makefile.in configure qp_ctl/QP_apply_global_stretch.F real_time/RT_impose_N_conservation.F real_time/RT_G_retarded_EE_initialize.F real_time/RT_driver.F real_time/RT_mean_carrier_lifetimes.F real_time/RT_Coulomb_relaxation.F real_time/RT_Collision.F common/OCCUPATIONS_Fermi.F include/version.inc

  Bugs:
  - Fixed a couple of bugs in carrier dynamics with el-el scattering and RIM
  - e2y now compiles also in the trunk/devel (thanks Conor)
  Additions:
  -
  Changes:
  - The Fermi level is now always in the middle between the VBM and the CBm, also at T=0

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@2817 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fixed wrong merge with my branch. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@2812 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  . ypp/RT_occupations_repair.F ypp/RT_occupations_analyze.F ypp/electrons_dos_and_charge.F ypp/RT_occupations_FIT.F include/version.inc config/configure.ac configure modules/mod_real_time.F modules/SET_defaults.F common/HyperbolicSecant_FT.F interface/init_load.F interface/init.F real_time/RT_start_and_restart.F real_time/RT_k_grid.F real_time/RT_impose_N_conservation.F real_time/RT_G_retarded_EP_initialize.F real_time/RT_ELPH_initialize.F real_time/RT_G_retarded_EE_initialize.F real_time/RT_ELPH_total_Kernel.F real_time/RT_ELPH_CCA_Kernel.F real_time/RT_G_retarded_convolution.F io/io_RT_components.F io/variables_SC.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Merged with devel-davide:
    * fixed bug in RT_impose_nel_conservation
    * fixed restart with RIM
    * ypp_rt -t o? works alo without RIM. do with RT still to be fixed

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@2811 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  . config/configure.ac ypp/k_random.F ypp/ypp_init_load.F ypp/ypp_init.F ypp/RT_occupations_analyze.F include/version.inc configure real_time/RT_G_retarded_EE_initialize.F real_time/RT_initialize.F real_time/RT_start_and_restart.F real_time/RT_G_retarded_EP_initialize.F io/variables_SC.F modules/mod_real_time.F modules/SET_defaults.F modules/mod_com.F of conflicts:

  Bugs:
  -
  Additions:
  -
  Changes:
  - merged with devel-davide:
    * cleaned code from Gred DB
    * working on ypp_rt with RIM (likely ypp_rt withou RIM is not working now...)

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@2786 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  . qp_ctl/QP_apply_global_stretch.F modules/mod_SC.F modules/SET_defaults.F modules/mod_real_time.F common/HyperbolicSecant_FT.F bz_ops/bz_samp_indexes.F interface/init_load.F interface/init.F real_time/RT_start_and_restart.F real_time/RT_G_retarded_EP_initialize.F real_time/RT_G_retarded_EE_initialize.F real_time/RT_G_retarded_convolution.F real_time/RT_manual_excitation.F real_time/RT_ELPH_CCA_Kernel.F io/.objects io/io_G_retarded.F config/configure.ac ypp/RT_G_retarded_frequency.F ypp/mod_YPP.F ypp/.objects ypp/ypp_init_load.F ypp/RT_occupations_FIT.F ypp/RT_occupations_analyze.F ypp/ypp_init.F ypp/RT_G_retarded.F ypp/RT_occupations_check.F ypp/ypp_i.F include/version.inc driver/ypp.h configure

  Bugs:
  -
  Additions:
  -
  Changes:
  - merged with devel-davide:
    * Gret removed fom ypp, now can be decided in input
    * fixed Efermi shift for manual_excitations and E%W
    * ypp_rt -t of and -t op is now working with RIM (maybe it is not without RIM...)

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@2777 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  . configure common/.objects + config/configure.ac ypp/RT_occupations_analyze.F ypp/RT_occupations_FIT.F include/version.inc of conflicts:

  Bugs:
  -
  Additions:
  -
  Changes:
  - merged with devel-davide

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@2773 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea@2771. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@2772 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fixed small compilation issue. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@2769 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk stable. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@2768 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  . e2y/e2y_i.F e2y/etsf_data.F e2y/e2y_kb_pp.F e2y/e2y_wf.F e2y/.objects e2y/e2y_db1.F int_modules/mod_xc2y.F include/version.inc driver/e2y.h configure pol_function/Dipole_shifted_grids.F io/ioDB1.F modules/mod_vec_operate.F sbin/make_makefile.sh.in config/configure.ac ypp/ypp_init.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Merged with trunk stable up to rev 2673

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@2764 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea@2761. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@2763 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  include/version.inc configure real_time/RT_G_retarded_EP_initialize.F

  Bugs:
  - Fixed an old bug due to a typo "i_s" instead of "is"
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@2753 76a4dfbf-5f1f-0410-a543-a0282073b526

- Removed debug lines I left with the last commit. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@2736 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  wf_and_fft/WF_load.F qp/COLLISIONS_cohsex.F ypp/ypp_init.F ypp/k_random.F ypp/ypp_init_load.F include/version.inc configure

  Bugs:
  - Fixed bug in k_random introduced after merge with trunk stable
  - "RT-X" renamer "RT_X" because the "-" symbol is not correcty handled by the parser
  - mem est error fixed in COLLISIONS_cohsex.F
  Additions:
  -
  Changes:
  - WF_load allocation temporary restored to wf_nb_io to make the code work in linear respone
    calculations. To introduce a smaller allocation one should likely change the io_dimensions in ioWF

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@2734 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea@2729. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@2730 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  configure interface/init.F include/version.inc

  Bugs:
  -
  Additions:
  -
  Changes:
  - reverted commit r2710 by AndreaM to interface/init.F otherwise
    yambo_devel is running by default the em1d runlevel
  - fixed enable_keep_src flag in yambo/devel

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@2728 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  . io/ioBSS_invert.F qp/ELPH_Hamiltonian.F lib/libxc/configure ypp/k_random.F ypp/fix_PPs.F include/version.inc configure

  Bugs:
  -
  Additions:
  -
  Changes:
  - Merged with trunk/stable up to last revision

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@2725 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  . io/ioELPH.F setup/QP_external_corrections.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - merge with trunk/stable up to rev 2500 completed with the small changes left.

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@2724 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  . include/version.inc configure modules/mod_real_time.F modules/SET_defaults.F interface/init.F sc/SC_bare_Hamiltonian.F + ypp/ELPH_databases.F ypp/mod_YPP.F ypp/ypp_init.F ypp/ypp_init_load.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Merged with trunk up to rev2500.  Subroutines excluded from merging:
  * src/real_time/RT_start_and_restart.F
  * src/real_time/RT_initialize.F
  * src/qp/COLLISIONS_IO_eval.F
  * src/qp/COLLISIONS_IO_cohsex.F
  * src/qp/COLLISIONS_IO_compose.F

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@2723 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea@2709. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@2710 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea@2694. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@2695 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  . configure common/TEMPERATURE_Debye.F interface/init_load.F real_time/RT_ELPH_initialize.F real_time/RT_driver.F ypp/RT_occupations_FIT.F ypp/RT_occupations_analyze.F include/version.inc

  Bugs:
  -
  Additions:
  -
  Changes:
  - merged with devel davide:
    TEMPERATURE_Debye improved
    Occuations_FIT output restyling

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@2693 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  include/version.inc configure driver/ypp.h ypp/ypp_init.F ypp/ypp_init_load.F ypp/RT_occupations_repair.F ypp/electrons_driver.F ypp/RT_occupations_analyze.F ypp/RT_occupations_FIT.F ypp/mod_YPP.F ypp/RT_occupations_check.F ypp/ypp_i.F

  Bugs:
  - Now RT_occ_repair works aso if the QP range in input is different from
    the range defined by SC_bands
  - Fixed another but in RT_occupations_repair
  Additions:
  -
  Changes:
  - RToccFit and RToccPot are now two differet runlevels
  - cleaning of unused variables

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@2681 76a4dfbf-5f1f-0410-a543-a0282073b526

- Wrong merge of RT_observables.F fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@2679 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea@2676. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@2677 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  io/io_P_and_P2.F real_time/RT_current_AND_polarization.F real_time/RT_start_and_restart.F include/version.inc configure

  Bugs:
  - Now parallel runs and restart in parallel works on my laptop also with "DEBUG" flags
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@2666 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  include/version.inc configure io/io_DIPOLES.F

  Bugs:
  - RT restart is now working.
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@2665 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  . modules/mod_real_time.F real_time/RT_Fluence.F real_time/RT_observables.F real_time/RT_initialize.F include/version.inc configure

  Bugs:
  -
  Additions:
  -
  Changes:
  - code speed-up from devel-davide: RT_fluence computation modified

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@2661 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  include/version.inc configure parallel/PARALLEL_get_user_structure.F setup/PARALLEL_and_IO_Setup.F modules/mod_parallel.F

  Bugs:
  - Fixed two errors introduced with the last commit
  - Small bug fix
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@2653 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea@2651. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@2652 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  . ypp/ypp_i.F ypp/ypp_init.F ypp/ypp_init_load.F ypp/RT_occupations_repair.F ypp/electrons_driver.F ypp/RT_occupations_analyze.F ypp/RT_occupations_FIT.F ypp/mod_YPP.F ypp/electrons_dos_and_charge.F include/version.inc configure driver/ypp.h

  Bugs:
  - Fixed small bug in parallelization
  Additions:
  -
  Changes:
  - Improved Fermi function FIT subroutine
  - RT_dos and RT_occupations analysis in ypp reorganized

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@2649 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  . configure include/version.inc ypp/RT_occupations_FIT.F ypp/RT_occupations_analyze.F

  Bugs:
  - Fixed small bug in ypp/RT_occupations_analyze.F
  Additions:
  -
  Changes:
  - small improvements in temperature FIT

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@2644 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-davide. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@2642 76a4dfbf-5f1f-0410-a543-a0282073b526

- Git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-
  devel/trunk/devel@2627 76a4dfbf-5f1f-0410-a543-a0282073b526. [Andrea
  Marini]

- Merged with devel-andrea@2625. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@2626 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fixed wrong logicals in external QP database I/O. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@2608 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@2587 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@2577 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc modules/SET_defaults.F qp/XCo_local.F ypp/RT_occupations_analyze.F ypp/RT_occupations_check.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Merged with devel-davide: XCo_local computes hermitian part
                              changed how ypp_rt -s o uses logicals
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@2567 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  . config/acx_report.m4 config/configure.ac config/report.in configure doc/README.branches_and_trunk driver/driver.c driver/ydb.h include/version.inc modules/mod_parallel.F sc/V_real_space_to_H.F ydb/ydb_i.F ypp/electrons_dos_and_charge.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - merged with devel-andrea

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@2548 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  common/.objects common/TEMPERATURE_Debye.F io/io_G_retarded.F sc/V_qp_basis_to_H.F sc/V_real_space_to_H.F ypp/RT_G_retarded.F

  Bugs:
  - io operators dimension different from variable dimension in io_G_retarded
  - build only hermetian part in V_qp_basis_to_H.F and V_real_space_to_H.F
  - A_w_DP set to zero only if allocated
  - first rought inplementation of TEMPERATURE_Debye.F subroutine inserted
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@2538 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  qp/COLLISIONS_cohsex.F

  Bugs:
  - errors was not initialized to zero
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@2535 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  parallel/PARALLEL_global_indexes.F wf_and_fft/WF_load.F

  Bugs:
  - Fixed bug in WF_load when wf_nb_io > states_to_load(2)
  Additions:
  -
  Changes:
  - Fixed long line in parallel/PARALLEL_global_indexes.F for gfortran

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@2534 76a4dfbf-5f1f-0410-a543-a0282073b526

- Trunk/devel rebuilt from devel-andrea@rev2494. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/devel@2497 76a4dfbf-5f1f-0410-a543-a0282073b526

- Trunk old structure temporarly restored and commits after rev5276
  reverted. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5292 76a4dfbf-5f1f-0410-a543-a0282073b526

- Further svn:ignore set for ypp. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5284 76a4dfbf-5f1f-0410-a543-a0282073b526

- Svn:ignore set for main dir. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5283 76a4dfbf-5f1f-0410-a543-a0282073b526

- Target distclean -> clean_all added to Makefile's. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5282 76a4dfbf-5f1f-0410-a543-a0282073b526

- REPOSITORY reorganization based on decisions taken at the Meeting.
  [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5277 76a4dfbf-5f1f-0410-a543-a0282073b526

4.0.2 (2016-01-14)
------------------

- REPOSITORY reorganization based on decisions taken at the Meeting.
  [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/tags/4.0.2@5277 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K_IP.F bse/K_eh_setup.F interface/init_load.F modules/mod_BS.F pol_function/X_drude.F pol_function/X_os.F

  Bugs:
  - [yambo] Bug fix imported from trunk devel. The DrudeWXs input variable
            was not correctly parsed in the input and test 03_QP_COSEX_drude
            of Al_bulk was failing.
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5271 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. Bug#239 and  #238 fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5270 76a4dfbf-5f1f-0410-a543-a0282073b526

- Final fix bug#239. But extensive changes introduced. More tests needed
  to verify the effective correcteness of the fix. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5263 76a4dfbf-5f1f-0410-a543-a0282073b526

- Partial fix of the bug#239. Now Yambo performs correctly Interpolation
  + Extrapolation. But values are still different from the stable.
  [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5257 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Andrea Marini]

  *  config/configure.ac configure include/version.inc collisions/COLLISIONS_Fock.F collisions/COLLISIONS_NEQ_GW_static.F collisions/COLLISIONS_linearize_and_IO.F collisions/COLLISIONS_momentum.F collisions/COLLISIONS_sex.F io/variables_BS.F io/variables_X.F modules/SET_defaults.F modules/mod_X.F pol_function/X_bare_Double_Grid_GreenF.F pol_function/X_em1.F pol_function/X_pre_setup.F

  Bugs:
  - Fixed in a different way X_em1 to account for bug#238.

  Changes:
  - Temporarely restored I/O in collisions as in the old case. Waiting for Bug evidences to fix it.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5253 76a4dfbf-5f1f-0410-a543-a0282073b526

- Minor restyling. Only major change applied to configure that was
  erronously passing blas and lapack in testing of external libxc.
  [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5249 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk/devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5247 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug fixed in GW kinematics. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5201 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc pol_function/X_eh_setup.F pol_function/X_os.F

  Bugs:
  - [yambo] previous commit was still excluding points at finite transfered momentum
            with ik and ikp belonging to the same star. Now instead only points at
            iq=0 are excuded. Such commit was not respecting the symmetries of the
            system and was giving correct result only in runs without symmetries.
            Now instead only points at iq=0 are excuded. This is the correct fix.
            Such points have to be escluded because the dipoles at q=0 are not defined
            and their effect can be eventually included only via a Drude term.

  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5269 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc pol_function/X_eh_setup.F

  Bugs:
  - [yambo] In X_eh_setup transitions with E<1.E-5 are neglected only if ik==ikp
            These are the transitions at q=0 which can be then included via a Drude term,
            i.e. which describe the q-->0 limit.
            Other transitions at finite momentum must be included.
            This bug was making the test 03_QP_COHSEX of Al_bulk fail in the test-suite.
            Bug #201 in the tracker
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5268 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc ypp/real_time_ypp/RT_X_LRR_real_field.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [ypp_rt] Fixed calcuation off-diagonal elements of the dielectric function
             To be tested against yambo_kerr

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5261 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc qp/QP_real_axis.F

  Bugs:
  - [yambo] fixed bug in parallelization of QP_real_axis for l_life case
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5244 76a4dfbf-5f1f-0410-a543-a0282073b526

- Copyright year updated. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5243 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  devel/bse/K_solvers.F stable/sbin/yamboo.pl stable/bse/K_diagonalization.F stable/bse/K_driver.F stable/bse/K_solvers.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Fixed few GPL flags and defined _SC lines

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5242 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fixed wrong version in configure. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5239 76a4dfbf-5f1f-0410-a543-a0282073b526

- Yamboo.pl scripts in stable updated to devel version. Removed
  distinction yamboo and yamboo_new. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5238 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc pol_function/X_em1.F

  Bugs:
  - [yambo] call to IO_and_Messaging_switch moved back inside the loop
            otherwise code crashes
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5236 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure driver/yambo.h include/version.inc collisions/.objects collisions/COLLISIONS_compose.F collisions/COLLISIONS_compose_rt.F collisions/COLLISIONS_compose_sc.F interface/init.F interface/init_load.F io/io_RT_components.F io/variables_RT.F modules/SET_defaults.F modules/mod_IO.F modules/mod_fields.F modules/mod_real_time.F parser/mod_itm.F pol_function/X_pre_setup.F real_time/RT_BGR.F real_time/RT_Collision.F real_time/RT_Ext_fields.F real_time/RT_Field_Commensurable_Frequencies.F real_time/RT_Fluence.F real_time/RT_Integrator.F real_time/RT_Lifetimes_evaluation_plan.F real_time/RT_apply_RWA.F real_time/RT_current_AND_polarization.F real_time/RT_driver.F real_time/RT_initialize.F real_time/RT_propagate_fields.F real_time_control/RT_apply.F real_time_control/RT_output.F sc/SC_add_XC.F wf_and_fft/scatter_Gamp.F ypp/init_ypp/ypp_init.F ypp/real_time_ypp/RT_IO_J_and_P_paths.F ypp/real_time_ypp/RT_X_LRR_real_field.F ypp/real_time_ypp/RT_X_effective.F ypp/real_time_ypp/RT_X_inversion.F ypp/real_time_ypp/RT_X_qssin.F ypp/real_time_ypp/RT_driver.F ypp/real_time_ypp/RT_dump_and_write_JP.F ypp/real_time_ypp/RT_initialize.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Partial merge with devel-davide:
    [yambo_rt]
     * negf simulations can now be done with a generic number of pulses (up to 4) and the pulses
       can be either linearly or circularly polarized. The input variables changed name.
     * COLLISIONS_compose split in two subroutins for _rt and _sc. Indeed the two are quite different.
       - different input variable size and number,
       - different parallelization strategy,
       - in the _rt version the double grid is implemented,
       - in the _sc part the COHSEX self-energy is computed, in the _rt version only the SEX part is computed.
     * definition of fields in mod_fields extended to include circularly polarized pulses.
       Also the small_a subroutine has been split in small_a and small_a_frequency
     * RT_BGR is presently to be fixed.
     * Fixed integration with induced fields. Now it works correctly
    [ypp_rt]
     * The epsilon and eels are computed along E and in the perpenducular directions. This means
       also the Kerr effect can now be obtained via ypp_rt and potentially the NEQ-Kerr. [To be tested]
     * Post processing of the polarization improved. Finally the absorption is exactly on top of the BSE
       (provided the same smearing is used) also when the polarization is not written in output at each
       time-step

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5232 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc collisions/COLLISIONS_Fock.F collisions/COLLISIONS_NEQ_GW_static.F collisions/COLLISIONS_eval.F collisions/COLLISIONS_linearize_and_IO.F collisions/COLLISIONS_momentum.F collisions/COLLISIONS_sex.F pol_function/X_em1.F

  Bugs:
  - [yambo & yambo_rt] fixed three nasty bugs in parallel IO
    1) definition of Xdb ID in X_em1. Master writes, then all CPUs read to know the ID
    2) definition of COLL_ID in COLLISIONS_linearize_and_IO. Master writes, then all CPUs read to know the ID
    3) When collisions IO is done in parallel only HEAD_QP_cpu writes the DBs

  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5231 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc modules/SET_defaults.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Removed duplicate of COLLISIONS_cutoff default.

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5228 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc modules/mod_parallel.F pol_function/X_em1.F

  Bugs:
  - [BUG #238] Bug fixed. Now fragment index of ndb.em1s file always correspond to iq index
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5209 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  devel/bse/K_Haydock.F stable/bse/K_Haydock.F

  Bugs:
  - [yambo] (stable) fixed GPL_EXLUDE flag in K_Haydock
  - [yambo] (stable and devel) fixed call to ioBSS_Haydock
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5198 76a4dfbf-5f1f-0410-a543-a0282073b526

- Updated .objects_gpl in ypp/electrons and config/Makefile.in_gpl.
  [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5196 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc surf/.objects_gpl

  Bugs:
  -
  Additions:
  -
  Changes:
  - [yambo_surf] empty surf/.objects_gpl
                 yambo_surf is temporarly off in the GPL.

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5195 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc modules/mod_fields.F real_time/RT_Ext_fields.F ypp/real_time_ypp/RT_X_LRR_real_field.F ypp/real_time_ypp/RT_initialize.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [yambo_rt] improved definition of theta function and derivatives
               for RK2 integrator in src/modules/mod_fields.F

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5189 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc interface/init.F

  Bugs:
  - [yambo] Coupling in W_eh was never activated after recent change to BSE_mode definition,
            since activation of l_W_eh_cpl was still based on xc_coupling
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5170 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc collisions/COLLISIONS_load.F io/io_COLLISIONS.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [yambo_rt] restored compatibility with old COLLISIONS DBs

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5161 76a4dfbf-5f1f-0410-a543-a0282073b526

- Removed more svn:mergeinfo files which are not in the main folder.
  [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5160 76a4dfbf-5f1f-0410-a543-a0282073b526

- Removed svn:mergeinfo files which are not in the main folder. [Davide
  Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5159 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug #235 fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5158 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5153 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5151 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug fix in QED via collisions and in init to read G vectors from em1s
  db. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5146 76a4dfbf-5f1f-0410-a543-a0282073b526

- Lost change in the merging. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5140 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5139 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fixed bug that was preventing the actual distribution of the wave
  functions. Spotted by PM. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5138 76a4dfbf-5f1f-0410-a543-a0282073b526

- Added contributions for 0 photon momentum. [Pedro Melo]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5100 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Andrea Marini]

  *  config/configure.ac configure include/version.inc collisions/SCATTERING_QED_transverse_matrix.F modules/mod_QP.F modules/mod_functions.F qp/ELPH_Sigma_c.F qp/QED_Sigma_c.F qp/QP_driver.F qp/QP_life_transitions.F qp/QP_of.F qp/QP_real_axis.F

  Bugs:
  - [QED] Bug fix in transverse matrix definition.

  Additions:
  - [QED] Added more fields in QP_of

  Changes:
  - Added global QP_time_order_sign for finite temperature calculations.
  - e2et and h2ht functions moved in mod_QP.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5095 76a4dfbf-5f1f-0410-a543-a0282073b526

- Full retarded version of Lamb self-energy coded. Including
  derivatives. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5093 76a4dfbf-5f1f-0410-a543-a0282073b526

- Solved Gfortran issues with SLK and long lines in init_barriers.
  [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5088 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5084 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fixed bug in rim_spherical and bug#231 in PARALLEL_global_indexes.
  [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5083 76a4dfbf-5f1f-0410-a543-a0282073b526

- Minor compilation errors fixed. Moved yambo_qed_rt in yambo_qed.
  [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5070 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Andrea Marini]

  *  config/configure.ac configure include/version.inc collisions/COLLISIONS_eval.F collisions/COLLISIONS_linearize_and_IO.F collisions/COLLISIONS_load.F collisions/COLLISIONS_momentum.F interface/init.F io/io_COLLISIONS.F modules/mod_collision.F qp/QED_Sigma_c.F setup/QP_state_table_setup.F

  Additions:
  - Added support for partial COLLISIONS. i.e. covering more bands/k-points. Still to be fully tested.

  Changes:
  - Fixed E-Photon collisions. Now working in serial. Parallel to test.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5069 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Andrea Marini]

  *  config/configure.ac configure include/version.inc collisions/.objects collisions/.objects_gpl collisions/COLLISIONS_alloc_and_free.F collisions/COLLISIONS_eval.F collisions/COLLISIONS_load.F collisions/COLLISIONS_momentum.F io/.objects io/.objects_gpl io/io_QP_and_GF.F modules/mod_collision.F qp/QED_Sigma_c.F qp/QP_newton.F

  Bugs:
  - Wrong header for QED qp DB fixed.

  Additions:
  - P collisions evaluation and I/O now working. No seg. fault.
  - Sigma_qed via collisions working. Still wrong results and serial only tested.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5064 76a4dfbf-5f1f-0410-a543-a0282073b526

- P collisions (needed for QED gw and radiative lifetimes) implemented
  and running. To test, check parallelization and trasnfer to _RT.
  [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5052 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fixed QED Sigma_c prefactors. Added more extended comments to
  rim_spherical. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5046 76a4dfbf-5f1f-0410-a543-a0282073b526

- Missing ypp file and QED_Sigma_c.F cleaned-up and ready for
  collisions. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5044 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug fix in scatter_Bamp_using_the_gradient and added NEW vs OLD lines
  for comparison. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5039 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fixed OPENmp bug in Gradient scattering and synced QED_Sigma_c wirh
  pedro's branch. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5038 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5036 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Andrea Marini]

  *  config/configure.ac configure include/version.inc acfdt/acfdt_tot_energy.F bse/K.F bse/K_correlation_collisions.F bse/K_diag_compute_epsilon.F bse/K_exchange_collisions.F collisions/COLLISIONS_Fock.F collisions/COLLISIONS_NEQ_GW_static.F collisions/COLLISIONS_eval.F collisions/COLLISIONS_momentum.F collisions/COLLISIONS_sex.F coulomb/rim_spherical.F modules/mod_BS.F modules/mod_collision.F pol_function/X_os.F pol_function/X_os_residuals.F qp/QED_Sigma_c.F qp/QP_ppa_cohsex.F qp/QP_real_axis.F qp/XCo_Hartree_Fock.F sc/OEP_ApplySigmaCSX.F sc/OEP_ApplySigmaX.F sc/OEP_Hole.F sc/OEP_app_inversion.F sc/OEP_exact_inversion.F sc/OEP_iterative.F wf_and_fft/scatter_Bamp.F wf_and_fft/scatter_Bamp_using_the_gradient.F wf_and_fft/scatter_Gamp.F wf_and_fft/scatter_Modscr.F

  Changes:
  - Global change in elemental scattering (old ggwinfo) type. Clean-up of alloc/free subroutines.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5034 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merging history manually imported up to revision 5032. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5152 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fixed (maybe) gfotran bug for SLK_test. Working on P collisions.
  [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5010 76a4dfbf-5f1f-0410-a543-a0282073b526

- Clean-UP (step #1) [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5006 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc collisions/COLLISIONS_compose.F

  Bugs:
  - [yambo_rt] Fixed RT_Nk_ibz factor in COLLISIONS_compose.F with double grid
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5141 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc collisions/COLLISIONS_compose.F real_time/RT_start_and_restart.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [yambo_rt] Recent fix of COLLISIONS_compose with double grid made more efficient

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5136 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc collisions/COLLISIONS_compose.F

  Bugs:
  - [yambo_rt] Fixed bug in real-time with double grid [COLLISIONS_compose.F]
               Still to check if the division by TR_Nk_ibz is needed ...
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5135 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Conor Hogan]

  *  config/acx_fortran_flags.m4 config/configure.ac config/netcdf_f90.m4 configure include/version.inc bse/K_Haydock.F common/Fermi_fnc_fit.F real_time/RT_impose_zero_dE_and_dN.F

  Bugs:
  - NETCDF.mod/TYPESIZES.mod generated by some compilers were not being copied to include
  - pgfortran default flags were those of gfortran
  Additions:
  - Added support for PGI compilers (on OS/X specifically) including pgfortran
  - Simple hack for isnan through a -D_PGI flag (needs to be passed explicitly)

  Patch sent by: Conor


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5122 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Conor Hogan]

  *  configure include/version.inc common/Fermi_fnc_fit.F real_time/RT_impose_zero_dE_and_dN.F bse/K_Haydock.F config/configure.ac

  Additions:
  - isnan checks added for XLF via ieee_is_nan F2003 function

  Patch sent by: Conor


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5118 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/Makefile.in config/configure.ac configure include/version.inc interpolate moved interpolate/.objects interpolate/bz_interp_coeff.F interpolate/bz_interp_setup.F interpolate/bz_interpolation.F interpolate/eval_interpolation_coeff.F interpolate/fourier_interpolation.F interpolate/grid_generator.F modules/.objects modules/.objects_gpl modules/SET_defaults.F modules/mod_interpolate.F moved ypp/init_ypp/ypp_init.F + moved ypp/modules_ypp/.objects + moved

  Bugs:
  -
  Additions:
  -
  Changes:
  - [ypp] interpolate folder, which is used only by ypp, moved under ypp folder.
          Same for mod_interpolate. config/Makefile.in updated accordingly
   *warning* config/Makefile.in_gpl is presently broken. It has not been adapted to the
   new ypp structure

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5112 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fixed bug in ypp and init. Added libxc archive informations. [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5109 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc p2y/qexml_v4.0.F

  Bugs:
  - [p2y] fixed bug for psps V1 without non local components
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5096 76a4dfbf-5f1f-0410-a543-a0282073b526

- Added support for ifort 16. [Conor Hogan]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5091 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K_WF_phases.F parallel/PARALLEL_WF_index.F parallel/PARALLEL_minimal_index_from_overlaping.F qp/XCo_local.F sc/SC_bare_Hamiltonian.F xc_functionals/el_density_and_current.F xc_functionals/el_density_matrix.F xc_functionals/el_magnetization.F ypp/real_time_ypp/RT_X_LRR_real_field.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [yambo] commits 5068 and 5066 reverted

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5081 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K.F

  Bugs:
  - [bug 228] fixed wrong symmetrization of coupling matrix in K.F
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5079 76a4dfbf-5f1f-0410-a543-a0282073b526

- Erased all svn:mergeinfo file in subforlders. Ony the mergeinfo in the
  main fodlder remains. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5075 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc qp/XCo_local.F

  Bugs:
  - Fixed error in previous commit
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5068 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K_WF_phases.F parallel/PARALLEL_WF_index.F parallel/PARALLEL_minimal_index_from_overlaping.F qp/XCo_local.F sc/SC_bare_Hamiltonian.F xc_functionals/el_density_and_current.F xc_functionals/el_density_matrix.F xc_functionals/el_magnetization.F

  Bugs:
  - [bug 231] Fix released. Likely to be improved or finalized in the future
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5067 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  . config/configure.ac configure driver/ypp_driver.F include/version.inc interpolate/bz_interp_setup.F ypp/electrons/.objects ypp/electrons/electrons_bands.F + ypp/electrons/electrons_dos.F ypp/electrons/electrons_driver.F ypp/modules_ypp/mod_YPP.F ypp/real_time_ypp/.objects ypp/real_time_ypp/RT_driver.F + + ypp/real_time_ypp/RT_occupations_analyze.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [ypp & ypp_rt] merged with devel davide. Bands interpolation restored.

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5061 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc modules/mod_vec_operate.F

  Bugs:
  - [yambo] fixed bug which was making fail test 05_rx_greenfunc in LiF/GW
            if code was compiled with bound checks
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5056 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc common/FREQUENCIES_setup.F io/io_RT_components.F + linear_algebra/MATRIX_driver.F linear_algebra/SLK_test.F linear_algebra/SLK_test_util.F modules/mod_fields.F modules/mod_wrapper_omp.F parallel parallel/PARALLEL_WF_distribute.F parallel/PARALLEL_WF_index.F parallel/PARALLEL_minimal_index_from_overlaping.F real_time/RT_Collision.F real_time/RT_apply_field.F real_time_control/.objects real_time_control/RT_apply.F real_time_control/RT_carriers_object.F real_time_control/RT_databases_IO.F + real_time_control/RT_output.F sc/SC_driver.F setup/External_corrections.F setup/setup.F wf_and_fft/.objects wf_and_fft/WF_load.F wf_and_fft/scatter_Bamp.F ypp/init_ypp/ypp_init.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - merged with devel davide.
    Partial merge to correctly import the fixes I did in ypp_rt
    In particular, from the last commit, the changes to RT_apply and
    the addition of RT_interpolation were missing.

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5055 76a4dfbf-5f1f-0410-a543-a0282073b526

- Removed src/common mergeinfo which was causing problems. [Davide
  Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5053 76a4dfbf-5f1f-0410-a543-a0282073b526

- Svn:mergeinfo deleted from subfolders. Kept only the one in the main
  path. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5033 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  . config/configure.ac configure driver/ypp.h driver/ypp_driver.F include/version.inc lib lib/fftqe/.objects lib/fftqe/c_defs.h.in lib/fftqe/fft_errore.F lib/fftqe/fft_hpsort.F lib/fftqe/fft_setmap.F lib/fftqe/fft_stick.c lib/fftqe/fftqe_defs.h.in lib/fftqe/fftw.h lib/fftqe/fftw2.c lib/fftqe/konst.h lib/fftqe/mod_fft_aux.F lib/fftqe/mod_fft_base.F lib/fftqe/mod_fft_interfaces.F lib/fftqe/mod_fft_parallel.F lib/fftqe/mod_fft_scalar.F lib/fftqe/mod_fft_types.F lib/fftqe/mod_stick_base.F lib/fftqe/mod_stick_set.F ypp/electrons/.objects + + ypp/electrons/electrons_dos_and_charge.F ypp/electrons/electrons_driver.F ypp/elph/ELPH_excitonic_gkkp.F ypp/elph/ELPH_general_gFsq.F ypp/excitons/.objects + + ypp/excitons/excitons_collinear.F ypp/excitons/excitons_driver.F + ypp/excitons/excitons_non_collinear.F ypp/excitons/excitons_sort_and_report.F + ypp/init_ypp/ypp_init.F ypp/init_ypp/ypp_init_load.F ypp/modules_ypp/mod_YPP.F ypp/real_time_ypp/.objects ypp/real_time_ypp/RT_driver.F + + + ypp/real_time_ypp/RT_occupations_FIT_and_plot.F ypp/real_time_ypp/RT_occupations_analyze.F

  Bugs:
  -
  Additions:
  -
  Changes:
    [ypp] merged with devel davide
  - [ypp] excitons_driver "modularized"
  - [ypp & yp_rt] electrons_dos_and_charge split in: electrons_dos, electrons_density, RT_occ_2D_dos_plot
  - [ypp_rt] restored ypp_rt post processing  features which where broken
  - [yambo_rt] Fermi function fit upgraded (it is called by ypp_rt). As a consequence I've upgraded
               also the two subroutines which call it in yambo_rt

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5032 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Andrea Marini]

  *  . config/Makefile.in config/configure.ac configure doc driver/.objects driver/driver.c driver/yambo.h driver/yambo_driver.F + include/version.inc a2y c2y e2y int_modules lib lib/etsf_io lib/fftqe lib/fftqe/.objects lib/fftqe/c_defs.h.in lib/fftqe/fft_errore.F lib/fftqe/fft_hpsort.F lib/fftqe/fft_setmap.F lib/fftqe/fft_stick.c lib/fftqe/fftqe_defs.h.in lib/fftqe/fftw.h lib/fftqe/fftw2.c lib/fftqe/konst.h lib/fftqe/mod_fft_aux.F lib/fftqe/mod_fft_base.F lib/fftqe/mod_fft_interfaces.F lib/fftqe/mod_fft_parallel.F lib/fftqe/mod_fft_scalar.F lib/fftqe/mod_fft_types.F lib/fftqe/mod_stick_base.F lib/fftqe/mod_stick_set.F lib/install lib/iotk lib/libxc lib/local lib/netcdf sbin/make_makefile.sh.in acfdt bz_ops collisions collisions/.objects collisions/COLLISIONS_Fock.F collisions/COLLISIONS_QED_gw.F collisions/COLLISIONS_eval.F collisions/COLLISIONS_linearize_and_IO.F + collisions/COLLISIONS_sex.F collisions/PLASMA_build_up.F collisions/PLASMA_parallel_setup.F collisions/PLASMA_tables_and_dimensions.F common communicate coulomb external_c interface interface/init.F interface/init_barriers.F interface/init_load.F interpolate io linear_algebra linear_algebra/SLK_test.F linear_algebra/SLK_test_util.F modules modules/mod_X_output.F modules/mod_drivers.F modules/mod_global_XC.F parallel parser pol_function pol_function/DIPOLE_kb_Ylm.F qp qp_control real_time real_time/RT_initialize.F real_time_control real_time_control/RT_databases_IO.F sc setup stop_and_restart surf surf_modules tddft wf_and_fft wf_and_fft/scatter_Bamp_using_the_gradient.F xc_functionals ydb ydb/ydb_i.F ypp/.objects ypp/.objects_gpl ypp/ELPH_atomic_amplitude.F ypp/ELPH_databases.F ypp/ELPH_eliashberg_dos.F ypp/ELPH_excitonic_gkkp.F ypp/ELPH_general_gFsq.F ypp/ELPH_gkkp_expand.F ypp/QP_DBs_initialize.F ypp/QP_DBs_merge.F ypp/QP_DBs_setup.F ypp/RT_1D_Fourier_Transform.F ypp/RT_IO_J_and_P.F ypp/RT_IO_J_and_P_paths.F ypp/RT_IO_check_Double_Grid.F ypp/RT_X_LRR_real_field.F ypp/RT_X_effective.F ypp/RT_X_inversion.F ypp/RT_X_qssin.F ypp/RT_coefficients_Fourier.F ypp/RT_coefficients_Inversion.F ypp/RT_damp_it.F ypp/RT_driver.F ypp/RT_dump_and_write_JP.F ypp/RT_initialize.F ypp/RT_occupations_FIT_and_plot.F ypp/RT_occupations_analyze.F ypp/RT_split_Polarization.F ypp/RT_transient_absorption.F ypp/WANNIER_driver.F ypp/WF_map_perturbative_SOC.F + ypp/bxsf_read.F ypp/double_k_grid.F + ypp/electrons_angular_momentum.F ypp/electrons_bands.F ypp/electrons_dos_and_charge.F ypp/electrons_driver.F ypp/electrons_position.F + + ypp/excitons_collinear.F ypp/excitons_driver.F ypp/excitons_non_collinear.F ypp/excitons_sort_and_report.F ypp/fix_PPs.F ypp/fix_SC_DBs.F ypp/fix_WFs_Gshells.F ypp/fix_WFs_and_E.F ypp/fix_symmetries.F + + ypp/k_DbGd_grid_consistency_check.F ypp/k_build_map.F ypp/k_grids.F ypp/k_map_fine_to_coarse.F ypp/k_random.F ypp/k_special.F ypp/mod_YPP.F + ypp/plot_and_project_1D.F ypp/plot_check_and_launch.F ypp/plot_cube.F ypp/plot_gnuplot.F ypp/plot_xcrysden.F + + + ypp/ras_loc_ypp.F ypp/ras_trans_ypp.F ypp/ras_ypp.F + ypp/reels_ypp.F + ypp/symmetries_driver.F ypp/ypp_i.F ypp/ypp_init.F ypp/ypp_init_load.F

  *** Merged with devel-andrea ***

  Changes:
  - Created brand new ypp subirectory structure and moved the ypp_driver into driver/
  - Created a new option (-s) for self-consistent calculation and moved the potential (-v) at the level
    of the kernel.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@5004 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Andrea Marini]

  *  config/Makefile.in config/configure.ac configure driver/.objects include/version.inc sbin/make_makefile.sh.in ypp/.objects ypp/.objects_gpl ypp/bits/.objects ypp/bits/.objects_gpl ypp/electrons/.objects ypp/electrons/.objects_gpl ypp/elph/.objects ypp/elph/.objects_gpl ypp/init_ypp/.objects + moved ypp/k-points/k_build_map.F moved ypp/qp_ypp/.objects ypp/qp_ypp/QP_DBs_initialize.F moved ypp/real_time_ypp/.objects_gpl ypp/symmetries/.objects_gpl + moved

  *** Now it compiles. Testing over-night ***

  Additions:
  - Added new .objects_gpl (to be tested)

  Changes:
  - Fixed compilation of all ypp components in the new structure

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@5000 76a4dfbf-5f1f-0410-a543-a0282073b526

- More on compilation. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4997 76a4dfbf-5f1f-0410-a543-a0282073b526

- YPP directory reorganized. Noything compiles (YEAH!) [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4996 76a4dfbf-5f1f-0410-a543-a0282073b526

- Preparing the subdirectory structure of ypp. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4995 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Andrea Marini]

  *  . config/configure.ac configure driver/yambo.h driver/yambo_driver.F include/version.inc collisions/.objects collisions/COLLISIONS_QED_gw.F moved collisions/COLLISIONS_eval.F + moved collisions/COLLISIONS_sex.F interface/init.F interface/init_barriers.F interface/init_load.F modules/mod_X_output.F modules/mod_drivers.F pol_function/DIPOLE_kb_Ylm.F real_time/RT_initialize.F wf_and_fft/scatter_Bamp_using_the_gradient.F ydb/ydb_i.F

  *** WARNING: change in command line structure ***

  Changes:
  - Added "Potential" option like "Kernel. Removed its link with the SC calculations.
  - Added -s option for SC calculations.
  - Cleaned up the init procedures for sc and rt calculations (including collisions).
  - Removed spurious COHSEX/HF runlevels for sc and rt calculations.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4993 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4960 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4939 76a4dfbf-5f1f-0410-a543-a0282073b526

- Devel-andrea synced with devel-trunk and new structure for QED
  collisions added. Devel-trunk synced with devel-andrea. [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4932 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/Makefile.in config/configure.ac configure include/version.inc sbin/yamboo.pl bse/K_IP.F bse/K_Transitions_setup.F bse/K_diag_compute_epsilon.F bse/K_diagonalization.F bse/K_kerr_IP.F bse/K_stored_in_a_BIG_matrix.F real_time/.objects real_time_control/.objects real_time_control/.objects_gpl surf/.objects surf_modules/.objects surf_modules/.objects_gpl moved + moved wf_and_fft/.objects_gpl ydb/.objects_gpl

  Bugs:
  -
  Additions:
  -
  Changes:
  - GPL: flags and objects updated
  - ydb moved to broken project

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4958 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc ypp/ypp_i.F

  Bugs:
  - [ypp_rt] fixed argouments given to RT_driver call (thanks Claudio)
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4954 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  devel/config/configure.ac devel/configure devel/include/version.inc devel/interpolate/bz_interp_setup.F devel/ypp/electrons_bands.F stable/config/configure.ac stable/configure stable/include/version.inc stable/interpolate/bz_interp_setup.F

  Bugs:
  - [ypp] Fixed bug 219 both in trunk stable and in trunk devel

  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4952 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc modules/mod_wrapper_omp.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [yambo] still related to bug 213. AndreaF created gemm_omp subroutine
            The implementation now should be much more efficient

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4947 76a4dfbf-5f1f-0410-a543-a0282073b526

- Zgemm_omp routines added. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4944 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc modules/mod_wrapper_omp.F

  Bugs:
  - [bug 213] Bug fixed, however in a non efficient way.
              Best solution would be to define gemm_omp subroutines
              as for the gemv_omp case

  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4941 76a4dfbf-5f1f-0410-a543-a0282073b526

- Src/bz_ops/.objects_gpl restored. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4937 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  devel/config/configure.ac devel/configure devel/include/version.inc devel/bse/K_Transitions_setup.F devel/io/io_DB1.F stable/config/configure.ac stable/configure stable/include/version.inc stable/p2y/qexml_v4.0.F

  Bugs:
  - [p2y (stable)] bug fix imported from trunk devel (from Andrea F)
  - [yambo (devel)] code did not compile due to wrong definitio of
                    menu_is_closed inside io_DB1.F (integer instead of logical)
  Additions:
  -
  Changes:
  - [yambo] inserted GPL_EXCLUDE_FLAG inside K_Transitions_setup

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4936 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure driver/ypp.h_gpl include/version.inc common/.objects_gpl parallel/.objects pol_function/.objects_gpl wf_and_fft/.objects_gpl ypp/.objects_gpl

  Bugs:
  -
  Additions:
  -
  Changes:
  - Removed from .objects_gpl files sources which are not GPL
  - _SURF liner restored in driver/ypp.h_gpl

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4935 76a4dfbf-5f1f-0410-a543-a0282073b526

- Updated GPL-related objects. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4934 76a4dfbf-5f1f-0410-a543-a0282073b526

- Devel-andrea synced with devel-trunk and new structure for QED
  collisions added. Devel-trunk synced with devel-andrea. [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4932 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4927 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merging history from trunk-devel revisions 1:4888 recorded as done.
  [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4926 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fixed bug in PARALLEL dipoles structure. Re-written the mask using
  internal parallel logical rather than section names. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4924 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug-fix in DIPOLE + density_matrix parallelization in RT simulations.
  [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4913 76a4dfbf-5f1f-0410-a543-a0282073b526

- Working on tentative fix of Dipoles parallelization in RT_driver. To
  be check in night-runs. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4911 76a4dfbf-5f1f-0410-a543-a0282073b526

- Small fix for already created Double Grid db's. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4890 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4888 76a4dfbf-5f1f-0410-a543-a0282073b526

- Small fixes. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4859 76a4dfbf-5f1f-0410-a543-a0282073b526

- Missing changes of the last merge. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4855 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4854 76a4dfbf-5f1f-0410-a543-a0282073b526

- Spectator procs allowed. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4845 76a4dfbf-5f1f-0410-a543-a0282073b526

- OMP switched off by error. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4842 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug fix in openMP switch off flag and added separate OpenMPI flag in
  report. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4829 76a4dfbf-5f1f-0410-a543-a0282073b526

- Flag to skip openmp fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4811 76a4dfbf-5f1f-0410-a543-a0282073b526

- Added option to skip openmp and fixed message error io ioDB1. [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4806 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4792 76a4dfbf-5f1f-0410-a543-a0282073b526

- SLK now made working with the (first level) A2A MPI comms of Yambo.
  [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4786 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4778 76a4dfbf-5f1f-0410-a543-a0282073b526

- [ yambo-devel Bugs Item #190] BSE  netcdf variable not found  ndb.QP
  (trackeritem-190). Fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4777 76a4dfbf-5f1f-0410-a543-a0282073b526

- Missing changes from previous merge added. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4773 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4772 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Andrea Marini]

  *  config/configure.ac configure include/version.inc interface/init_load.F linear_algebra/SLK_POOLS_init.F linear_algebra/SLK_test.F modules/mod_SLK.F parallel/PARALLEL_defaults.F parallel/PARALLEL_get_user_structure.F parallel/PARALLEL_global_indexes.F

  SLK now fully working also reading the PARALLEL conf from input.

  Still POOLS must be created by the SLK_POOLS_init as I was not able to transfer in the POOL definition the
  COMM_type. This is still to be done.

  Also the code get frozen if the BLACS grid does not involve all CPU's of the POOL.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4771 76a4dfbf-5f1f-0410-a543-a0282073b526

- Everything works (also in SP) only if I do not ask
  PARALLEL_global_indexes to load the SLK parallel structures. Why? Boh.
  [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4770 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fighting to embody the SLK sub-structure into the parallel structure.
  Still now working. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4769 76a4dfbf-5f1f-0410-a543-a0282073b526

- SLK internal test fully working. Now preparing the transfer to the
  parallel structure. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4766 76a4dfbf-5f1f-0410-a543-a0282073b526

- SLK-based Yambo now compiles. Created SLK-test runlevel. Still garbage
  as output. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4760 76a4dfbf-5f1f-0410-a543-a0282073b526

- More SLK. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4758 76a4dfbf-5f1f-0410-a543-a0282073b526

- Working on SLK support. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4757 76a4dfbf-5f1f-0410-a543-a0282073b526

- Started the emboding of the SLK test in the Yambo structure. [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4753 76a4dfbf-5f1f-0410-a543-a0282073b526

- Working on SLK support. Fixed format. Selected variables to include.
  [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4750 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4748 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc real_time_control/RT_apply.F

  Bugs:
  - [yambo_rt] Fixed RT_apply in case input variable is not properly defined with < and @
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4929 76a4dfbf-5f1f-0410-a543-a0282073b526

- Further consistency fixes. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4923 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  devel/p2y/qexml_v4.0.F stable/p2y/qexml_v4.0.F

  Bugs:
  - [p2y] Definition of ngauss, degauss and degauss_units fixed
          also in trunk stable
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4921 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc lib/archive/package.list

  Bugs:
  - [NETCDF] Bug fix imported from trunk/devel
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4920 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc p2y/pw_struct_module.F

  Bugs:
  - [p2y] a, b, a_omega, b_omega are now defined in double precision
          when yambo is compiled in DP (patch from Claudio)
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4919 76a4dfbf-5f1f-0410-a543-a0282073b526

- Nasty print command removed from netcdf library. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4918 76a4dfbf-5f1f-0410-a543-a0282073b526

- Ifort -C showed some consistency errors in p2y. fixed. [Andrea
  Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4917 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc io/io_E_SOC_map.F ypp/WF_map_perturbative_SOC.F ypp/mod_YPP.F ypp/ypp_init.F ypp/ypp_init_load.F

  Bugs:
  - [ypp] Perturbative soc mapping improved.
          Before it was still working only in simplified situations.
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4910 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc real_time_control/RT_observables.F

  Bugs:
  - [yambo_rt] Fixed kinetic energy computation
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4895 76a4dfbf-5f1f-0410-a543-a0282073b526

- Openmpi problem fixed by resorting to the MPI-standard variable
  MPI_COMM_NULL. Variables related to enable-openmpi removed from
  configure. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4886 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  modules/mod_vec_operate.F ypp/WF_map_perturbative_SOC.F ypp/mod_YPP.F ypp/ypp_init.F ypp/ypp_init_load.F

  Bugs:
  - [ypp] SOC mapping fixed
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4876 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  devel/config/configure.ac devel/configure devel/include/version.inc devel/ypp/QP_DBs_initialize.F devel/ypp/QP_DBs_setup.F stable/config/configure.ac stable/configure stable/include/version.inc stable/ypp/QP_DBs_initialize.F stable/ypp/QP_DBs_setup.F

  Bugs:
  - [ypp] Fixed bug 153 bot in trunk stable and in trunk devel
          QP corrections are always the same for both spin channel
          Extension to different QP corrections requires many changes in the code.
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4869 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc p2y/qexml_v4.0.F

  Bugs:
  - [p2y] Fix of bug 203 imported from trunk devel
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4868 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc p2y/qexml_v4.0.F bse/K_Haydock.F

  Bugs:
  -[p2y] bug 203 in the tracker fixed. It was affecting the non local part
         of pseudo-potentials of version 1 due to an error in qexml_v4.0.F

  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4867 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc common/FREQUENCIES_setup.F pol_function/DIPOLE_kb_Ylm.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - GPL_EXCLUDE flags inserted in common/FREQUENCIES_setup.F
  - _SP, cZERO inserted and exponents changed from real numbers to integers

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4856 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K_Haydock.F

  Bugs:
  - Fixed GPL_EXCLUDE flags which where causing Haydock to fail in the branch gpl

  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4852 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K_dot_product.F modules/mod_BS.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - dot_product in bse/K_dot_product is done using Vstar_dot_V_omp

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4850 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  devel/config/configure.ac devel/configure devel/include/version.inc devel/bse/K_Haydock.F devel/bse/K_dot_product.F devel/bse/K_multiply_by_V.F devel/modules/mod_interfaces.F stable/config/configure.ac stable/configure stable/include/version.inc stable/bse/K_BSmat_by_V.F stable/bse/K_Haydock.F stable/common/pert_inversion.F stable/modules/mod_BS.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [yambo] K_multiply_by_V and K_dot_product moved outside mod_interfaces
  - [yambo] K_BSmat_by_V
   These two changes do not have any particular impact on the trunk.
   However they solve the fail of test LiF/OPTICS for the branch/gpl/devel extracted from the trunk.
   To verify if it is so also for the branch/gpl/stable
   Unfortunately the bug in branch/gpl/devel was "hiding" if I tryed to put some write(*,*) in K_Haydock.F
   It is possible that there is a bug was somewhere else ... (?)


  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4840 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K_output_file.F pol_function/O_eels.F

  Bugs:
  - [yambo] fixed definition of ordering in K_output file which is used to compute the eels
            Some reference files for the eels in the test-suite need to be updated
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4823 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bz_ops/k_map_nearest_by_dir.F io/io_Overlaps.F pol_function/Build_Overlaps_Det_EQ.F pol_function/DIPOLE_build_covariants.F pol_function/DIPOLE_overlaps.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Covariant dipoles implementation updated to second order [patch from Claudio]

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4812 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Myrta Gruning]

  *  AUTHORS real_time/RT_Ext_fields.F

  Bugs: real_time/RT_Ext_fields.F: A%vecpot_acc not correctly updated (found by Ryan)
  -
  Additions: Ryan added to active devel list
  -
  Changes:
  -


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4803 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc real_time_control/RT_average_operator.F

  Bugs:
  - [BUG#196] Bug fixed. RT_average_operator had to be updated after the changes in the dipoles IO
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4791 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc xc_functionals/el_magnetization.F

  Bugs:
  - [BUG#204] I did a work around to make ypp run in serial
              A definitive bug fix should probably involve the implementation
              of parallelization in ypp
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4790 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc modules/mod_IO.F

  Bugs:
  - Forgot to import also modules/mod_IO.F from devel-andrea for the previous bug fix
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4788 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc io/io_QP_and_GF.F io/io_RT_components.F modules/mod_com.F

  Bugs:
  - bug fix to [yambo-devel Bugs Item #190] imported from devel-andrea and extended
    also to io/io_RT_components.F (bug fixes should be released in the trunk)

  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4787 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc pol_function/Build_Overlaps_Det_EQ.F pol_function/DIPOLE_build_covariants.F pol_function/DIPOLE_overlaps.F setup/build_spin_sop.F wf_and_fft/WF_shift_kpoint.F wf_and_fft/WF_symm_kpoint.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Covariant dipoles now works also with n_spinor=2
    To find a magnetic system with gap to test the case n_sp_pol=2

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4785 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc wf_and_fft/WF_shift_kpoint.F wf_and_fft/WF_symm_kpoint.F

  Bugs:
  - Fixed covariant dipoles with symmetries [bug fix from Claudio]
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4783 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bz_ops/k_map_nearest_by_dir.F interface/init.F modules/SET_defaults.F modules/mod_Overlaps.F modules/mod_R_lattice.F pol_function/.objects pol_function/Build_Overlaps_Det.F moved + moved pol_function/DIPOLE_build_covariants.F pol_function/DIPOLE_overlaps.F wf_and_fft/.objects wf_and_fft/WF_shift_by_G.F wf_and_fft/WF_shift_kpoint.F wf_and_fft/WF_symm_kpoint.F ypp/fix_WFs_and_E.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Dipoles covariant implementation extended to work also with grids outside the [0,1) BZ
    and with symmetries. The first case works nicely. In the second case I still have few problems.
    To be checked. [Thanks to Claudio for the patch. I did just few changes.]

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4782 76a4dfbf-5f1f-0410-a543-a0282073b526

- Missing parallelism (breaking V_xc for nspin=2 and b-parallization for
  self-energy environment) was re-introduced according to
  el_density_and-current.F. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4774 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure driver/yambo_driver.F include/version.inc bse/K_output_file.F collisions/COLLISIONS_NEQ_GW_static.F parallel/PARALLEL_Haydock_VEC_COMMs.F qp/QP_W2Sc.F qp/QP_newton.F qp/QP_real_axis.F

  Bugs:
  - Fixed compilation of parallel/PARALLEL_Haydock_VEC_COMMs.F in serial (--without-mpi-libs)
  - Fixed timing call in collisions/COLLISIONS_NEQ_GW_static.F
  - Allocation error in qp/QP_real_axis.F for GnWo fixed. However GnWo is still broken
    (see related bug in the tracker)
  Additions:
  -
  Changes:
  - Output of diamagnetic term only inside _KERR project
  - More cI and _SP in qp/QP_W2Sc.F and qp/QP_newton.F


  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4768 76a4dfbf-5f1f-0410-a543-a0282073b526

- Serial compilation fixed. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4767 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc lib lib/fftqe/.objects lib/fftqe/c_defs.h.in lib/fftqe/fft_errore.F lib/fftqe/fft_hpsort.F lib/fftqe/fft_setmap.F lib/fftqe/fft_stick.c lib/fftqe/fftqe_defs.h.in lib/fftqe/fftw.h lib/fftqe/fftw2.c lib/fftqe/konst.h lib/fftqe/mod_fft_aux.F lib/fftqe/mod_fft_base.F lib/fftqe/mod_fft_interfaces.F lib/fftqe/mod_fft_parallel.F lib/fftqe/mod_fft_scalar.F lib/fftqe/mod_fft_types.F lib/fftqe/mod_stick_base.F lib/fftqe/mod_stick_set.F common common/OCCUPATIONS_Fermi.F common/eval_G_minus_G.F linear_algebra/multi_worlds_scalapack/README.txt linear_algebra/multi_worlds_scalapack/constants.F linear_algebra/multi_worlds_scalapack/distools.F linear_algebra/multi_worlds_scalapack/error.F linear_algebra/multi_worlds_scalapack/kind.F linear_algebra/multi_worlds_scalapack/make.sys linear_algebra/multi_worlds_scalapack/make_file linear_algebra/multi_worlds_scalapack/mp_global.F linear_algebra/multi_worlds_scalapack/mytest.F linear_algebra/multi_worlds_scalapack/para.F linear_algebra/multi_worlds_scalapack/util.F modules/SET_defaults.F parallel pol_function/X_os.F qp/QP_driver.F qp/QP_newton.F qp/QP_ppa_cohsex.F qp/QP_real_axis.F qp_control/Nearest_kpt_interpolation.F real_time_control/RT_carriers_object.F real_time_control/RT_databases_IO.F real_time_control/RT_observables.F ypp/k_map_fine_to_coarse.F

   Merged with devel davide

  Bugs:
  - src/qp_control/Nearest_kpt_interpolation.F:
      Fixed interpolation from carriers grid generated
      from a ral-time run with the double grid and other grids.
  - ypp/k_map_fine_to_coarse.F:
      if l_skip_check is true call warning otherwise error, not the reverse
  Additions:
  -
  Changes:
  - Many _SP, cZERO, cI, etc ... inserted to have the proper
       lines when code is compiled in double precisio

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4762 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K_diagonalization.F

  Bugs:
  -
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4755 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/Makefile.in_gpl config/configure.ac configure include/version.inc bse/.objects_gpl bse/K_Haydock.F bse/K_IP.F bse/K_diag_compute_epsilon.F interface/init.F io/.objects_gpl pol_function/.objects_gpl ypp/.objects_gpl ypp/ypp_i.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Fixed GPL flags object files etc.
    For the moment I've removed the SURF project from the devel. It should be easy to put it back in.

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4751 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K_blocks.F modules/mod_interfaces.F parallel/PARALLEL_live_message.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - live message for BSE matrix elements uses real numbers in exponential form

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4747 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc io/ioDB1_selective_scan.F io/ioQP.F io/io_bulk.F io/io_elemental.F modules/mod_IO.F modules/mod_pars.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Now that the stable has the same configure of the devel I had to remove the plain fortran support.
    Otherwise the "defined _NETCDF_IO" was not recognised

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4746 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc sbin/make_makefile.sh.in

  Bugs:
  -
  Additions:
  -
  Changes:
  - sbin/Make_makefile.sh.in imported from trunk/devel

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4745 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc io/io_Double_Grid.F ypp/k_map_fine_to_coarse.F

  Bugs:
  - [ypp] fixed bug in double grid mapping kpts when grid is *not* symmetry expanded
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4741 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K_blocks.F modules/mod_BS.F parallel/PARALLEL_Transitions_grouping.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Fixed wrong merge with devel-davide

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4737 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc lib lib/fftqe/.objects lib/fftqe/c_defs.h.in lib/fftqe/fft_errore.F lib/fftqe/fft_hpsort.F lib/fftqe/fft_setmap.F lib/fftqe/fft_stick.c lib/fftqe/fftqe_defs.h.in lib/fftqe/fftw.h lib/fftqe/fftw2.c lib/fftqe/konst.h lib/fftqe/mod_fft_aux.F lib/fftqe/mod_fft_base.F lib/fftqe/mod_fft_interfaces.F lib/fftqe/mod_fft_parallel.F lib/fftqe/mod_fft_scalar.F lib/fftqe/mod_fft_types.F lib/fftqe/mod_stick_base.F lib/fftqe/mod_stick_set.F bse/K.F bse/K_Haydock.F bse/K_Transitions_setup.F bse/K_WF_phases.F bse/K_blocks.F bse/K_correlation_collisions.F bse/K_stored_in_a_BIG_matrix.F common common/OCCUPATIONS_Fermi.F common/eval_G_minus_G.F interface/init.F io/io_Double_Grid.F linear_algebra/multi_worlds_scalapack/README.txt linear_algebra/multi_worlds_scalapack/constants.F linear_algebra/multi_worlds_scalapack/distools.F linear_algebra/multi_worlds_scalapack/error.F linear_algebra/multi_worlds_scalapack/kind.F linear_algebra/multi_worlds_scalapack/make.sys linear_algebra/multi_worlds_scalapack/make_file linear_algebra/multi_worlds_scalapack/mp_global.F linear_algebra/multi_worlds_scalapack/mytest.F linear_algebra/multi_worlds_scalapack/para.F linear_algebra/multi_worlds_scalapack/util.F modules/SET_defaults.F modules/mod_BS.F modules/mod_FFT.F modules/mod_IO.F modules/mod_X.F modules/mod_electrons.F modules/mod_memory.F modules/mod_parallel.F modules/mod_pars.F modules/mod_units.F modules/mod_wrapper_omp.F parallel parallel/PARALLEL_Transitions_grouping.F parallel/PARALLEL_get_user_structure.F parallel/PARALLEL_global_indexes.F pol_function/X_bare_Double_Grid_GreenF.F pol_function/X_em1.F qp_control/QP_apply.F real_time_control/RT_databases_IO.F sc/OEP_ApplySigmaCSX.F sc/OEP_ApplySigmaX.F sc/OEP_Hole.F sc/OEP_Weighted_Density.F sc/OEP_app_inversion.F sc/OEP_iterative.F wf_and_fft/WF_apply_symm.F wf_and_fft/WF_symm.F wf_and_fft/fft_setup.F xc_functionals/el_density_and_current.F xc_functionals/el_density_matrix.F xc_functionals/el_magnetization.F xc_functionals/el_magnetization_matrix.F ypp/bxsf_read.F ypp/double_k_grid.F ypp/electrons_dos_and_charge.F ypp/k_map_fine_to_coarse.F

  Bugs:
  -
  Additions:
  -
  Changes:
  *** Merged with devel-davide ***
  - Furthere improvment on BSE parallelization
  - Transposition of fft_rot_r implemented by Fabio made the default
  - DbGd now has the ibz index and the bz index (elements (:,:,1)  and (:,:,2) of the table
  - mod_IO reverted to previous version
  - integrating_over_q logical created which controls the use of the DbGd in a consistent way at q=0 and at q/=0

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4731 76a4dfbf-5f1f-0410-a543-a0282073b526

- Svn mergeinfo recorded. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4721 76a4dfbf-5f1f-0410-a543-a0282073b526

- Mergeinfo deleted. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4720 76a4dfbf-5f1f-0410-a543-a0282073b526

- Trying to edit svn merge info. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4717 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc modules/SET_logicals.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - n_CPUs_log fixed in a simple way

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4712 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc modules/SET_logicals.F

  Bugs:
  - [write_to_log>0] If write_to_log is set > 0 only one CPU writes to the log file
                     This is not fully equivalent to what was done before. Only
                     1 log file or nCPU log files are possible at the moment.
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4711 76a4dfbf-5f1f-0410-a543-a0282073b526

- Forgot to update revision number. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4706 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/Makefile.in config/Makefile.in_gpl config/acx.m4 config/acx_blas.m4 config/acx_cpp.m4 config/acx_fortran_flags.m4 config/acx_get_fc_version.m4 config/acx_lapack.m4 config/acx_misc.m4 config/acx_mpi.m4 config/acx_report.m4 config/configure.ac config/etsf_io.m4 config/fft.m4 config/fftw.m4 config/iotk.m4 config/libxc.m4 config/missing config/netcdf_f90.m4 config/report.in config/scalapack.m4 config/setup.in configure include/version.inc lib/archive lib/archive/Makefile.loc lib/archive/package.list lib/blas/.objects lib/etsf_io lib/etsf_io/Makefile.loc lib/fftqe lib/fftqe/.objects lib/fftqe/.objects_gpl lib/fftqe/c_defs.h.in lib/fftqe/fft_errore.F lib/fftqe/fft_hpsort.F lib/fftqe/fft_setmap.F lib/fftqe/fft_stick.c lib/fftqe/fftqe_defs.h.in lib/fftqe/fftw.h lib/fftqe/fftw2.c lib/fftqe/konst.h lib/fftqe/mod_fft_aux.F lib/fftqe/mod_fft_base.F lib/fftqe/mod_fft_interfaces.F lib/fftqe/mod_fft_parallel.F lib/fftqe/mod_fft_scalar.F lib/fftqe/mod_fft_types.F lib/fftqe/mod_stick_base.F lib/fftqe/mod_stick_set.F lib/install lib/install/iotk_specials.h lib/install/make_iotk.inc.in lib/iotk lib/iotk/Makefile.loc lib/lapack/.objects lib/lapack/xerbla.f lib/libxc lib/libxc/AUTHORS lib/libxc/COPYING lib/libxc/INSTALL lib/libxc/Makefile.am lib/libxc/Makefile.in lib/libxc/Makefile.loc lib/libxc/NEWS lib/libxc/PACKAGING lib/libxc/README lib/libxc/TODO lib/libxc/aclocal.m4 lib/libxc/build lib/libxc/build/Makefile.am lib/libxc/build/Makefile.in lib/libxc/build/libxc.pc.in lib/libxc/build/libxc.spec.in lib/libxc/compile lib/libxc/config.guess lib/libxc/config.h.in lib/libxc/config.sub lib/libxc/configure lib/libxc/configure.ac lib/libxc/depcomp lib/libxc/install-sh lib/libxc/ltmain.sh lib/libxc/m4 lib/libxc/m4/acx.m4 lib/libxc/m4/ax_f90_module_extension.m4 lib/libxc/m4/fc_integer.m4 lib/libxc/m4/fcflags.m4 lib/libxc/m4/libtool.m4 lib/libxc/m4/ltoptions.m4 lib/libxc/m4/ltsugar.m4 lib/libxc/m4/ltversion.m4 lib/libxc/m4/lt~obsolete.m4 lib/libxc/missing lib/libxc/src lib/libxc/Makefile.am lib/libxc/Makefile.in lib/libxc/functionals.c lib/libxc/get_funcs.pl lib/libxc/gga.c lib/libxc/gga_c_am05.c lib/libxc/gga_c_lm.c lib/libxc/gga_c_lyp.c lib/libxc/gga_c_p86.c lib/libxc/gga_c_pbe.c lib/libxc/gga_c_pw91.c lib/libxc/gga_c_sogga11.c lib/libxc/gga_c_wi.c lib/libxc/gga_c_wl.c lib/libxc/gga_k_dk.c lib/libxc/gga_k_ol1.c lib/libxc/gga_k_ol2.c lib/libxc/gga_k_pearson.c lib/libxc/gga_k_tflw.c lib/libxc/gga_x_2d_b86.c lib/libxc/gga_x_2d_b86_mgc.c lib/libxc/gga_x_2d_b88.c lib/libxc/gga_x_2d_pbe.c lib/libxc/gga_x_airy.c lib/libxc/gga_x_am05.c lib/libxc/gga_x_b86.c lib/libxc/gga_x_b86_mgc.c lib/libxc/gga_x_b88.c lib/libxc/gga_x_bayesian.c lib/libxc/gga_x_c09x.c lib/libxc/gga_x_dk87.c lib/libxc/gga_x_ft97.c lib/libxc/gga_x_g96.c lib/libxc/gga_x_herman.c lib/libxc/gga_x_htbs.c lib/libxc/gga_x_kt.c lib/libxc/gga_x_lb.c lib/libxc/gga_x_lg93.c lib/libxc/gga_x_mpbe.c lib/libxc/gga_x_optx.c lib/libxc/gga_x_pbe.c lib/libxc/gga_x_pbea.c lib/libxc/gga_x_pw86.c lib/libxc/gga_x_pw91.c lib/libxc/gga_x_rpbe.c lib/libxc/gga_x_sogga11.c lib/libxc/gga_x_wc.c lib/libxc/gga_xc_1w.c lib/libxc/gga_xc_b97.c lib/libxc/gga_xc_edf1.c lib/libxc/gga_xc_th.c lib/libxc/hyb_gga_xc_b1wc.c lib/libxc/hyb_gga_xc_b3lyp.c lib/libxc/hyb_gga_xc_b97.c lib/libxc/hyb_gga_xc_o3lyp.c lib/libxc/hyb_gga_xc_pbeh.c lib/libxc/integrate.c lib/libxc/lda.c lib/libxc/lda_c_1d_csc.c lib/libxc/lda_c_2d_amgb.c lib/libxc/lda_c_2d_prm.c lib/libxc/lda_c_gombas.c lib/libxc/lda_c_hl.c lib/libxc/lda_c_ml1.c lib/libxc/lda_c_pw.c lib/libxc/lda_c_pz.c lib/libxc/lda_c_rpa.c lib/libxc/lda_c_vwn.c lib/libxc/lda_c_wigner.c lib/libxc/lda_k_tf.c lib/libxc/lda_x.c lib/libxc/lda_x_1d.c lib/libxc/lda_x_2d.c lib/libxc/lda_xc_teter93.c lib/libxc/libxc_master.F90 lib/libxc/mgga.c lib/libxc/mgga_c_tpss.c lib/libxc/mgga_x_2d_prhg07.c lib/libxc/mgga_x_br89.c lib/libxc/mgga_x_lta.c lib/libxc/mgga_x_m06l.c lib/libxc/mgga_x_tau_hcth.c lib/libxc/mgga_x_tpss.c lib/libxc/mgga_xc_vsxc.c lib/libxc/mix_func.c lib/libxc/special_functions.c lib/libxc/string_f.h lib/libxc/util.c lib/libxc/util.h lib/libxc/work_gga_becke.c lib/libxc/work_gga_c.c lib/libxc/work_gga_x.c lib/libxc/work_lda.c lib/libxc/work_mgga_c.c lib/libxc/work_mgga_x.c lib/libxc/xc.h lib/libxc/xc_config.h lib/libxc/xc_f.c lib/libxc/xc_s.h lib/libxc/testsuite lib/libxc/testsuite/Makefile.am lib/libxc/testsuite/Makefile.in lib/libxc/testsuite/df_repo lib/libxc/testsuite/df_repo/gga_c_lyp.data lib/libxc/testsuite/df_repo/gga_c_p86.data lib/libxc/testsuite/df_repo/gga_c_pbe.data lib/libxc/testsuite/df_repo/gga_c_pw91.data lib/libxc/testsuite/df_repo/gga_x_b88.data lib/libxc/testsuite/df_repo/gga_x_ft97_b.data lib/libxc/testsuite/df_repo/gga_x_pbe.data lib/libxc/testsuite/df_repo/gga_x_pw91.data lib/libxc/testsuite/df_repo/gga_xc_b97.data lib/libxc/testsuite/df_repo/gga_xc_b97_1.data lib/libxc/testsuite/df_repo/gga_xc_b97_2.data lib/libxc/testsuite/df_repo/gga_xc_edf1.data lib/libxc/testsuite/df_repo/gga_xc_hcth_120.data lib/libxc/testsuite/df_repo/gga_xc_hcth_147.data lib/libxc/testsuite/df_repo/gga_xc_hcth_407.data lib/libxc/testsuite/df_repo/gga_xc_hcth_93.data lib/libxc/testsuite/df_repo/hyb_gga_xc_b3lyp.data lib/libxc/testsuite/df_repo/lda_c_pw.data lib/libxc/testsuite/df_repo/lda_c_pz.data lib/libxc/testsuite/df_repo/lda_c_vwn.data lib/libxc/testsuite/df_repo/lda_c_vwn_rpa.data lib/libxc/testsuite/df_repo/lda_x.data lib/libxc/testsuite/regression lib/libxc/testsuite/regression/gga_c_am05.data.bz2 lib/libxc/testsuite/regression/gga_c_apbe.data.bz2 lib/libxc/testsuite/regression/gga_c_lm.data.bz2 lib/libxc/testsuite/regression/gga_c_lyp.data.bz2 lib/libxc/testsuite/regression/gga_c_p86.data.bz2 lib/libxc/testsuite/regression/gga_c_pbe.data.bz2 lib/libxc/testsuite/regression/gga_c_pbe_jrgx.data.bz2 lib/libxc/testsuite/regression/gga_c_pbe_sol.data.bz2 lib/libxc/testsuite/regression/gga_c_pw91.data.bz2 lib/libxc/testsuite/regression/gga_c_rge2.data.bz2 lib/libxc/testsuite/regression/gga_c_sogga11.data.bz2 lib/libxc/testsuite/regression/gga_c_sogga11_x.data.bz2 lib/libxc/testsuite/regression/gga_c_wi.data.bz2 lib/libxc/testsuite/regression/gga_c_wi0.data.bz2 lib/libxc/testsuite/regression/gga_c_wl.data.bz2 lib/libxc/testsuite/regression/gga_c_xpbe.data.bz2 lib/libxc/testsuite/regression/gga_k_absr1.data.bz2 lib/libxc/testsuite/regression/gga_k_absr2.data.bz2 lib/libxc/testsuite/regression/gga_k_apbe.data.bz2 lib/libxc/testsuite/regression/gga_k_baltin.data.bz2 lib/libxc/testsuite/regression/gga_k_dk.data.bz2 lib/libxc/testsuite/regression/gga_k_ernzerhof.data.bz2 lib/libxc/testsuite/regression/gga_k_fr_b88.data.bz2 lib/libxc/testsuite/regression/gga_k_fr_pw86.data.bz2 lib/libxc/testsuite/regression/gga_k_ge2.data.bz2 lib/libxc/testsuite/regression/gga_k_golden.data.bz2 lib/libxc/testsuite/regression/gga_k_gp85.data.bz2 lib/libxc/testsuite/regression/gga_k_gr.data.bz2 lib/libxc/testsuite/regression/gga_k_lc94.data.bz2 lib/libxc/testsuite/regression/gga_k_lieb.data.bz2 lib/libxc/testsuite/regression/gga_k_llp.data.bz2 lib/libxc/testsuite/regression/gga_k_ludena.data.bz2 lib/libxc/testsuite/regression/gga_k_ol1.data.bz2 lib/libxc/testsuite/regression/gga_k_ol2.data.bz2 lib/libxc/testsuite/regression/gga_k_pearson.data.bz2 lib/libxc/testsuite/regression/gga_k_perdew.data.bz2 lib/libxc/testsuite/regression/gga_k_thakkar.data.bz2 lib/libxc/testsuite/regression/gga_k_tw1.data.bz2 lib/libxc/testsuite/regression/gga_k_tw2.data.bz2 lib/libxc/testsuite/regression/gga_k_tw3.data.bz2 lib/libxc/testsuite/regression/gga_k_tw4.data.bz2 lib/libxc/testsuite/regression/gga_k_vjks.data.bz2 lib/libxc/testsuite/regression/gga_k_vsk.data.bz2 lib/libxc/testsuite/regression/gga_k_vw.data.bz2 lib/libxc/testsuite/regression/gga_k_yt65.data.bz2 lib/libxc/testsuite/regression/gga_x_2d_b86.data.bz2 lib/libxc/testsuite/regression/gga_x_2d_b86_mgc.data.bz2 lib/libxc/testsuite/regression/gga_x_2d_b88.data.bz2 lib/libxc/testsuite/regression/gga_x_2d_pbe.data.bz2 lib/libxc/testsuite/regression/gga_x_airy.data.bz2 lib/libxc/testsuite/regression/gga_x_am05.data.bz2 lib/libxc/testsuite/regression/gga_x_apbe.data.bz2 lib/libxc/testsuite/regression/gga_x_b86.data.bz2 lib/libxc/testsuite/regression/gga_x_b86_mgc.data.bz2 lib/libxc/testsuite/regression/gga_x_b88.data.bz2 lib/libxc/testsuite/regression/gga_x_bayesian.data.bz2 lib/libxc/testsuite/regression/gga_x_c09x.data.bz2 lib/libxc/testsuite/regression/gga_x_dk87_r1.data.bz2 lib/libxc/testsuite/regression/gga_x_dk87_r2.data.bz2 lib/libxc/testsuite/regression/gga_x_ft97_a.data.bz2 lib/libxc/testsuite/regression/gga_x_ft97_b.data.bz2 lib/libxc/testsuite/regression/gga_x_g96.data.bz2 lib/libxc/testsuite/regression/gga_x_herman.data.bz2 lib/libxc/testsuite/regression/gga_x_htbs.data.bz2 lib/libxc/testsuite/regression/gga_x_kt1.data.bz2 lib/libxc/testsuite/regression/gga_x_lag.data.bz2 lib/libxc/testsuite/regression/gga_x_lb.data.bz2 lib/libxc/testsuite/regression/gga_x_lbm.data.bz2 lib/libxc/testsuite/regression/gga_x_lg93.data.bz2 lib/libxc/testsuite/regression/gga_x_mb88.data.bz2 lib/libxc/testsuite/regression/gga_x_mpbe.data.bz2 lib/libxc/testsuite/regression/gga_x_mpw91.data.bz2 lib/libxc/testsuite/regression/gga_x_ol2.data.bz2 lib/libxc/testsuite/regression/gga_x_optb88_vdw.data.bz2 lib/libxc/testsuite/regression/gga_x_optpbe_vdw.data.bz2 lib/libxc/testsuite/regression/gga_x_optx.data.bz2 lib/libxc/testsuite/regression/gga_x_pbe.data.bz2 lib/libxc/testsuite/regression/gga_x_pbe_jsjr.data.bz2 lib/libxc/testsuite/regression/gga_x_pbe_r.data.bz2 lib/libxc/testsuite/regression/gga_x_pbe_sol.data.bz2 lib/libxc/testsuite/regression/gga_x_pbea.data.bz2 lib/libxc/testsuite/regression/gga_x_pbek1_vdw.data.bz2 lib/libxc/testsuite/regression/gga_x_pw86.data.bz2 lib/libxc/testsuite/regression/gga_x_pw91.data.bz2 lib/libxc/testsuite/regression/gga_x_rge2.data.bz2 lib/libxc/testsuite/regression/gga_x_rpbe.data.bz2 lib/libxc/testsuite/regression/gga_x_rpw86.data.bz2 lib/libxc/testsuite/regression/gga_x_sogga.data.bz2 lib/libxc/testsuite/regression/gga_x_sogga11.data.bz2 lib/libxc/testsuite/regression/gga_x_wc.data.bz2 lib/libxc/testsuite/regression/gga_x_xpbe.data.bz2 lib/libxc/testsuite/regression/gga_xc_b97.data.bz2 lib/libxc/testsuite/regression/gga_xc_b97_1.data.bz2 lib/libxc/testsuite/regression/gga_xc_b97_2.data.bz2 lib/libxc/testsuite/regression/gga_xc_b97_3.data.bz2 lib/libxc/testsuite/regression/gga_xc_b97_d.data.bz2 lib/libxc/testsuite/regression/gga_xc_b97_k.data.bz2 lib/libxc/testsuite/regression/gga_xc_edf1.data.bz2 lib/libxc/testsuite/regression/gga_xc_hcth_120.data.bz2 lib/libxc/testsuite/regression/gga_xc_hcth_147.data.bz2 lib/libxc/testsuite/regression/gga_xc_hcth_407.data.bz2 lib/libxc/testsuite/regression/gga_xc_hcth_93.data.bz2 lib/libxc/testsuite/regression/gga_xc_kt2.data.bz2 lib/libxc/testsuite/regression/gga_xc_mohlyp.data.bz2 lib/libxc/testsuite/regression/gga_xc_mohlyp2.data.bz2 lib/libxc/testsuite/regression/gga_xc_mpwlyp1w.data.bz2 lib/libxc/testsuite/regression/gga_xc_pbe1w.data.bz2 lib/libxc/testsuite/regression/gga_xc_pbelyp1w.data.bz2 lib/libxc/testsuite/regression/gga_xc_sb98_1a.data.bz2 lib/libxc/testsuite/regression/gga_xc_sb98_1b.data.bz2 lib/libxc/testsuite/regression/gga_xc_sb98_1c.data.bz2 lib/libxc/testsuite/regression/gga_xc_sb98_2a.data.bz2 lib/libxc/testsuite/regression/gga_xc_sb98_2b.data.bz2 lib/libxc/testsuite/regression/gga_xc_sb98_2c.data.bz2 lib/libxc/testsuite/regression/gga_xc_th1.data.bz2 lib/libxc/testsuite/regression/gga_xc_th2.data.bz2 lib/libxc/testsuite/regression/gga_xc_th3.data.bz2 lib/libxc/testsuite/regression/gga_xc_th4.data.bz2 lib/libxc/testsuite/regression/gga_xc_th_fc.data.bz2 lib/libxc/testsuite/regression/gga_xc_th_fcfo.data.bz2 lib/libxc/testsuite/regression/gga_xc_th_fco.data.bz2 lib/libxc/testsuite/regression/gga_xc_th_fl.data.bz2 lib/libxc/testsuite/regression/gga_xc_xlyp.data.bz2 lib/libxc/testsuite/regression/hyb_gga_x_sogga11_x.data.bz2 lib/libxc/testsuite/regression/hyb_gga_xc_b1lyp.data.bz2 lib/libxc/testsuite/regression/hyb_gga_xc_b1pw91.data.bz2 lib/libxc/testsuite/regression/hyb_gga_xc_b1wc.data.bz2 lib/libxc/testsuite/regression/hyb_gga_xc_b3lyp.data.bz2 lib/libxc/testsuite/regression/hyb_gga_xc_b3p86.data.bz2 lib/libxc/testsuite/regression/hyb_gga_xc_b3pw91.data.bz2 lib/libxc/testsuite/regression/hyb_gga_xc_b97.data.bz2 lib/libxc/testsuite/regression/hyb_gga_xc_b97_1.data.bz2 lib/libxc/testsuite/regression/hyb_gga_xc_b97_2.data.bz2 lib/libxc/testsuite/regression/hyb_gga_xc_b97_3.data.bz2 lib/libxc/testsuite/regression/hyb_gga_xc_b97_k.data.bz2 lib/libxc/testsuite/regression/hyb_gga_xc_mpw1k.data.bz2 lib/libxc/testsuite/regression/hyb_gga_xc_mpw1pw.data.bz2 lib/libxc/testsuite/regression/hyb_gga_xc_mpw3lyp.data.bz2 lib/libxc/testsuite/regression/hyb_gga_xc_mpw3pw.data.bz2 lib/libxc/testsuite/regression/hyb_gga_xc_o3lyp.data.bz2 lib/libxc/testsuite/regression/hyb_gga_xc_pbeh.data.bz2 lib/libxc/testsuite/regression/hyb_gga_xc_sb98_1a.data.bz2 lib/libxc/testsuite/regression/hyb_gga_xc_sb98_1b.data.bz2 lib/libxc/testsuite/regression/hyb_gga_xc_sb98_1c.data.bz2 lib/libxc/testsuite/regression/hyb_gga_xc_sb98_2a.data.bz2 lib/libxc/testsuite/regression/hyb_gga_xc_sb98_2b.data.bz2 lib/libxc/testsuite/regression/hyb_gga_xc_sb98_2c.data.bz2 lib/libxc/testsuite/regression/hyb_gga_xc_x3lyp.data.bz2 lib/libxc/testsuite/regression/lda_c_1d_csc.data.bz2 lib/libxc/testsuite/regression/lda_c_2d_amgb.data.bz2 lib/libxc/testsuite/regression/lda_c_2d_prm.data.bz2 lib/libxc/testsuite/regression/lda_c_gl.data.bz2 lib/libxc/testsuite/regression/lda_c_gombas.data.bz2 lib/libxc/testsuite/regression/lda_c_hl.data.bz2 lib/libxc/testsuite/regression/lda_c_ml1.data.bz2 lib/libxc/testsuite/regression/lda_c_ml2.data.bz2 lib/libxc/testsuite/regression/lda_c_ob_pw.data.bz2 lib/libxc/testsuite/regression/lda_c_ob_pz.data.bz2 lib/libxc/testsuite/regression/lda_c_pw.data.bz2 lib/libxc/testsuite/regression/lda_c_pw_mod.data.bz2 lib/libxc/testsuite/regression/lda_c_pw_rpa.data.bz2 lib/libxc/testsuite/regression/lda_c_pz.data.bz2 lib/libxc/testsuite/regression/lda_c_pz_mod.data.bz2 lib/libxc/testsuite/regression/lda_c_rpa.data.bz2 lib/libxc/testsuite/regression/lda_c_vbh.data.bz2 lib/libxc/testsuite/regression/lda_c_vwn.data.bz2 lib/libxc/testsuite/regression/lda_c_vwn_rpa.data.bz2 lib/libxc/testsuite/regression/lda_c_wigner.data.bz2 lib/libxc/testsuite/regression/lda_c_xalpha.data.bz2 lib/libxc/testsuite/regression/lda_k_lp.data.bz2 lib/libxc/testsuite/regression/lda_k_tf.data.bz2 lib/libxc/testsuite/regression/lda_x.data.bz2 lib/libxc/testsuite/regression/lda_x_1d.data.bz2 lib/libxc/testsuite/regression/lda_x_2d.data.bz2 lib/libxc/testsuite/regression/lda_xc_teter93.data.bz2 lib/libxc/testsuite/regression/mgga_c_tpss.data.bz2 lib/libxc/testsuite/regression/mgga_c_vsxc.data.bz2 lib/libxc/testsuite/regression/mgga_x_2d_prhg07.data.bz2 lib/libxc/testsuite/regression/mgga_x_2d_prhg07_prp10.data.bz2 lib/libxc/testsuite/regression/mgga_x_bj06.data.bz2 lib/libxc/testsuite/regression/mgga_x_br89.data.bz2 lib/libxc/testsuite/regression/mgga_x_gvt4.data.bz2 lib/libxc/testsuite/regression/mgga_x_lta.data.bz2 lib/libxc/testsuite/regression/mgga_x_m06l.data.bz2 lib/libxc/testsuite/regression/mgga_x_rpp09.data.bz2 lib/libxc/testsuite/regression/mgga_x_tau_hcth.data.bz2 lib/libxc/testsuite/regression/mgga_x_tb09.data.bz2 lib/libxc/testsuite/regression/mgga_x_tpss.data.bz2 lib/libxc/testsuite/xc-consistency.c lib/libxc/testsuite/xc-get_data.c lib/libxc/testsuite/xc-reference.pl lib/libxc/testsuite/xc-regression.c lib/libxc/testsuite/xc-run_testsuite lib/local/.objects lib/local/.objects.in lib/local/cgemv_omp.f lib/local/dgemv_omp.f lib/local/sgemv_omp.f lib/local/zgemv_omp.f lib/netcdf lib/netcdf/Makefile.loc sbin/make_makefile.sh.in external_c/ct_cptimer.c qp/QP_Green_DOS.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - configure system upgraded to the one used in trunk devel. Code compiles.
    To be tested if it works properly (in particular for fft and xc libs)


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4705 76a4dfbf-5f1f-0410-a543-a0282073b526

- Typo. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4704 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc modules/mod_X.F pol_function/X_os.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [yambo_rt] removed logical computing_Xo_variation erroneously imported from my branch

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4698 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Andrea Marini]

  *  . config/Makefile.in config/configure.ac configure include/version.inc lib lib/fftqe/.objects lib/fftqe/c_defs.h.in lib/fftqe/fft_errore.F lib/fftqe/fft_hpsort.F lib/fftqe/fft_setmap.F lib/fftqe/fft_stick.c lib/fftqe/fftqe_defs.h.in lib/fftqe/fftw.h lib/fftqe/fftw2.c lib/fftqe/konst.h lib/fftqe/mod_fft_aux.F lib/fftqe/mod_fft_base.F lib/fftqe/mod_fft_interfaces.F lib/fftqe/mod_fft_parallel.F lib/fftqe/mod_fft_scalar.F lib/fftqe/mod_fft_types.F lib/fftqe/mod_stick_base.F lib/fftqe/mod_stick_set.F bse/K_IP.F bz_ops/bz_samp_indexes.F collisions/.objects collisions/COLLISIONS_Fock.F collisions/COLLISIONS_eval.F collisions/COLLISIONS_linearize_and_IO.F collisions/COLLISIONS_sex.F collisions/PLASMA_build_up.F collisions/PLASMA_parallel_setup.F collisions/PLASMA_tables_and_dimensions.F common common/.objects common/FREQUENCIES_set_iw_ref.F + interface/init.F io/io_COLLISIONS.F linear_algebra/multi_worlds_scalapack/README.txt linear_algebra/multi_worlds_scalapack/constants.F linear_algebra/multi_worlds_scalapack/distools.F linear_algebra/multi_worlds_scalapack/error.F linear_algebra/multi_worlds_scalapack/kind.F linear_algebra/multi_worlds_scalapack/make.sys linear_algebra/multi_worlds_scalapack/make_file linear_algebra/multi_worlds_scalapack/mp_global.F linear_algebra/multi_worlds_scalapack/mytest.F linear_algebra/multi_worlds_scalapack/para.F linear_algebra/multi_worlds_scalapack/util.F modules/mod_IO.F modules/mod_debug.F parallel parallel/.objects parallel/SET_dip_parallelization.F + pol_function/DIPOLE_shifted_grids.F pol_function/DIPOLE_transverse.F pol_function/DIPOLE_x_real_space.F pol_function/X_os.F real_time/RT_ELPH_initialize.F real_time/RT_Integrator.F real_time/RT_initialize.F real_time/RT_start_and_restart.F real_time_control/RT_databases_IO.F surf/Dipole_driver_cut.F wf_and_fft/load_cc.F ypp/ELPH_databases.F

  Merged with devel-andrea

  Bugs:
  - Fixed wrong re-calculation of PPA screened interaction when a non default value of %ppaE is used (bug spotted by MP).
  - Re-added use of plain fortran for type -2 databases to be used in e-p db's setup.
  - Check on revision done BEFORE io_header call in io_COLLISIONS

  Additions:
  - Check on bands when loading the e-p databases for RT calculation.
  - Check on allocation of QP widths in the case of relaxation calculations.

  Changes:
  - debug module changed a little bit.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4696 76a4dfbf-5f1f-0410-a543-a0282073b526

- Some minor fixes. _surf projects moved to BROKEN. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4695 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged  with trunk-devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4694 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fixed some ifort-related worng nested operations. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4627 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Andrea Marini]

  *  config/configure.ac configure include/version.inc bz_ops/bz_samp_indexes.F interface/init.F modules/mod_IO.F modules/mod_debug.F modules/mod_stderr.F real_time/RT_ELPH_initialize.F real_time/RT_initialize.F ypp/ELPH_databases.F

  Bugs:
  - Fixed wrong re-calculation of PPA screened interaction when a non default value of %ppaE is used (bug spotted by MP).
  - Re-added use of plain fortran for type -2 databases to be used in e-p db's setup.

  Additions:
  - Check on bands when loading the e-p databases for RT calculation.
  - Check on allocation of QP widths in the case of relaxation calculations.

  Changes:
  - debug module changed a little bit.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4625 76a4dfbf-5f1f-0410-a543-a0282073b526

- BUG-fix. Check on revision done BEFORE io_header call. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4605 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4593 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Andrea Marini]

  *  config/configure.ac configure include/version.inc io/io_COLLISIONS.F io/io_fragment.F modules/SET_defaults.F modules/SET_logicals.F modules/mod_IO.F real_time/RT_Lifetimes_evaluation_plan.F real_time/RT_start_and_restart.F real_time_control/RT_observables.F

  Bugs:
  - Bug in the evaluation of the change of the Hartee RT total energy.

  Changes:
  - Removed collisions fragmentation
  - Restored (NONE) default for RT interpolation (till the procedure will be cleared)

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4575 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc int_modules/mod_xc2y.F lib lib/fftqe/.objects lib/fftqe/c_defs.h.in lib/fftqe/fft_errore.F lib/fftqe/fft_hpsort.F lib/fftqe/fft_setmap.F lib/fftqe/fft_stick.c lib/fftqe/fftqe_defs.h.in lib/fftqe/fftw.h lib/fftqe/fftw2.c lib/fftqe/konst.h lib/fftqe/mod_fft_aux.F lib/fftqe/mod_fft_base.F lib/fftqe/mod_fft_interfaces.F lib/fftqe/mod_fft_parallel.F lib/fftqe/mod_fft_scalar.F lib/fftqe/mod_fft_types.F lib/fftqe/mod_stick_base.F lib/fftqe/mod_stick_set.F bse/K.F bse/K_Haydock.F bse/K_IP.F bse/K_Transitions_setup.F bse/K_blocks.F bse/K_correlation_collisions.F bse/K_dot_product.F bse/K_driver.F bse/K_exchange_collisions.F bse/K_kerr_IP.F bse/K_multiply_by_V.F bse/K_output_file.F common common/FREQUENCIES_coarse_grid.F common/FREQUENCIES_set_iw_ref.F common/FREQUENCIES_setup.F common/Fermi_fnc_fit.F communicate/section.F coulomb/cutoff_box.F coulomb/cutoff_sphere.F interface/.objects interface/init.F interface/init_QP_ctl_load.F + + interface/init_load.F io/io_BS.F io/io_BSS_diago.F io/io_DIPOLES.F io/io_Overlaps.F io/io_Vnl.F io/variables_DIPOLES.F io/variables_X.F linear_algebra/multi_worlds_scalapack/README.txt linear_algebra/multi_worlds_scalapack/constants.F linear_algebra/multi_worlds_scalapack/distools.F linear_algebra/multi_worlds_scalapack/error.F linear_algebra/multi_worlds_scalapack/kind.F linear_algebra/multi_worlds_scalapack/make.sys linear_algebra/multi_worlds_scalapack/make_file linear_algebra/multi_worlds_scalapack/mp_global.F linear_algebra/multi_worlds_scalapack/mytest.F linear_algebra/multi_worlds_scalapack/para.F linear_algebra/multi_worlds_scalapack/util.F modules/SET_defaults.F modules/SET_logicals.F modules/mod_BS.F modules/mod_KERR.F modules/mod_X.F modules/mod_com.F modules/mod_electrons.F modules/mod_frequency.F modules/mod_interfaces.F modules/mod_matrix_operate.F modules/mod_parallel.F modules/mod_real_time.F modules/mod_stderr.F parallel parallel/.objects parallel/PARALLEL_Haydock_VEC_COMMs.F parallel/PARALLEL_Transitions_grouping.F parallel/PARALLEL_assign_LIN_ALGEBRA_COMMs.F parallel/PARALLEL_assign_chains_and_COMMs.F parallel/PARALLEL_build_up_child_chains.F parallel/PARALLEL_clean_up_the_structure.F parallel/PARALLEL_defaults.F parallel/PARALLEL_get_user_structure.F parallel/PARALLEL_global_indexes.F parallel/PARALLEL_index.F parallel/PARALLEL_live_message.F parallel/PARALLEL_structure.F + parser/mod_itm.F pol_function/Build_Overlaps_Det.F pol_function/DIPOLE_build_covariants.F pol_function/DIPOLE_check_shifted_grids.F pol_function/DIPOLE_driver.F pol_function/DIPOLE_overlaps.F pol_function/DIPOLE_p_matrix_elements.F pol_function/DIPOLE_project_along_q.F pol_function/DIPOLE_shifted_grids.F pol_function/DIPOLE_transverse.F pol_function/DIPOLE_x_real_space.F pol_function/X_os.F pol_function/X_os_residuals.F qp/ELPH_Sigma_c.F qp/QP_W2Sc.F qp/QP_of.F qp/QP_report_and_write.F qp/XCo_Hartree_Fock.F qp_control/QP_apply.F real_time_control/RT_apply.F real_time_control/RT_databases_IO.F setup/External_corrections.F setup/PARALLEL_and_IO_Setup.F surf/Dipole_driver_cut.F surf/Dipole_transverse_cut.F surf/Surface_driver.F wf_and_fft/WF_alloc.F wf_and_fft/WF_derivative.F wf_and_fft/WF_load.F xc_functionals/XC_libxc_driver.F ypp/QP_DBs_merge.F ypp/k_grids.F ypp/k_map_fine_to_coarse.F

  Bugs:
  [interfaces] Fixed string length in mod_xc2y.F
  Additions:
  -
  Changes:
  **** MERGED WITH devel-davide *****
  [yambo]
  1) Parallelization generalized to arbitrary number of processor
  2) BSE parallelization improved and ant-scaling behavior erased
  3) Reorganization of dipoles going on
  4) Implementation of velocity gauge in BSE improved. Velocity gauge removed from G-space approach
  5) Option tu use damping as in PRB 82, 035104 (2010): w=sqrt(Re[w]*(Re[w]+2*i*Im[w])) coded
  [yambo_rt]
  6) init_RT_ctl_load.F init_RT_ctl_switch.F files created and code removed fom init_QP_ctl_load.o init_QP_ctl_switch.F
     to avoid problems with

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4692 76a4dfbf-5f1f-0410-a543-a0282073b526

- PZ functional permitted (fix by Myrta Gruening). [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4688 76a4dfbf-5f1f-0410-a543-a0282073b526

- Typos fixed. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4687 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc common/FREQUENCIES_coarse_grid.F pol_function/X_os.F

  Bugs:
  - [yambo] Fixed out_of bounds appearing in case, in the X_os parallel distribution,
            some of the CPUs do not have any pole (imported from devel-davide)
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4685 76a4dfbf-5f1f-0410-a543-a0282073b526

- Typo. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4644 76a4dfbf-5f1f-0410-a543-a0282073b526

- Compilation fixed. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4633 76a4dfbf-5f1f-0410-a543-a0282073b526

- OPNEMP -> OPENMP: some functionalities may have been corrupted.
  [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4632 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc interface/init.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Fixed input file creation

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4621 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc ypp/WF_map_perturbative_SOC.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [ypp] WF_map_perturbative_SOC, mapping treshold is now dynamic

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4617 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  . config/configure.ac configure driver/ypp.h include/version.inc int_modules/mod_com2y.F lib lib/fftqe/.objects lib/fftqe/c_defs.h.in lib/fftqe/fft_errore.F lib/fftqe/fft_hpsort.F lib/fftqe/fft_setmap.F lib/fftqe/fft_stick.c lib/fftqe/fftqe_defs.h.in lib/fftqe/fftw.h lib/fftqe/fftw2.c lib/fftqe/konst.h lib/fftqe/mod_fft_aux.F lib/fftqe/mod_fft_base.F lib/fftqe/mod_fft_interfaces.F lib/fftqe/mod_fft_parallel.F lib/fftqe/mod_fft_scalar.F lib/fftqe/mod_fft_types.F lib/fftqe/mod_stick_base.F lib/fftqe/mod_stick_set.F bse/.objects bse/K.F bse/K_IP.F bse/K_Transitions_setup.F + bse/K_diagonalization.F bse/K_driver.F bse/K_inversion.F bse/K_kerr_IP.F bse/K_stored_in_a_BIG_matrix.F bz_ops/bz_samp_indexes.F bz_ops/k_lattice.F bz_ops/k_map_nearest_by_dir.F bz_ops/k_the_nearest.F collisions/COLLISIONS_eval.F collisions/PLASMA_build_up.F collisions/PLASMA_parallel_setup.F collisions/PLASMA_tables_and_dimensions.F common common/.objects common/FREQUENCIES_damping.F + common/FREQUENCIES_setup.F common/G_index.F common/OCCUPATIONS_Fermi.F communicate/REPORT_Energies.F interface/init.F interface/init_load.F io/.objects + io/io_SC_components.F io/variables_DIPOLES.F linear_algebra/MATRIX_resolvant_via_exact_inversion.F linear_algebra/MATRIX_resolvant_via_perturbative_inversion.F linear_algebra/multi_worlds_scalapack/README.txt linear_algebra/multi_worlds_scalapack/constants.F linear_algebra/multi_worlds_scalapack/distools.F linear_algebra/multi_worlds_scalapack/error.F linear_algebra/multi_worlds_scalapack/kind.F linear_algebra/multi_worlds_scalapack/make.sys linear_algebra/multi_worlds_scalapack/make_file linear_algebra/multi_worlds_scalapack/mp_global.F linear_algebra/multi_worlds_scalapack/mytest.F linear_algebra/multi_worlds_scalapack/para.F linear_algebra/multi_worlds_scalapack/util.F modules/SET_defaults.F modules/mod_BS.F modules/mod_D_lattice.F modules/mod_FFT.F modules/mod_X.F modules/mod_electrons.F modules/mod_magnetic.F modules/mod_vec_operate.F parallel parser/mod_itm.F pol_function/.objects pol_function/DIPOLE_build_covariants.F pol_function/DIPOLE_check_shifted_grids.F pol_function/DIPOLE_driver.F pol_function/DIPOLE_kb_pwscf_comp.F pol_function/DIPOLE_kb_sum.F pol_function/DIPOLE_overlaps.F pol_function/DIPOLE_p_matrix_elements.F pol_function/DIPOLE_shifted_grids.F pol_function/DIPOLE_transverse.F + pol_function/O_driver.F pol_function/X_bare_Double_Grid_GreenF.F pol_function/X_drude.F pol_function/X_eh_setup.F pol_function/X_os.F + pol_function/X_pre_setup.F pol_function/X_s.F pol_function/X_simple_GreenF.F real_time_control/RT_apply.F real_time_control/RT_databases_IO.F sc/MAG_A_phase.F sc/MAG_common_build_A.F sc/MAG_pseudo_nl.F setup/G_shells_finder.F setup/setup.F surf/Dipole_driver_cut.F wf_and_fft/.objects wf_and_fft/WF_shift_by_G.F + xc_functionals/XC_libxc_driver.F xc_functionals/el_density_and_current.F ypp/.objects + ypp/electrons_driver.F ypp/k_grids.F ypp/k_map_fine_to_coarse.F ypp/k_random.F ypp/mod_YPP.F ypp/ypp_i.F ypp/ypp_init.F ypp/ypp_init_load.F

  Bugs:
  -
  Additions:
  -
  Changes:
  ************************************
  **** MERGED WITH devel-davide ******

  *** MAIN CHANGES ******
  1 - Perturbative SOC implementation created
  2 - Code made more modular:
   2.a) Created subroutine src/common/FREQUENCIES_set_iw_ref and code previously inside K_IP moved there
   2.b) Created subroutine src/bse/K_diag_compute_epsilon.F and code previously inside K_diagonalization moved there
   2.c) Created subroutine src/pol_function/X_os_residuals.F and code previously inside X_os moved there
  3 - Many changes in the dipoles
      DIPOLE_driver --> DIPOLE_shifted_grids, DIPOLE_build_covariants, DIPOLE_x_real_space, DIPOLE_transverse
      with the introduction of the dipoles in real space for non periodic systems (src/pol_function/DIPOLE_x_real_space.F)
      using src/wf_and_fft/load_cc.F which has been moved from mod_magnetic to an external subroutine

  *** OTHER CHANGES ******
  4 - Generator of random grid moved inside the "bzgrids driver" in ypp
  5 - Fixed several missing _SP and used where possible cZERO, cONE etc ...
  6 - BS_H_dim is now defined together with BS_H_dim in K_Transitions setup.
      Thus all variables in src/bse/K_diagonalization.F are not allocs anymore but simple
      locale variables. The number of lines of code is greately reduced
  7 - Fixed drude term in BSE and X_static (previous implementation in BSE had broken the reading of Wd of X_static)
  8 - X_bare_Double_Grid_GreenF modified in view of the implementation with the kpts. Also
      removed the ordering "sr"/"sa". Replaced by the space variable "eh" or "G"
  9 - velocity gauge small changes to have identical result with the length gauge
  10- in src/common/OCCUPATIONS_Fermi.F fixed computation of nel with DbGd
  11- erased %E_dip. Dipoles cannot be rotated
  12- Now both iku_v_norm and rlu_v_norm can be called with the option "inside BZ",
      i.e. computing the norm inside the Brillouin Zone

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4611 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc pol_function/DIPOLE_kb_sum.F

  Bugs:
  - [yambo] Fized bug in dipoles with spinors
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4585 76a4dfbf-5f1f-0410-a543-a0282073b526

- * openmp setup is not switched off when the mpi environment is not
  found * SET_logicals.F: strings in array constructors need to have the
  same length according to   xlf. function str_check added as a
  workaround (compiles, but run time checks are needed) [Andrea
  Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4579 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Andrea Marini]

  *  . config/acx_report.m4 config/configure.ac config/netcdf_f90.m4 configure include/version.inc lib + sbin/make_makefile.sh.in interface/init_load.F interface/init_q_points.F io/io_BS.F io/io_COLLISIONS.F io/io_DB1.F io/io_DB1_selective_scan.F io/io_DIPOLES.F io/io_ELPH.F io/io_HF_and_locXC.F io/io_KB_abinit.F io/io_KB_pwscf.F io/io_Overlaps.F io/io_QINDX.F io/io_QP_and_GF.F io/io_RT_components.F io/io_SC_components.F io/io_Vnl.F io/io_WF.F io/io_X.F io/io_bulk.F io/io_elemental.F io/io_fragment.F io/io_header.F modules/SET_defaults.F modules/SET_logicals.F modules/mod_IO.F modules/mod_com.F modules/mod_pars.F real_time/RT_Lifetimes_evaluation_plan.F real_time/RT_start_and_restart.F real_time_control/RT_observables.F wf_and_fft/WF_load.F xc_functionals/XC_libxc_driver.F ypp/ELPH_databases.F ypp/fix_WFs_and_E.F


  *** PLAIN FORTRAN SUPPORT REMOVED. ONLY NETCDF NOW IS IMPLMENTED ***

  Bugs:
  - Bug in the evaluation of the change of the Hartee RT total energy.
  - bug in XC_libxc_driver.F fixed (cmplx(var,SP) -> cmplx(var,0.0,SP) ) (AF)
  - bug fixed according to Davide's hint (drho_cmplx was defined as real(SP) instead of complex(SP) )

  Changes:
  - Removed collisions fragmentation
  - Restored (NONE) default for RT interpolation (till the procedure will be cleared)

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4576 76a4dfbf-5f1f-0410-a543-a0282073b526

- Second bug fixed according to Davide's hint (drho_cmplx was defined as
  real(SP) instead of complex(SP) ) [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4574 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug in XC_libxc_driver.F fixed (cmplx(var,SP) -> cmplx(var,0.0,SP) )
  [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4573 76a4dfbf-5f1f-0410-a543-a0282073b526

- Added ALL flags for I/O and fragmentation. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4569 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug fix in io_mode of fragmentation mode read from DB's at init call.
  [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4568 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.1. [Andrea Marini]

  *  config/acx_report.m4 config/configure.ac config/netcdf_f90.m4 configure include/version.inc sbin/make_makefile.sh.in interface/init_q_points.F io/io_DB1.F io/io_DB1_selective_scan.F io/io_KB_abinit.F io/io_KB_pwscf.F io/io_QP_and_GF.F io/io_WF.F io/io_bulk.F io/io_elemental.F io/io_header.F modules/mod_IO.F modules/mod_com.F modules/mod_pars.F wf_and_fft/WF_load.F ypp/ELPH_databases.F ypp/fix_WFs_and_E.F


  *** PLAIN FORTRAN SUPPORT REMOVED. ONLY NETCDF NOW IS IMPLMENTED ***


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4567 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.1. [Andrea Marini]

  *  config/configure.ac configure include/version.inc interface/init_load.F io/io_BS.F io/io_COLLISIONS.F io/io_DIPOLES.F io/io_ELPH.F io/io_HF_and_locXC.F io/io_KB_abinit.F io/io_KB_pwscf.F io/io_QINDX.F io/io_RT_components.F io/io_SC_components.F io/io_Vnl.F io/io_WF.F io/io_X.F io/io_fragment.F io/io_header.F modules/SET_logicals.F modules/mod_IO.F

  Bugs:
  - Fixed bug about use of io_fragmented in the fragmentation call (io_fragment)

  Changes:
  - Moved fragmentation setup in a logical call of io_header
  - io_fragmented array removed

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4565 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug fixed (integer(SP) removed). AF. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4566 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.1. [Andrea Marini]

  *  . config/configure.ac configure include/version.inc lib lib/fftqe/.objects lib/fftqe/c_defs.h.in lib/fftqe/fft_errore.F lib/fftqe/fft_hpsort.F lib/fftqe/fft_setmap.F lib/fftqe/fft_stick.c lib/fftqe/fftqe_defs.h.in lib/fftqe/fftw.h lib/fftqe/fftw2.c lib/fftqe/konst.h lib/fftqe/mod_fft_aux.F lib/fftqe/mod_fft_base.F lib/fftqe/mod_fft_interfaces.F lib/fftqe/mod_fft_parallel.F lib/fftqe/mod_fft_scalar.F lib/fftqe/mod_fft_types.F lib/fftqe/mod_stick_base.F lib/fftqe/mod_stick_set.F collisions/.objects collisions/COLLISIONS_Fock.F collisions/COLLISIONS_eval.F collisions/COLLISIONS_linearize_and_IO.F collisions/COLLISIONS_sex.F collisions/PLASMA_build_up.F collisions/PLASMA_parallel_setup.F collisions/PLASMA_tables_and_dimensions.F common linear_algebra/multi_worlds_scalapack/README.txt linear_algebra/multi_worlds_scalapack/constants.F linear_algebra/multi_worlds_scalapack/distools.F linear_algebra/multi_worlds_scalapack/error.F linear_algebra/multi_worlds_scalapack/kind.F linear_algebra/multi_worlds_scalapack/make.sys linear_algebra/multi_worlds_scalapack/make_file linear_algebra/multi_worlds_scalapack/mp_global.F linear_algebra/multi_worlds_scalapack/mytest.F linear_algebra/multi_worlds_scalapack/para.F linear_algebra/multi_worlds_scalapack/util.F modules/mod_QP.F parallel qp/ELPH_simmetrize_and_distribute_gsqF.F qp/QED_Sigma_c.F qp_control/QP_load_DB.F real_time_control/RT_databases_IO.F xc_functionals/XC_libxc_driver.F xc_functionals/eval_Gradient.F ypp/electrons_bands.F ypp/electrons_driver.F ypp/k_grids.F

  *** merged with devel-andrea ***

  Bugs:
  - SERIOUS bug in eval_Gradient. It was used to calculate the derivative of wave-functions but the
    arguments were pure real.
  - Fixed bug in electrons_bands that was preventing to print the internal bands even without T-reversal.
    Fixe also other bug that was causing points outside the high symmetry lines to appear.

  Additions:
  - Added optional complex array as argument of QP_states_simmetrize
  - Added symmetrization of QP corrections in QED_Sigma_c

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4548 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4547 76a4dfbf-5f1f-0410-a543-a0282073b526

- Svn:mergeinfo removed in config and src/bse for all branches. Kept
  only in trunk. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4538 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.1. [Andrea Marini]

  *  config/configure.ac configure include/version.inc modules/mod_QP.F qp/ELPH_simmetrize_and_distribute_gsqF.F qp/QED_Sigma_c.F qp_control/QP_load_DB.F xc_functionals/XC_libxc_driver.F xc_functionals/eval_Gradient.F ypp/electrons_bands.F ypp/electrons_driver.F

  Bugs:
  - SERIOUS bug in eval_Gradient. It was used to calculate the derivative of wave-functions but the
    arguments were pure real.
  - Fixed bug in electrons_bands that was preventing to print the internal bands even without T-reversal.
    Fixe also other bug that was causing points outside the high symmetry lines to appear.

  Additions:
  - Added optional complex array as argument of QP_states_simmetrize
  - Added symmetrization of QP corrections in QED_Sigma_c

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4531 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.1. [Davide Sangalli]

  *  . config/configure.ac config/report.in config/scalapack.m4 configure include/version.inc lib lib/fftqe/.objects lib/fftqe/c_defs.h.in lib/fftqe/fft_errore.F lib/fftqe/fft_hpsort.F lib/fftqe/fft_setmap.F lib/fftqe/fft_stick.c lib/fftqe/fftqe_defs.h.in lib/fftqe/fftw.h lib/fftqe/fftw2.c lib/fftqe/konst.h lib/fftqe/mod_fft_aux.F lib/fftqe/mod_fft_base.F lib/fftqe/mod_fft_interfaces.F lib/fftqe/mod_fft_parallel.F lib/fftqe/mod_fft_scalar.F lib/fftqe/mod_fft_types.F lib/fftqe/mod_stick_base.F lib/fftqe/mod_stick_set.F bse/K_Haydock.F bse/K_IP.F bse/K_diagonalization.F bse/K_driver.F bse/K_kerr_IP.F collisions/COLLISIONS_eval.F collisions/PLASMA_build_up.F collisions/PLASMA_parallel_setup.F collisions/PLASMA_tables_and_dimensions.F common interface/init.F interface/init_load.F io/.objects io/io_DIPOLES.F io/io_Overlaps.F io/io_P_and_P2.F io/variables_DIPOLES.F linear_algebra/multi_worlds_scalapack/README.txt linear_algebra/multi_worlds_scalapack/constants.F linear_algebra/multi_worlds_scalapack/distools.F linear_algebra/multi_worlds_scalapack/error.F linear_algebra/multi_worlds_scalapack/kind.F linear_algebra/multi_worlds_scalapack/make.sys linear_algebra/multi_worlds_scalapack/make_file linear_algebra/multi_worlds_scalapack/mp_global.F linear_algebra/multi_worlds_scalapack/mytest.F linear_algebra/multi_worlds_scalapack/para.F linear_algebra/multi_worlds_scalapack/util.F modules/SET_defaults.F modules/mod_KERR.F modules/mod_Overlaps.F modules/mod_SC.F modules/mod_X.F modules/mod_X_output.F parallel pol_function/.objects pol_function/Build_Overlaps_Det.F pol_function/DIPOLE_build_covariants.F pol_function/DIPOLE_dip_dot_field.F pol_function/DIPOLE_driver.F pol_function/DIPOLE_kb_sum.F pol_function/DIPOLE_overlaps.F pol_function/DIPOLE_p_matrix_elements.F + pol_function/DIPOLE_shifted_grids.F pol_function/DIPOLE_transverse.F pol_function/O_driver.F pol_function/X_em1.F pol_function/X_os.F real_time/RT_start_and_restart.F real_time_control/RT_databases_IO.F sc/.objects sc/MAG_Hamiltonian.F + sc/OEP_exact_inversion.F sc/SC_bare_Hamiltonian.F sc/SC_driver.F sc/SC_start_and_restart.F surf/Dipole_driver_cut.F surf/Surface_driver.F surf_modules/mod_optcut.F tddft/TDDFT_BSK_2_FXC.F wf_and_fft/WF_load.F wf_and_fft/WF_shift_by_G.F xc_functionals/el_density_and_current.F ypp/RT_transient_absorption.F ypp/excitons_driver.F ypp/ras_trans_ypp.F

  Bugs:
  -
  Additions:
  -
  Changes:

  *** merged with devel-davide ***
  (TEST SUITE OVERCOME BESIDE FEW DIFFERENCES IN yambo_kerr)
  - "velocity gauge" moved from yambo_kerr to yambo.
  - Reorganization of Dipole_driver
  - IO of DIP_iR, DIP_P, and old  DIP_cov has been moved  inside the only subroutine io_DIPOLES
  - DIP_q_dot_iR renamed DIP_projected and gratly dimplified
  - Covariant dipoles extend to the spinorial case
  - [yambo_magnetic] inizialization done by a different subroutine


  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4539 76a4dfbf-5f1f-0410-a543-a0282073b526

- Test: merge info in folders config and bse deleted from trunk/devel
  and devel-davide/devel. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4537 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.1. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc io/io_Overlaps.F io/io_SC_components.F

  Bugs:
  - [yambo] small fix in the new IO fagmentation structure
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4534 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.1. [Davide Sangalli]

  *  config/configure.ac configure driver/yambo.h driver/ypp.h include/version.inc collisions/COLLISIONS_linearize_and_IO.F interface/init.F interface/init_load.F io/IO_and_Messaging_switch.F io/io_BS.F io/io_COLLISIONS.F io/io_DIPOLES.F io/io_ELPH.F io/io_HF_and_locXC.F io/io_KB_abinit.F io/io_KB_pwscf.F io/io_Overlaps.F io/io_P_and_P2.F io/io_QINDX.F io/io_RT_components.F io/io_SC_components.F io/io_Vnl.F io/io_WF.F io/io_X.F io/io_fragment.F io/io_header.F modules/SET_defaults.F modules/SET_logicals.F modules/mod_IO.F setup/PARALLEL_and_IO_Setup.F wf_and_fft/WF_load.F ypp/fix_WFs_and_E.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [yambo] IO fragmentation reorganized. Now it is possible to decide in input which DBs to be fragmented.
            Test suite overcame in serial and def_par. Still to check the combinations with the new frag_flags.
            Also the old io_flags seem to be not well checked. Some of the tests of the test-suite fail
            (i.e. QP correction within PPA) if io_X is off.

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4533 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.1. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K_Transitions_setup.F modules/mod_BS.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [yambo] modified mod_BS to prevent too many calls to mem_est.
            Overcomes the test-suite.

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4530 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc pol_function/DIPOLE_transverse.F

  Bugs:
  - [yambo] Fixed bug in dipoles with n_sp_pol=2
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4526 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/Makefile.in_gpl config/configure.ac configure include/version.inc

  Bugs:
  -
  Additions:
  -
  Changes:
  - removed replica of interface in Makefile.in_gpl
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4524 76a4dfbf-5f1f-0410-a543-a0282073b526

- Compilation of _surf projects fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4522 76a4dfbf-5f1f-0410-a543-a0282073b526

- .object gpl modified adding missing file. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4521 76a4dfbf-5f1f-0410-a543-a0282073b526

- GPL barrier corrected. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4519 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc ypp/electrons_driver.F ypp/symmetries_driver.F

  Bugs:
  - [ypp] Fixed wrong calls to el_magnetization
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4517 76a4dfbf-5f1f-0410-a543-a0282073b526

- Makefile system fixed (ypp* not compiling well on IBM xlf) [Andrea
  Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4514 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel andrea. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4508 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk devel. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4507 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4506 76a4dfbf-5f1f-0410-a543-a0282073b526

- Mergeinfo recorded again. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4505 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk devel. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4504 76a4dfbf-5f1f-0410-a543-a0282073b526

- Trying to edit svn mergeinfo. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4502 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4495 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4485 76a4dfbf-5f1f-0410-a543-a0282073b526

- Mergeinfo with devel andrea recorded. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4503 76a4dfbf-5f1f-0410-a543-a0282073b526

- Marge info fixes. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4475 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Andrea Marini]

  *  config/configure.ac configure include/version.inc pol_function/X_bare_Double_Grid_GreenF.F qp_control/QP_apply.F qp_control/QP_apply_global_stretch.F qp_control/QP_load_DB.F real_time/RT_Collision.F

  Bugs:
  - Wrong sign of imaginary part of poles when the Double Grid is used for the response function.
  - User defined scissor and stretching was not applied when the corrections were loaded from database.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4471 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4467 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Andrea Marini]

  *  config/configure.ac configure include/version.inc bse/K.F bse/K_Transitions_setup.F bse/K_solvers.F interface/init.F interface/init_barriers.F io/io_BS.F io/io_Double_Grid.F io/io_ELPH.F io/io_header.F modules/mod_BS.F modules/mod_drivers.F modules/mod_electrons.F pol_function/X_bare_Double_Grid_GreenF.F qp/QP_descriptions.F qp_control/Nearest_kpt_interpolation.F real_time_control/RT_apply.F ypp/excitons_driver.F ypp/k_map_fine_to_coarse.F ypp/ypp_i.F

  Bugs:
  - Fixed erroneous jumps to K_solvers even in the absence of the K kernel
  - Fixed use of database W values for input
  - Fixed e-p barriers for non uniform grids
  - Fixed bug in io_ELPH

  Additions:
  - Added e-p field in QP descriptions
  - Added Double Grid support to RT_apply

  Changes:
  - Restyled io_Double_Grid
  - Improved speed of k_map_fine_to_coarse. Added parallel support.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4464 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug fix in variable naming and added IO error deliver. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4456 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug-fix in parallelization of RT_Collision fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4454 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fixed bug in use of partially filled set of QP k-points. [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4448 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Andrea Marini]

  *  config/configure.ac configure include/version.inc interface/init.F interface/init_QP.F interpolate/grid_generator.F parser/mod_itm.F ypp/electrons_bands.F ypp/k_grids.F ypp/mod_YPP.F ypp/ypp_init.F ypp/ypp_init_load.F

  Additions:
  - [YPP] Finalized plot of internal band points along pre-defined lines.

  Changes:
  - [YPP] Stored USER defined list of vectors in the module.
  - QP_init -> init_QP

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4445 76a4dfbf-5f1f-0410-a543-a0282073b526

- Working on the bands interpolation. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4444 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Andrea Marini]

  *  config/configure.ac configure include/version.inc bse/K_inversion.F io/io_Double_Grid.F io/io_header.F modules/mod_IO.F pol_function/X_bare_Double_Grid_GreenF.F

  Bugs:
  - Minor bugs in DbGd I/O fixed.

  Changes:
  - GF loop parallelized in K_inversion.
  - Some unused routines removed from mod_IO.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4443 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Andrea Marini]

  *  bse/K.F bse/K_driver.F bse/K_inversion.F bse/K_multiply_by_V.F collisions/COLLISIONS_compose.F common/OCCUPATIONS_Extend.F common/OCCUPATIONS_Fermi.F interface/init.F interface/init_load.F interpolate/bz_interp_coeff.F interpolate/bz_interp_setup.F interpolate/eval_interpolation_coeff.F interpolate/fourier_interpolation.F io/.objects io/.objects_gpl io/io_BSS_invert.F + moved io/io_RIM_E_and_k.F moved io/variables_BS.F io/variables_RT.F io/variables_X.F modules/SET_defaults.F modules/mod_BS.F modules/mod_X.F modules/mod_electrons.F modules/mod_real_time.F pol_function/.objects pol_function/.objects_gpl pol_function/O_driver.F + moved pol_function/X_bare_RIM_GreenF.F moved pol_function/X_drude.F pol_function/X_eh_setup.F pol_function/X_os.F pol_function/X_pre_setup.F qp/QP_descriptions.F qp_control/QP_apply.F real_time/RT_BGR.F real_time/RT_Collision.F real_time/RT_Coulomb_relaxation.F real_time/RT_ELPH_CCA_Kernel.F real_time/RT_apply_RWA.F real_time/RT_apply_field.F real_time/RT_apply_zero_dyn.F real_time/RT_current_AND_polarization.F real_time/RT_impose_zero_dE_and_dN.F real_time/RT_initialize.F real_time/RT_start_and_restart.F real_time_control/RT_average_operator.F real_time_control/RT_carriers_object.F real_time_control/RT_k_grid.F real_time_control/RT_observables.F real_time_control/RT_occupations_FIT.F setup/setup.F ypp/.objects ypp/.objects_gpl + moved ypp/RT_IO_check_RIM.F moved ypp/bxsf_read.F ypp/double_k_grid.F ypp/electrons_bands.F ypp/electrons_dos_and_charge.F + moved ypp/k_RIM_grid_consistency_check.F moved ypp/k_map_fine_to_coarse.F ypp/k_random.F ypp/mod_YPP.F ypp/ypp_i.F ypp/ypp_init.F ypp/ypp_init_load.F

  *** GLOBAL CHANGE: E & k RIM => DOUBLE_GRID ***

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4442 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4441 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Andrea Marini]

  *  config/configure.ac configure include/version.inc modules/mod_vec_operate.F ypp/.objects ypp/.objects_gpl ypp/electrons_driver.F ypp/mod_YPP.F ypp/plot_and_project_1D.F ypp/plot_check_and_launch.F ypp/plot_gnuplot.F ypp/plot_xcrysden.F ypp/ypp_init_load.F

  Bugs:
  - Wrong opeartion of c2a function for real-space vectors fixed.

  Additions:
  - Added routine to plot a real-space function along a specific chartesian direction (applied to the current now but
    can be expanded and made more general).

  Changes:
  - Moved 0/1/2/3D logicals to YPP module.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4418 76a4dfbf-5f1f-0410-a543-a0282073b526

- Trunk-devel and devel-andrea syncronized. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4412 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4411 76a4dfbf-5f1f-0410-a543-a0282073b526

- Electronic current now normalized to max value. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4409 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Andrea Marini]

  *  . config config/Makefile.in config/configure.ac configure include/version.inc sbin/yambo_versions_update.tcsh bse bse/K_Transitions_setup.F bse/K_WF_phases.F io/io_ELPH.F modules/mod_pseudo.F parallel pol_function/DIPOLE_kb_abinit_comp.F pol_function/DIPOLE_kb_init.F pol_function/DIPOLE_kb_pwscf_comp.F pol_function/DIPOLE_transverse.F ypp

  Additions:
  - Added two real parameters to limit the energy of the minimum transitions that
    define the DW and FAN self-energies. This in order to prevent divergencies.

  Changes:
  - Merged with trunk-devel

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4407 76a4dfbf-5f1f-0410-a543-a0282073b526

- Working with anomalous divergencies in DW contributions to e-p self-
  energy. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4400 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4388 76a4dfbf-5f1f-0410-a543-a0282073b526

- Added numer of Random points to _QED self-energy and fixed setups of
  parallel bands for Self_Energy environment. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4377 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug Fix (spotted by Alejandro) [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4375 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug fix. Not default parallelization is working. To be more tested.
  [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4373 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4372 76a4dfbf-5f1f-0410-a543-a0282073b526

- Struggling with default parallel structure. Still bugs to spot.
  [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4371 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4366 76a4dfbf-5f1f-0410-a543-a0282073b526

- First implementation of parallel defaults added. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4365 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fixed bug in q-pts reading from QE. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4356 76a4dfbf-5f1f-0410-a543-a0282073b526

- Wrong use of revision in io_header fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4353 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4352 76a4dfbf-5f1f-0410-a543-a0282073b526

- Double revisioning implemented. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4351 76a4dfbf-5f1f-0410-a543-a0282073b526

- Double versioning started. Fixed parallel error. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4348 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug fix in mod_parallel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4332 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fix in CPU_time reference. Small other fixes around. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4327 76a4dfbf-5f1f-0410-a543-a0282073b526

- Trunk-devel, devel-andrea and gpl-devel syncronized. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4325 76a4dfbf-5f1f-0410-a543-a0282073b526

- Devel-andrea and trunk-devel syncronized. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4322 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4319 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4317 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fixed DP bugs and Authors headers and list. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4305 76a4dfbf-5f1f-0410-a543-a0282073b526

- Added compatibility message in io_DB1. Improved error message in
  excitons_driver.F. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4303 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4302 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4294 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug fixed in init.F to respect inter-dependent runlevels. Fixed
  section name in K.F. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4293 76a4dfbf-5f1f-0410-a543-a0282073b526

- Moved bands redefinition for QP_apply in the ALDA case in
  External_corrections. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4286 76a4dfbf-5f1f-0410-a543-a0282073b526

- Andrea-devel and trunk-devel syncronized. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4280 76a4dfbf-5f1f-0410-a543-a0282073b526

- Mergeinfo fix. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4279 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4277 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4273 76a4dfbf-5f1f-0410-a543-a0282073b526

- Persiting error in Makefiles fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4270 76a4dfbf-5f1f-0410-a543-a0282073b526

- Added cpu-time check to automatically switch-off dipoles I/O. [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4267 76a4dfbf-5f1f-0410-a543-a0282073b526

- Recording mergeinfo again. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4264 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fixing (maybe) other svn merge conflicts. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4262 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4260 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug fix in parallel distribution of PH frequencies in e-p
  calculations. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4258 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug fix in parallel (Q-pts) GW_NEQ collisions distribution. [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4257 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merghed with trunk-devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4256 76a4dfbf-5f1f-0410-a543-a0282073b526

- Again merge with trunk-devel to clean-up conflicts. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4244 76a4dfbf-5f1f-0410-a543-a0282073b526

- Mergeingfo fix. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4242 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk (via svn) [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4240 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk (by hand) [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4239 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fixed some remaining problems induced by the merge. Now ALL GPL
  features work properly. Tests are passed. Still some _rt issues to
  solve. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4237 76a4dfbf-5f1f-0410-a543-a0282073b526

- Missing files added. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4235 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Andrea Marini]

  *  config/acx_cpp.m4 config/acx_misc.m4 config/configure.ac config/netcdf_f90.m4 config/setup.in configure driver/yambo_driver.F include/version.inc lib/archive/package.list lib/install/make_iotk.inc.in lib/iotk/Makefile.loc lib/libxc/Makefile.loc lib/netcdf/Makefile.loc bz_ops/k_the_nearest.F collisions/.objects collisions/COLLISIONS_Hartree_Fock.F collisions/COLLISIONS_alloc_and_free.F collisions/COLLISIONS_cohsex.F collisions/COLLISIONS_compose.F collisions/COLLISIONS_eval.F collisions/COLLISIONS_linearize_and_IO.F collisions/COLLISIONS_load.F io/io_COLLISIONS.F modules/mod_collision.F modules/mod_real_time.F modules/mod_vec_operate.F pol_function/DIPOLE_dip_dot_field.F pol_function/DIPOLE_kb_Ylm.F qp/QP_of.F qp/QP_report_and_write.F qp/XCo_driver.F real_time/RT_BGR.F real_time/RT_Collision.F real_time/RT_Coulomb_relaxation.F real_time/RT_current_AND_polarization.F real_time/RT_driver.F real_time_control/RT_average_operator.F real_time_control/RT_carriers_object.F real_time_control/RT_observables.F real_time_control/RT_output.F sc/SC_driver.F ypp/RT_initialize.F

  *** Merged with trunk/devel ***

  Bugs:
  - Fixed bugs imported from trunk

  Additions:
  - Added output to HF calculations via QP_of()

  Changes:
  - [RT] COLLISIONS system adapted to new structure
  - [RT] HF collisions renamed in FOCK
  - [RT] Fixed format of output observablesZ

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4234 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fighting with mergeinfo :( [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4223 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fighting with mergeinfo :( [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4222 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fixed bug in io_BSS_diago due to erroneous real<->complex
  transformation via the subroutine arguemnts. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4218 76a4dfbf-5f1f-0410-a543-a0282073b526

- Minor fixes. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4217 76a4dfbf-5f1f-0410-a543-a0282073b526

- Added current support to old el_density routine. Now moved as
  interface. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4215 76a4dfbf-5f1f-0410-a543-a0282073b526

- Working on the current. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4210 76a4dfbf-5f1f-0410-a543-a0282073b526

- Introduced constrain on eh and t CPU fields. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4209 76a4dfbf-5f1f-0410-a543-a0282073b526

- Added option to compute the current via ypp. To be finalized. [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4200 76a4dfbf-5f1f-0410-a543-a0282073b526

- Cleaned-up old hybrid support to QED collisions. Restored pure _RT
  support in a new yambo_qed_rt exectuable. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4197 76a4dfbf-5f1f-0410-a543-a0282073b526

- FFT implementation of QED Sigma_c done and tested. Rest of the code to
  be cleaned-up. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4193 76a4dfbf-5f1f-0410-a543-a0282073b526

- Mergeinfo recorded. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4500 76a4dfbf-5f1f-0410-a543-a0282073b526

- Trying reverse merge. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4499 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merge:info recovered in trunk. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4496 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.1. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc parallel/PARALLEL_Transitions_grouping.F parallel/PARALLEL_index.F

  Bugs:
  - [yambo] fixed bug in parallelization of the BSE
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4492 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.1. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc a2y/a2y_i.F modules/mod_BS.F

  Bugs:
  - [a2y] small fix
  Additions:
  -
  Changes:
  - [yambo / yambo_kerr] if defined _KERR removed from mob_BS.F since
                         "if defined" commands inside modules give compilation problems

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4489 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.1. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc a2y/a2y_i.F a2y/a2y_wf.F pol_function/DIPOLE_dip_dot_field.F ypp/electrons_driver.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [a2y GPL] beeing more conservative. Added few GPL_EXCLUDE / GPL_INCLUDE flags for a2y
  - [ypp] bands interpolation does not work with t-rev symmetry because when the symmetries are
          used in the interpolation procedure the t-rev is not properly considered.

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4487 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.1. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc pol_function/DIPOLE_driver.F

  Bugs:
  - [yambo] Fixed problem in Dipole_driver.F
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4486 76a4dfbf-5f1f-0410-a543-a0282073b526

- GPL barriers and 4.0.0 -> 4.0.1. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4484 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc io/io_header.F real_time/RT_start_and_restart.F ypp/k_map_fine_to_coarse.F

  Bugs:
  - [yambo & ypp] fixed two compilation problems with gfortran
  - [yambo_rt]    magn_reference is initialized only if n_spin>2
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4478 76a4dfbf-5f1f-0410-a543-a0282073b526

- Out-of-date files removed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4477 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4476 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merge info fixes. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4474 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc modules/mod_wrapper_omp.F

  Bugs:
  - [yambo] defined _OPENMP. Once the defined has been fixed with the previous commit
            the N inside the "defined _OPENMP" the module was non declared.
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4472 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc modules/mod_wrapper_omp.F

  Bugs:
  - [yambo, _OPENMP] fixed typo
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4468 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc interface/init_load.F io/io_SC_components.F modules/mod_SC.F modules/mod_real_time.F qp/XCo_local.F real_time/RT_Collision.F real_time/RT_driver.F real_time/RT_start_and_restart.F sc/MAG_A_phase.F sc/MAG_H_pseudo.F sc/MAG_Hamiltonian.F sc/MAG_common_build_A.F sc/SC_Energy.F sc/SC_bare_Hamiltonian.F sc/SC_driver.F sc/SC_start_and_restart.F wf_and_fft/WF_rotate.F xc_functionals/Build_V_xc_mat.F xc_functionals/XC_libxc_driver.F xc_functionals/el_density_and_current.F xc_functionals/el_density_matrix.F xc_functionals/el_magnetization.F xc_functionals/el_magnetization_matrix.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [yambo_sc] extended to the case n_spinor=2. In particular the subroutine WF_rotate
               Also the magnetization is computed during the sc cycle if n_spin>1 and
               used to build the new V_xc in case of a local potential
  - [yambo_magnetic] extended to the case n_spinor=2 with the update to yambo_sc .
                     In particular the Pauli term of the Hamitonian
  - [yambo_rt] Defined el_magnetization_matrix used to compute the magnetization in the
               case n_spinor=2. With this upgrade also TD-DFT properly work with
               n_spinor=2

  All test of the test-suite for yambo_rt and yambo_sc overcame.
  Only the check on the collisions DBs fails because the I/O of the collisions has been reordered.
  However the test using these collisions are ok.

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4465 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc real_time/RT_apply_field.F real_time/RT_current_AND_polarization.F real_time_control/RT_average_operator.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [yambo_rt] Rescaling of the dipoles with the double grid commented.
               It should not be done accordingly to the philosophy of
               Del Sole in PRB 48, 11789 (1993). However for the moment I do not
               erase the coding because I'd like to check it a bit more. The discussion
               on the topic was based on the idea that the rescaling was causing a
               problem in the absorption of Silicon with the double grid, while it is not.

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4463 76a4dfbf-5f1f-0410-a543-a0282073b526

- RIM map procedure made faster. Fixed compilation problem. [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4462 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc qp/XCo_Hartree_Fock.F

  Bugs:
  - [yambo] fixed wrong DP to SP conversion in qp/XCo_Hartree_Fock.F
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4461 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K_Transitions_setup.F

  Bugs:
  - [yambo_rt] removed line erroneously inserted from my branch during the last merge in bse/K_Transitions_setup.F
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4457 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bz_ops/.objects bz_ops/k_map_nearest_by_dir.F interface/init.F interface/init_load.F io/.objects io/io_Overlaps.F linear_algebra/MATRIX_driver.F modules/SET_defaults.F modules/mod_Overlaps.F modules/mod_R_lattice.F modules/mod_X.F modules/mod_interfaces.F modules/mod_vec_operate.F pol_function/.objects pol_function/Build_Overlaps_Det.F pol_function/DIPOLE_build_covariants.F pol_function/DIPOLE_dip_dot_field.F pol_function/DIPOLE_driver.F pol_function/DIPOLE_overlaps.F pol_function/O_driver.F wf_and_fft/.objects wf_and_fft/WF_shift_by_G.F

  Bugs:
  -
  Additions:
  - DIPOLE evaluated in the covariant form. [Thank to Claudio and Myrta]
    Implemenation inserted in trunk/devel.
    Code is running but results with covariant dipoles are still not ok.

  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4446 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc int_modules/mod_wf2y.F wf_and_fft/WF_load.F ypp/fix_WFs_and_E.F

  Bugs:
  - [ypp] symmetries tool now works correctly also in case wf_nb_io is different from E%nb,
          i.e. if WF DBs is fragmented on bands as well
  Additions:
  -
  Changes:
  - [p2y/a2y] max_wf_block_size changed to 100 MB folowing Conor's suggestion

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4440 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/Makefile.in config/configure.ac configure include/version.inc

  Bugs:
  -
  Additions:
  -
  Changes:
  - interface folder already listed among the basic libs in the Makefile.
    No need to specify it again.

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4439 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . config config/configure.ac configure include/version.inc p2y/PP_PWscf_driver.F p2y/qexml_v4.0.F lib lib/fftqe/.objects lib/fftqe/c_defs.h.in lib/fftqe/fft_errore.F lib/fftqe/fft_hpsort.F lib/fftqe/fft_setmap.F lib/fftqe/fft_stick.c lib/fftqe/fftqe_defs.h.in lib/fftqe/fftw.h lib/fftqe/fftw2.c lib/fftqe/konst.h lib/fftqe/mod_fft_aux.F lib/fftqe/mod_fft_base.F lib/fftqe/mod_fft_interfaces.F lib/fftqe/mod_fft_parallel.F lib/fftqe/mod_fft_scalar.F lib/fftqe/mod_fft_types.F lib/fftqe/mod_stick_base.F lib/fftqe/mod_stick_set.F bse bse/K_IP.F bse/K_Transitions_setup.F common interface/init.F interface/init_load.F interpolate/bz_interp_coeff.F interpolate/bz_interp_setup.F interpolate/fourier_interpolation.F io/io_RIM_E_and_k.F io/io_RT_components.F linear_algebra/multi_worlds_scalapack/README.txt linear_algebra/multi_worlds_scalapack/constants.F linear_algebra/multi_worlds_scalapack/distools.F linear_algebra/multi_worlds_scalapack/error.F linear_algebra/multi_worlds_scalapack/kind.F linear_algebra/multi_worlds_scalapack/make.sys linear_algebra/multi_worlds_scalapack/make_file linear_algebra/multi_worlds_scalapack/mp_global.F linear_algebra/multi_worlds_scalapack/mytest.F linear_algebra/multi_worlds_scalapack/para.F linear_algebra/multi_worlds_scalapack/util.F modules/SET_defaults.F modules/mod_R_lattice.F modules/mod_X.F modules/mod_X_output.F modules/mod_electrons.F modules/mod_magnetic.F parallel pol_function/.objects pol_function/DIPOLE_kb_abinit_comp.F pol_function/DIPOLE_kb_pwscf_comp.F pol_function/DIPOLE_kb_sum.F + pol_function/DIPOLE_transverse.F pol_function/X_bare_RIM_GreenF.F pol_function/X_drude.F pol_function/X_eh_setup.F pol_function/X_os.F pol_function/X_pre_setup.F pol_function/X_simple_GreenF.F real_time_control/RT_carriers_object.F sc/MAG_H_pseudo.F sc/MAG_pseudo_nl.F ypp/.objects ypp/k_map_fine_to_coarse.F

  Bugs:
  -
  Additions:
  -
  Changes:

  *********************************
  *** merged with devel-davide  ***
  *** Overcomes test-suit tests ***
  *********************************

  - [x,Vnl] and Dipole_transverse reorganized
  - X_simple_GreenF and X_bare_RIM_GreenF implementation simplified
  - few small bug fix
  - RIM kpts always written in DBs and defined as a global variable in mod_electrons,
    removed from type bz_samp.
  - Small energies poles removed only if drude term is included
  - Double grid (presently called RIM): now yambo considers also transition within a
    single group of k-points assciated to a point on the bare grid. This could be
    an alternative way to get the Drude term with an ultra-fine double grid.
  - other minor changes


  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4438 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac config/fft.m4 configure include/version.inc

  Bugs:
  -
  Additions:
  -
  Changes:
  - Fixed fft configuration error introduced with last commit

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4437 76a4dfbf-5f1f-0410-a543-a0282073b526

- Compilation isses fixed. AF. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4436 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac config/fft.m4 config/report.in configure include/version.inc

  Bugs:
  -
  Additions:
  -
  Changes:
  - Configure report updated also for FFT

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4434 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc io/io_SC_components.F modules/SET_defaults.F modules/mod_X.F modules/mod_electrons.F pol_function/DIPOLE_driver.F pol_function/DIPOLE_rotate.F pol_function/DIPOLE_transverse.F pol_function/X_em1.F qp/XCo_Hartree_Fock.F sc/SC_driver.F setup/setup.F wf_and_fft/WF_load.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [yambo_sc] Now yambo_sc uses the SC_E and SC_WFs for computing the dipoles.
               However that way the commutator with the non local component of the Hamiltonian is neglected.
               I also started the implementation based on DIPOLE_rotate. Still to be improved.
               This avoids the problem, but has another one, since the diagonal components of the dipoles
               are ill defined and in the rotation these give a wrong dipole.

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4432 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc e2y/e2y_wf.F bse/K_eps_interpolate.F bz_ops/bz_samp_indexes.F modules/mod_vec_operate.F parallel/PARALLEL_Transitions_grouping.F parallel/PARALLEL_minimal_index_from_overlaping.F ypp/fix_WFs_Gshells.F

  Bugs:
  - [yambo] BSE: Fixed other bug spotted by Guido. In case of a huge number of transition N_cv the conversion
            "integer to real" of some table (in this case of the BS_T_grp_1st_el(:) vector) which have values
             proportional to N_cv was wrong. Problem fixed defining the interface sort to r_sort and i_sort
             which is able to deal directly with integer vectors.
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4426 76a4dfbf-5f1f-0410-a543-a0282073b526

- Cleanup. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4425 76a4dfbf-5f1f-0410-a543-a0282073b526

- Cleanup. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4424 76a4dfbf-5f1f-0410-a543-a0282073b526

- Small change in the RIM, now it works for large sampling, while  it
  was failing due to the samll number in the MC condition. [Daniele
  Varsano]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4423 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc common/FREQUENCIES_coarse_grid.F interface/init_barriers.F pol_function/X_os.F

  Bugs:
  - [yambo] fixed problem with coarse grid and huge databases with almost continuous
            distribution of poles. I also lowered a bit the treshold from 1E-6 to 1E-5 Ha
            It can be likely reduced further without changes in the spectrum.
            (Same change as in trunk stable, bug pointed out by Guido Fratesi)
  Additions:
  -
  Changes:
  - [yambo] Restored skip_WF_load logical as it was in the stable.
  - [yambo] Updated barriers for non uniform grids.

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4421 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.1. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc common/FREQUENCIES_coarse_grid.F

  Bugs:
  -
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4420 76a4dfbf-5f1f-0410-a543-a0282073b526

- Small bug fix. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4419 76a4dfbf-5f1f-0410-a543-a0282073b526

- Trunk-devel and devel-andrea syncronized. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4412 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K_Transitions_setup.F

  Bugs:
  - [yambo] fixed bug in the Drude term of the BSE
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4404 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc modules/mod_pseudo.F pol_function/DIPOLE_kb_abinit_comp.F pol_function/DIPOLE_kb_init.F pol_function/DIPOLE_kb_pwscf_comp.F pol_function/DIPOLE_transverse.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Implementation of the [x,Vnl] pwscf commutator simplified

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4402 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc pol_function/DIPOLE_kb_init.F

  Bugs:
  - [yambo_kerr] fixed smal bug with commutator and relativistic psps
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4399 76a4dfbf-5f1f-0410-a543-a0282073b526

- Xlf on BGQ complained for some libraries linked in the wrong order
  when compiling ypp. fixed. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4398 76a4dfbf-5f1f-0410-a543-a0282073b526

- Svn:ignore fixed. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4397 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K_WF_phases.F

  Bugs:
  - [yambo] small change in the message on the total number of phases
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4394 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc parallel/PARALLEL_defaults.F

  Bugs:
  - Fixed too long lines for gfortran
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4393 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fixed script to update the revision number to work for the GPL source
  as well. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4391 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Andrea Marini]

  *  config/configure.ac configure include/version.inc p2y/p2y_db1.F sbin/yambo_versions_update.tcsh bz_ops/bz_samp_indexes.F interface/init.F interface/init_q_points.F io/io_DB1.F io/io_elemental.F io/io_header.F io/ver_is_gt_or_eq.F modules/mod_IO.F modules/mod_LIVE_t.F modules/mod_R_lattice.F modules/mod_logo.F modules/mod_parallel.F parallel/.objects + + parallel/PARALLEL_get_user_structure.F parallel/PARALLEL_global_indexes.F parallel/PARALLEL_structure.F pol_function/DIPOLE_driver.F qp/QED_Sigma_c.F

  Bugs:
  - Fixed bug in e-p Q-points self-detection (spotted by Alejandro).
  - Fixed bug in time estimation for dipoles I/O.

  Additions:
  - Double revision system (devel/gpl) implemented.
  - Self-parallel-environment implemented (now -np N is enough).

  Changes:
  - Fixed height of LOGO's to be all the same (spotted by AndreaF).

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4390 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure driver/a2y.h driver/c2y.h driver/p2y.h driver/yambo.h driver/ypp.h include/version.inc a2y/a2y_i.F a2y/a2y_wf.F int_modules/mod_wf2y.F p2y/p2y_i.F modules/SET_defaults.F pol_function/X_os.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - fragmentation done by default on kpts. To avoi it run yambo / X2y -U

  - WF_splitter
    fragmentation on bands also by default if a single wf file is bigger than 10 MB,
    which means about more than 350 bands for kpt. The previous limit (400 MB) was too high.
    To avoid it run X2y -b $n_tot_band, with $n_tot_band the total number of bands in your database.
    Notice that yambo is not able to do fragmentation only on the bands.
    If the bands fragmentation is activated so it is the kpts fragmentation.
    NETCDF write WFs in single or double according to the value kind of wf.
    So, in the calculation of the DBs sizem DP has been replaced by SP with
    a factor 2 due the complex nature of the WFs.


  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4387 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc pol_function/X_os.F

  Bugs:
  - [yambo] Fixed bug in X_os for systems with fractional occupations when
            X%cg_percentual<100 % and in particular for NEQ occupations.
  Additions:
  -
  Changes:
  - Small change to the implementation of X_os to make it more logical

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4378 76a4dfbf-5f1f-0410-a543-a0282073b526

- Other compilation issues fixed. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4369 76a4dfbf-5f1f-0410-a543-a0282073b526

- Portability issues in compilation of internal iotk fixed. [Andrea
  Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4368 76a4dfbf-5f1f-0410-a543-a0282073b526

- Small portability/compatibility issues fixed. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4367 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . config config/acx_report.m4 config/configure.ac config/iotk.m4 config/netcdf_f90.m4 config/report.in configure include/version.inc lib lib/fftqe/.objects lib/fftqe/c_defs.h.in lib/fftqe/fft_errore.F lib/fftqe/fft_hpsort.F lib/fftqe/fft_setmap.F lib/fftqe/fft_stick.c lib/fftqe/fftqe_defs.h.in lib/fftqe/fftw.h lib/fftqe/fftw2.c lib/fftqe/konst.h lib/fftqe/mod_fft_aux.F lib/fftqe/mod_fft_base.F lib/fftqe/mod_fft_interfaces.F lib/fftqe/mod_fft_parallel.F lib/fftqe/mod_fft_scalar.F lib/fftqe/mod_fft_types.F lib/fftqe/mod_stick_base.F lib/fftqe/mod_stick_set.F bse collisions/COLLISIONS_eval.F collisions/PLASMA_build_up.F collisions/PLASMA_parallel_setup.F collisions/PLASMA_tables_and_dimensions.F common common/Laplace_transform.F common/OCCUPATIONS_Fermi.F common/crystal_lattice.F communicate/REPORT_Occupations.F communicate/section.F interface/init_load.F interface/init_q_points.F interpolate/bz_interp_coeff.F interpolate/bz_interp_setup.F io/io_QP_and_GF.F linear_algebra/MATRIX_driver.F linear_algebra/multi_worlds_scalapack/README.txt linear_algebra/multi_worlds_scalapack/constants.F linear_algebra/multi_worlds_scalapack/distools.F linear_algebra/multi_worlds_scalapack/error.F linear_algebra/multi_worlds_scalapack/kind.F linear_algebra/multi_worlds_scalapack/make.sys linear_algebra/multi_worlds_scalapack/make_file linear_algebra/multi_worlds_scalapack/mp_global.F linear_algebra/multi_worlds_scalapack/mytest.F linear_algebra/multi_worlds_scalapack/para.F linear_algebra/multi_worlds_scalapack/util.F modules/mod_com.F modules/mod_wrapper.F modules/mod_xc_functionals.F parallel parser/mod_itm.F pol_function/DIPOLE_transverse.F pol_function/X_bare_RIM_GreenF.F qp/QP_Green_Function.F qp/QP_ppa_cohsex.F qp/QP_secant.F qp/XCo_Hartree_Fock.F qp/XCo_driver.F qp_control/QP_apply_DB_interpolation.F real_time_control/RT_apply.F real_time_control/RT_carriers_object.F real_time_control/RT_databases_IO.F setup/QP_state_table_setup.F stop_and_restart/stop_now.F tddft/TDDFT_BSK_2_FXC.F wf_and_fft/WF_load.F wf_and_fft/fft_setup.F xc_functionals/XC_libxc_driver.F xc_functionals/el_magnetization.F ypp/electrons_angular_momentum.F ypp/electrons_position.F

  Bugs:
  -
  Additions:
  -
  Changes:
  ** merged with devel-davide **
  - configure report updated (still definitive version to be decided)
  - fixed some gfortran warnings
  - fixed io_carriers for NEQ BSE via yambo_rt
  - wrapper's interfaces used by more subroutines

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4364 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug fix (extra do removed) [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4340 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc io/io_DB1.F

  Bugs:
  - [p2y] small bug in case p2y was compiled without netcdf libs
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4339 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc common/OCCUPATIONS_Gaps.F

  Bugs:
  - [yambo] Fixed application of external stretching QP corrections in metals
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4338 76a4dfbf-5f1f-0410-a543-a0282073b526

- An error was to be issued because of a double call to clock_stop.
  fixed. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4336 76a4dfbf-5f1f-0410-a543-a0282073b526

- Makefile.in updated to avoid recursive make all. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4335 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fix for compliation using double precision. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4330 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4328 76a4dfbf-5f1f-0410-a543-a0282073b526

- Trunk-devel, devel-andrea and gpl-devel syncronized. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4325 76a4dfbf-5f1f-0410-a543-a0282073b526

- Cleanup. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4324 76a4dfbf-5f1f-0410-a543-a0282073b526

- Devel-andrea and trunk-devel syncronized. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4322 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/Makefile.in config/Makefile.in_gpl config/configure.ac configure include/version.inc

  Bugs:
  -
  Additions:
  -
  Changes:
  - Makefile.in and Makefile.in_gpl fixed

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4321 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea (--dp related fixes) [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4320 76a4dfbf-5f1f-0410-a543-a0282073b526

- Timing (serial, parallel MPI+OpenMp) fixed. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4318 76a4dfbf-5f1f-0410-a543-a0282073b526

- Alloc/dealloc of scatterBamp workspace fixed and cleanup. [Andrea
  Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4316 76a4dfbf-5f1f-0410-a543-a0282073b526

- Cleanup. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4315 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fmt. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4314 76a4dfbf-5f1f-0410-a543-a0282073b526

- Allocation of scatterBamp workspace made once and forall (out of the
  main loops) [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4313 76a4dfbf-5f1f-0410-a543-a0282073b526

- Typo in comment. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4312 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fmt. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4311 76a4dfbf-5f1f-0410-a543-a0282073b526

- Typos in comments. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4310 76a4dfbf-5f1f-0410-a543-a0282073b526

- External allocations required by scatterBamp were missing. [Andrea
  Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4309 76a4dfbf-5f1f-0410-a543-a0282073b526

- Configure reganerated (HDF5_str was not correct in the report). The
  misbehaviour seems to be related to autoconf. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4307 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4304 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  devel/config/configure.ac devel/configure devel/include/version.inc devel/setup/build_spin_sop.F stable/config/configure.ac stable/configure stable/include/version.inc stable/setup/build_spin_sop.F

  Bugs:
  - [yambo] fixed bug in spin-sop appearing when --enable-dp was used
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4301 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/Makefile.in config/configure.ac configure include/version.inc e2y/e2y_db1.F modules/mod_pars.F modules/mod_vec_operate.F

  Bugs:
  - [yambo --enable-dp] fixing compilation issues with dp option
  - [config/Makefile.in] fixed again missing "@" which was removed
  Additions:
  -
  Changes:
  -
  Notes:
  - code with --enable-dp option was not compiling. I guess it has not been tested neither ...


  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4300 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fixed report about using hdf5 support in yambo. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4299 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K_Transitions_setup.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Ordering of eh transitions in the BSE matrix changed again. Now it is based on f_eh>0.
    This affects only the case of population inversion (i.e. BSE out of equilibrium).
    The result of the BSE solution is independet on the ordering of cv transition,
    however if f_eh<0 then sqrt(f_eh) becomes imaginary. Although this is in principle
    ok since BS_T_grp%R is imaginary, to avoid problems the best solution is to
    select the transisions with f_eh>0.

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4298 76a4dfbf-5f1f-0410-a543-a0282073b526

- Updated gpl generation flags. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4296 76a4dfbf-5f1f-0410-a543-a0282073b526

- Openmp parallelism of X_os significantly changed (according to devel-
  andreaF) in order to deal with large systems (omp parallel is now
  mostly on G vector loops) [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4292 76a4dfbf-5f1f-0410-a543-a0282073b526

- Explicit make command ([utils]) to download the extlibraries (make
  get_extlibs) in cases when the wget command would fail otherwise (eg
  on a compute node) [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4288 76a4dfbf-5f1f-0410-a543-a0282073b526

- Small fix to be able to configure when a non-zero netcdf_idir is
  present. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4287 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug fixed in the configuration of netcdf+hdf5 when linking with ext
  libs. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4285 76a4dfbf-5f1f-0410-a543-a0282073b526

- Andrea-devel and trunk-devel syncronized. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4280 76a4dfbf-5f1f-0410-a543-a0282073b526

- Mergeinfo fix. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4278 76a4dfbf-5f1f-0410-a543-a0282073b526

- Configuration of FFTW+openmp fixed according to Davide's report.
  [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4274 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K_Transitions_setup.F bse/K_blocks.F interface/init.F interface/init_barriers.F interface/init_load.F io/io_BSS_invert.F io/io_COLLISIONS.F io/io_SC_components.F pol_function/DIPOLE_check_shifted_grids.F pol_function/DIPOLE_dip_dot_field.F pol_function/DIPOLE_driver.F pol_function/DIPOLE_kb_abinit_comp.F pol_function/DIPOLE_kb_pwscf_comp.F pol_function/DIPOLE_shifted_grids.F pol_function/X_em1.F pol_function/X_s.F qp/QP_W2Sc.F qp/QP_descriptions.F qp/QP_newton.F qp/QP_ppa_cohsex.F qp/QP_real_axis.F qp/XCo_Hartree_Fock.F qp/XCo_driver.F qp/XCo_local.F real_time_control/RT_average_operator.F tddft/TDDFT_ALDA_R_space.F wf_and_fft/WF_load.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - cleaning code from unused variables

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4271 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged (struggling) with devel-andrea. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4263 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fixing (maybe) other svn merge conflicts. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4261 76a4dfbf-5f1f-0410-a543-a0282073b526

- Code cleaning. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4259 76a4dfbf-5f1f-0410-a543-a0282073b526

- Cleaning unused variables. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4255 76a4dfbf-5f1f-0410-a543-a0282073b526

- Small change in Makefile.in. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4254 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fixed gpl object file in xc_functionals. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4252 76a4dfbf-5f1f-0410-a543-a0282073b526

- DOS normalization factor fixed. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4248 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.1. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc ypp/excitons_driver.F

  Bugs:
  - [ypp] plot of excitonic wave-function was always in the "free-hole" configuration
          Bug introduced long time ago ... (same fix as in trunk/devel)
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4247 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc ypp/excitons_driver.F

  Bugs:
  - [ypp] plot of excitonic wave-function was always in the "free-hole" configuration
          Bug introduced long time ago ...
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4246 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea (via svn) [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4243 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea (by-hand method) [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4241 76a4dfbf-5f1f-0410-a543-a0282073b526

- Libxc configuration synchronized with other external libs. [Andrea
  Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4232 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  devel/config/configure.ac devel/configure devel/include/version.inc devel/qp_control/QP_apply.F stable/config/configure.ac stable/configure stable/include/version.inc stable/qp/XCo_driver.F stable/qp_ctl/mod_QP_CTL.F

  Bugs:
  - [ypp & yambo] Fixed bug pointed out by a user in the forum.
                  When QP corrections are imported in a run using the E_RIM (i.e. the double grid)
                  if QP_apply is called in the 'X' mode: (i) the QP_corrections were not extended to the E_RIM energies
                  and (ii) Fermi_en%E_RIM was not allocated. As a consequence call OCCUPATIONS_Fermi(Fermi_en,k,1) was crashing

                  Now the QP_corrections are extended also to the RIM energies in any mode. However I think there should be a check
                  if the RIM energies have been already corrected, as it exist in the case of the standard energies ...

                  Fix released both in the stable and in the devel

  Additions:
  -
  Changes:
  -


  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4229 76a4dfbf-5f1f-0410-a543-a0282073b526

- With-p2y fixed and with-p2y-version (courtesy of conor) [Andrea
  Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4228 76a4dfbf-5f1f-0410-a543-a0282073b526

- Small fix: on Fermi BGQ the tests for hdf5 were not able to find the
  path to link netcdf libs. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4227 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fighting with mergeinfo :( [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4221 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fighting with mergeinfo :( [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4220 76a4dfbf-5f1f-0410-a543-a0282073b526

- Small revert (last changes here broke compilation on BG) [Andrea
  Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4213 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fortran cpp to be used in libxc added as a separate env variable read
  by configure (allows best portability and max flexibility on difficult
  arch) [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4212 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug fixed in the netcdf-4.1.3 release, according to:
  http://www.unidata.ucar.edu/software/netcdf/docs/known_problems.html
  #clang-ncgen3 compilation on OSX Mavericks fixed. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4211 76a4dfbf-5f1f-0410-a543-a0282073b526

- Configuration and compilation on OSX: few issues found and fixed.
  [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4207 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc qp/XCo_driver.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Output of HF eigenvalues. Implmentation imported from trunk stable

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4206 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc collisions/COLLISIONS_alloc_and_free.F collisions/COLLISIONS_linearize_and_IO.F

  Bugs:
  - [yambo_rt] small bug fix in memory estimation when collisions are allocated
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4204 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc collisions/COLLISIONS_Fock.F collisions/COLLISIONS_NEQ_GW_static.F collisions/COLLISIONS_alloc_and_free.F collisions/COLLISIONS_compose.F collisions/COLLISIONS_linearize_and_IO.F collisions/COLLISIONS_load.F collisions/COLLISIONS_sex.F io/io_COLLISIONS.F modules/mod_collision.F pol_function/DIPOLE_kb_Ylm.F real_time/RT_Coulomb_relaxation.F

  Bugs:
  - src/collisions/COLLISIONS_alloc_and_free.F: l_HF replaced with l_Fock
  -
  Additions:
  -
  Changes:
  - renamed v*_GW --> v*_r  and   v*_SEX --> v*_c
  - implemented DIPOLE_kb_Ylm.F also for l=3 (i.e. lang=4). If l>3 now yambo returns a warning


  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4199 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . config config/acx_cpp.m4 config/configure.ac configure driver/yambo_driver.F include/version.inc lib lib/fftqe/.objects lib/fftqe/c_defs.h.in lib/fftqe/fft_errore.F lib/fftqe/fft_hpsort.F lib/fftqe/fft_setmap.F lib/fftqe/fft_stick.c lib/fftqe/fftqe_defs.h.in lib/fftqe/fftw.h lib/fftqe/fftw2.c lib/fftqe/konst.h lib/fftqe/mod_fft_aux.F lib/fftqe/mod_fft_base.F lib/fftqe/mod_fft_interfaces.F lib/fftqe/mod_fft_parallel.F lib/fftqe/mod_fft_scalar.F lib/fftqe/mod_fft_types.F lib/fftqe/mod_stick_base.F lib/fftqe/mod_stick_set.F bse bz_ops/k_the_nearest.F collisions/.objects + collisions/COLLISIONS_Hartree_Fock.F + collisions/COLLISIONS_QED_gw.F collisions/COLLISIONS_alloc_and_free.F collisions/COLLISIONS_cohsex.F collisions/COLLISIONS_compose.F collisions/COLLISIONS_eval.F collisions/COLLISIONS_linearize_and_IO.F collisions/COLLISIONS_load.F + collisions/PLASMA_build_up.F collisions/PLASMA_parallel_setup.F collisions/PLASMA_tables_and_dimensions.F common io/io_COLLISIONS.F linear_algebra/multi_worlds_scalapack/README.txt linear_algebra/multi_worlds_scalapack/constants.F linear_algebra/multi_worlds_scalapack/distools.F linear_algebra/multi_worlds_scalapack/error.F linear_algebra/multi_worlds_scalapack/kind.F linear_algebra/multi_worlds_scalapack/make.sys linear_algebra/multi_worlds_scalapack/make_file linear_algebra/multi_worlds_scalapack/mp_global.F linear_algebra/multi_worlds_scalapack/mytest.F linear_algebra/multi_worlds_scalapack/para.F linear_algebra/multi_worlds_scalapack/util.F modules modules/mod_collision.F modules/mod_real_time.F modules/mod_vec_operate.F parallel pol_function/DIPOLE_dip_dot_field.F pol_function/DIPOLE_kb_Ylm.F + real_time/RT_BGR.F real_time/RT_Collision.F real_time/RT_Coulomb_relaxation.F real_time/RT_driver.F + sc/SC_driver.F xc_functionals ypp/RT_initialize.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - merged with devel-davide. Main change in collisions structure. Still to be tested

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4192 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fixing merging history with devel-andrea. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4182 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fixing merging history with devel-andrea. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4181 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4180 76a4dfbf-5f1f-0410-a543-a0282073b526

- Started the coding of the QED collisions. To be used for Lamb shift
  and real-time radiative recombination. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4179 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4175 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fixed more bugs spotted with gfortran restrictive flags. [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4171 76a4dfbf-5f1f-0410-a543-a0282073b526

- Collisions restart added. Fixed several bugs spotted with gfortran
  restrictive flags. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4167 76a4dfbf-5f1f-0410-a543-a0282073b526

- Libxc problem fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4165 76a4dfbf-5f1f-0410-a543-a0282073b526

- Libxc dir removed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4164 76a4dfbf-5f1f-0410-a543-a0282073b526

- Some of the bugs spotted with Gfortran debug flags (thx davide) fixed.
  More to be found. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4163 76a4dfbf-5f1f-0410-a543-a0282073b526

- Updated devel-andrea and GPL. Fixed several mistakes in the test-
  suite. Rewritten the wrapper to the tests. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4159 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4158 76a4dfbf-5f1f-0410-a543-a0282073b526

- Some clean-up for GPL correspondance. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4157 76a4dfbf-5f1f-0410-a543-a0282073b526

- Downgrade to version 4.0.0 (thanks Davide). Fixed some false PASSED
  tests. Removed e-p barriers. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4152 76a4dfbf-5f1f-0410-a543-a0282073b526

- Files relevant for the GPL creation updated. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4150 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merging history fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4148 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. Moving to ver. 5.0.0. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4147 76a4dfbf-5f1f-0410-a543-a0282073b526

- Resetting merge history of syncronization between devel-andrea and
  trunk-devel to revision 4144. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4145 76a4dfbf-5f1f-0410-a543-a0282073b526

- Small changes. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4170 76a4dfbf-5f1f-0410-a543-a0282073b526

- Openmp messages updated (info about n_threads added) [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4169 76a4dfbf-5f1f-0410-a543-a0282073b526

- Typo. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4168 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Myrta Gruning]

  *  config/libxc.m4 configure

  Bugs: libxc external library with version number < 2.0.3 are now not compatible (before was < 2.0.0)
  -
  Additions:
  -
  Changes:
  -


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4166 76a4dfbf-5f1f-0410-a543-a0282073b526

- Cleanup of un-used timing modules. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4162 76a4dfbf-5f1f-0410-a543-a0282073b526

- Timing removed. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4154 76a4dfbf-5f1f-0410-a543-a0282073b526

- Libxc packed into a downlodable tgz file. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4153 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc io/io_RT_components.F modules/mod_RT_CTL.F modules/mod_interfaces.F qp/QP_real_axis.F real_time/RT_driver.F real_time/RT_initialize.F real_time_control/RT_databases_IO.F

  Bugs:
  - [yambo] Fixed long line for gfortran
  Additions:
  -
  Changes:
  - [yambo_rt] interface RT_carriers_object moved from mod_interfaces to mod_RT_CTL

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4146 76a4dfbf-5f1f-0410-a543-a0282073b526

- Resetting merge history of syncronization between devel-andrea and
  trunk-devel to revision 4144. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4145 76a4dfbf-5f1f-0410-a543-a0282073b526

- Copyright year update. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4144 76a4dfbf-5f1f-0410-a543-a0282073b526

- GIANT merge of devel-andrea in trunk-devel. Tests updated and passed
  by both. GPL prepared for update. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4143 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fixed gpl-generating script and a bug in io_COL_CUT.F. Added README
  and updated AUTHORS and ChangeLog. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4141 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4139 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fixed _SC compilation and BUG in ypp call to io_BSS_diago. [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4138 76a4dfbf-5f1f-0410-a543-a0282073b526

- GPL generating script adapted from my old personal script. [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4137 76a4dfbf-5f1f-0410-a543-a0282073b526

- All2All bug in RT fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4136 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug fixed (maybe) [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4135 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug searching in progress. Little success at the moment. [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4133 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Andrea Marini]

  *  config/configure.ac config/netcdf_f90.m4 configure include/version.inc bse/K_Transitions_setup.F bse/K_blocks.F real_time_control/RT_average_operator.F real_time_control/RT_observables.F

  Bugs:
  - [BSE] In the parallel distribution of the anti-resonant blocks
  - [RT] In the calculation of QP-like observabiles with qp parallel distribution
  - [configure] spotted by Davide

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4127 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fixed a bug in compilation and merged with trunk. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4120 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug fix in RIM support for RT calculations. Wrong Fermi level setup
  and allocation of RIM components. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4118 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4113 76a4dfbf-5f1f-0410-a543-a0282073b526

- Subtle bug in parallel calculation of screened interaction with free
  Energy range (needed for real-axis GW) fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4110 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4109 76a4dfbf-5f1f-0410-a543-a0282073b526

- Real-Axis GW (newton and secant) fixed. Both Serial and Parallel
  works. Still I/O of W to implement. But tests are now ok. [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4104 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fixed two bugs. One in Sigma_QED and the other in X_em1 to allow on-
  the-fly GW calculations without em1 I/O. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4101 76a4dfbf-5f1f-0410-a543-a0282073b526

- Minor change. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4090 76a4dfbf-5f1f-0410-a543-a0282073b526

- Minor changes. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4082 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel and fixed a bug in RT_databases_IO. [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4081 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4076 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Andrea Marini]

  *  config/configure.ac configure include/version.inc io/IO_and_Messaging_switch.F io/io_X.F parallel/PARALLEL_global_indexes.F pol_function/X_em1.F qp/QP_real_axis.F

  Bugs:

  - [Lifetimes] Fixed bug in parallel administration of frequencies

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4075 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4067 76a4dfbf-5f1f-0410-a543-a0282073b526

- QED flags fixed and q=0 point removed. Also a bug in zero denominator
  correction has been fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4066 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-trunk. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4063 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4037 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@4013 76a4dfbf-5f1f-0410-a543-a0282073b526

- RT occupations analyze & FIT re-implemented using RT_carriers. DOS,
  transient absorption and bands still to do. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3981 76a4dfbf-5f1f-0410-a543-a0282073b526

- Started ypp post-processing using only the RT_carriers. [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3978 76a4dfbf-5f1f-0410-a543-a0282073b526

- All carriers components moved in RT_carriers for I/O. Restart working.
  [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3977 76a4dfbf-5f1f-0410-a543-a0282073b526

- Occupations analyze fixed. To be checked. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3975 76a4dfbf-5f1f-0410-a543-a0282073b526

- Maintenance of ypp_rt I/O. Still to finalize. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3974 76a4dfbf-5f1f-0410-a543-a0282073b526

- All carriers I/O moved in ypp. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3973 76a4dfbf-5f1f-0410-a543-a0282073b526

- RT_transient_absorption fixed to work with modified carriers I/O.
  [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3972 76a4dfbf-5f1f-0410-a543-a0282073b526

- Moved omp routines in local libs. Added BGR components to I/O. [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3970 76a4dfbf-5f1f-0410-a543-a0282073b526

- Minor renaming and multiple ouput fixed in parallel SE and BSE.
  [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3968 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Andrea Marini]

  *  . config/configure.ac configure include/version.inc bse collisions/.objects collisions/COLLISIONS_Hartree_Fock.F collisions/COLLISIONS_alloc_and_free.F collisions/COLLISIONS_cohsex.F collisions/COLLISIONS_compose.F collisions/COLLISIONS_eval.F collisions/COLLISIONS_linearize_and_IO.F collisions/COLLISIONS_load.F collisions/PLASMA_build_up.F collisions/PLASMA_parallel_setup.F collisions/PLASMA_tables_and_dimensions.F common interface/init.F linear_algebra/multi_worlds_scalapack/README.txt linear_algebra/multi_worlds_scalapack/constants.F linear_algebra/multi_worlds_scalapack/distools.F linear_algebra/multi_worlds_scalapack/error.F linear_algebra/multi_worlds_scalapack/kind.F linear_algebra/multi_worlds_scalapack/make.sys linear_algebra/multi_worlds_scalapack/make_file linear_algebra/multi_worlds_scalapack/mp_global.F linear_algebra/multi_worlds_scalapack/mytest.F linear_algebra/multi_worlds_scalapack/para.F linear_algebra/multi_worlds_scalapack/util.F modules parallel qp/QP_ppa_cohsex.F real_time/RT_BGR.F real_time/RT_Collision.F real_time/RT_driver.F real_time_control/RT_apply.F ypp/ypp_i.F

  Bugs:
  - Wrong NE_i_time definition in RT_apply was causing wrong database I/O

  Additions:
  - Merged with trunk-devel

  Changes:
  - RT_BGR moved from RT_Collision to RT_driver to be consistent with occupations written in RT_carriers

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3967 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged withg trunk-devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3961 76a4dfbf-5f1f-0410-a543-a0282073b526

- I/O of carriers components via RT_apply done. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3960 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel and ctl dirs renamed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3954 76a4dfbf-5f1f-0410-a543-a0282073b526

- Transition of I/O from occupations to carriers completed. Added BGR
  components. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3950 76a4dfbf-5f1f-0410-a543-a0282073b526

- Global renaming of RT components. Preparing I/O. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3949 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3947 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3929 76a4dfbf-5f1f-0410-a543-a0282073b526

- Added report of real/imaginary part of Z to o and r files. [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3927 76a4dfbf-5f1f-0410-a543-a0282073b526

- Work-around to make it compile. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3896 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-trunk. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3895 76a4dfbf-5f1f-0410-a543-a0282073b526

- Copyright year update. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4144 76a4dfbf-5f1f-0410-a543-a0282073b526

- GIANT merge of devel-andrea in trunk-devel. Tests updated and passed
  by both. GPL prepared for update. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4143 76a4dfbf-5f1f-0410-a543-a0282073b526

- Directory renamed. Preparing merge. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4142 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Myrta Gruning]

  *  lib/libxc/Makefile.in lib/libxc/aclocal.m4 lib/libxc/build/Makefile.in lib/libxc/config.h.in lib/libxc/configure lib/libxc/ltmain.sh lib/libxc/m4/ltversion.m4 lib/libxc/Makefile.am lib/libxc/Makefile.in lib/libxc/testsuite/Makefile.in

  Bugs: Makefile.am in src (I did not changed it when hacking the libxc)
  -
  Additions:
  -
  Changes:
  -


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4132 76a4dfbf-5f1f-0410-a543-a0282073b526

- Buf fixed in the description of the cutoff in other databases, giving
  fake WARNINGS. [Daniele Varsano]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4131 76a4dfbf-5f1f-0410-a543-a0282073b526

- Small bug fix. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4124 76a4dfbf-5f1f-0410-a543-a0282073b526

- Small fix in the netcdf/hdf5 configuration. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4119 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc a2y/a2y_db1.F int_modules/mod_com2y.F common/G_rot_grid.F

  Bugs:
  - [a2y] small bug fix
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4112 76a4dfbf-5f1f-0410-a543-a0282073b526

- Small bug_fix in configure. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4108 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug fixed in the configuration of netcdf. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4106 76a4dfbf-5f1f-0410-a543-a0282073b526

- Further improvement on the configuration scheme. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4105 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug fixed in real-axis GW. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4102 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc modules/mod_BS.F pol_function/DIPOLE_transverse.F

  Bugs:
  - Three small fix, two for the GPL and one for the trunk
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4099 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc sbin/generate_gpl.sh

  Bugs:
  -
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4098 76a4dfbf-5f1f-0410-a543-a0282073b526

- Update of library configuration done. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4080 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc p2y/qexml_v4.0.F

  Bugs:
  - [p2y] Fixed limit of max 9 projectors due to
          intc vector internal to qexml, defined of dimension 9.
          Now qexml uses the yambo intc function.
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4079 76a4dfbf-5f1f-0410-a543-a0282073b526

- More on the configuration of libraries. netcdf+hdf5 still not properly
  working. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4078 76a4dfbf-5f1f-0410-a543-a0282073b526

- Netcdf conf updated. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4072 76a4dfbf-5f1f-0410-a543-a0282073b526

- Configuration of FFT improved (ESSL FFT are not automatically
  recognized) [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4071 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc

  Bugs:
  -
  Additions:
  -
  Changes:
  - with-p2y-version flag fixed

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4070 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc modules/mod_KERR.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [yambo] --with-netcdf-link option restored

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4068 76a4dfbf-5f1f-0410-a543-a0282073b526

- Configuration of FFT libs (as well as other external libs) updated;
  [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4064 76a4dfbf-5f1f-0410-a543-a0282073b526

- Preparing GPL. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4057 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc sbin/generate_gpl.sh bse/K_Haydock.F bse/K_diagonalization.F bse/K_stored_in_a_BIG_matrix.F io/io_BSS_Haydock.F modules/mod_BS.F modules/mod_KERR.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [yambo_kerr] working on yambo_kerr beyond IP in the trunk devel

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4055 76a4dfbf-5f1f-0410-a543-a0282073b526

- Working on gpl: code compiles. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4053 76a4dfbf-5f1f-0410-a543-a0282073b526

- Working on gpl. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4052 76a4dfbf-5f1f-0410-a543-a0282073b526

- Working on GPL. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4051 76a4dfbf-5f1f-0410-a543-a0282073b526

- Working on GPL. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4049 76a4dfbf-5f1f-0410-a543-a0282073b526

- Working on GPL. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4047 76a4dfbf-5f1f-0410-a543-a0282073b526

- Working on GPL devel. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4046 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K_Haydock.F bse/K_diagonalization.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [yambo] GPL exclude flags add for the Kerr project in BSE

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4035 76a4dfbf-5f1f-0410-a543-a0282073b526

- Redefinition of configure flags for iotk, etsf_io, netcdf implmented.
  [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4033 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc real_time/RT_start_and_restart.F xc_functionals/XC_potential_driver.F

  Bugs:
  - [yambo] non initialized variable in XC_potential_driver was making yambo_rt crash
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4031 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc modules/mod_wrapper_omp.F

  Bugs:
  - [yambo] fixed missing _omp in mod_wrapper_omp
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4027 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . bin config config/configure.ac configure include/version.inc a2y c2y e2y int_modules p2y lib lib/blas lib/fftqe/.objects lib/fftqe/c_defs.h.in lib/fftqe/fft_errore.F lib/fftqe/fft_hpsort.F lib/fftqe/fft_setmap.F lib/fftqe/fft_stick.c lib/fftqe/fftqe_defs.h.in lib/fftqe/fftw.h lib/fftqe/fftw2.c lib/fftqe/konst.h lib/fftqe/mod_fft_aux.F lib/fftqe/mod_fft_base.F lib/fftqe/mod_fft_interfaces.F lib/fftqe/mod_fft_parallel.F lib/fftqe/mod_fft_scalar.F lib/fftqe/mod_fft_types.F lib/fftqe/mod_stick_base.F lib/fftqe/mod_stick_set.F lib/lapack bse bse/K.F bse/K_Haydock.F bse/K_IP.F bse/K_diagonalization.F collisions/.objects collisions/COLLISIONS_Hartree_Fock.F collisions/COLLISIONS_alloc_and_free.F collisions/COLLISIONS_cohsex.F collisions/COLLISIONS_compose.F collisions/COLLISIONS_eval.F collisions/COLLISIONS_linearize_and_IO.F collisions/COLLISIONS_load.F collisions/PLASMA_build_up.F collisions/PLASMA_parallel_setup.F collisions/PLASMA_tables_and_dimensions.F common io/io_BSS_Haydock.F io/io_BSS_diago.F linear_algebra/MATRIX_resolvant_via_perturbative_inversion.F linear_algebra/multi_worlds_scalapack/README.txt linear_algebra/multi_worlds_scalapack/constants.F linear_algebra/multi_worlds_scalapack/distools.F linear_algebra/multi_worlds_scalapack/error.F linear_algebra/multi_worlds_scalapack/kind.F linear_algebra/multi_worlds_scalapack/make.sys linear_algebra/multi_worlds_scalapack/make_file linear_algebra/multi_worlds_scalapack/mp_global.F linear_algebra/multi_worlds_scalapack/mytest.F linear_algebra/multi_worlds_scalapack/para.F linear_algebra/multi_worlds_scalapack/util.F modules modules/.objects modules/mod_BS.F modules/mod_wrapper.F + parallel pol_function/DIPOLE_driver.F pol_function/DIPOLE_kb_sum.F pol_function/DIPOLE_shifted_grids.F pol_function/X_simple_GreenF.F qp/QP_real_axis.F qp/XCo_Hartree_Fock.F qp/XCo_local.F real_time/RT_Collision.F real_time/RT_EULEREXP_step.F real_time/RT_EULER_step.F real_time/RT_build_I1_and_I2.F real_time/RT_build_U1_and_U2.F rt_ctl/.objects rt_ctl/OCCUPATIONS_out_of_equilibrium.F rt_ctl/RT_OCC_LIFE_and_REF_IO.F rt_ctl/RT_alloc_def_or_free.F rt_ctl/RT_average_operator.F rt_ctl/RT_databases_IO.F rt_ctl/RT_mean_carrier_lifetimes.F rt_ctl/RT_observables.F rt_ctl/RT_occupations_FIT.F rt_ctl/RT_output.F rt_ctl/RT_variables_load.F tddft/TDDFT_ALDA_R_space.F wf_and_fft/WF_rotate.F

  Merged with devel-davide:
  - [yambo_kerr]: recovering implementation beyond IP
  - created mod_wrapper_omp.F and calls to XXXX_omp interfaces changed to have a cleaner code


  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4023 76a4dfbf-5f1f-0410-a543-a0282073b526

- Svn:ignore reset in some dirs. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4019 76a4dfbf-5f1f-0410-a543-a0282073b526

- Compilation of interfaces with external iotk and etsf_io fixed.
  [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4018 76a4dfbf-5f1f-0410-a543-a0282073b526

- Automatic download/configuration of external library merged in from
  devel-andreaF. Libs addressed are: iotk, netcdf, etsf_io. [Andrea
  Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@4010 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Myrta Gruning]

  *  io/io_DB1.F

  Bugs: Changed number of revision from which the screened exchanged variable is considered for back compatibility
  -
  Additions:
  -
  Changes:
  -


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3998 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc bse bse/K_output_file.F interface/init.F interface/init_load.F modules modules/mod_X_output.F ypp/QP_DBs_merge.F

  Bugs:
  -
  Additions:
  -
  Changes:
  Merged with devel-davide
  1) [ypp_rt]   small bug fix in creation of NEQ ndb.QP
  2) [yambo_rt] bse run can create also o-JOBNAME.refl* file with Reflectance

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3997 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc bse collisions/.objects collisions/COLLISIONS_Hartree_Fock.F collisions/COLLISIONS_alloc_and_free.F collisions/COLLISIONS_cohsex.F collisions/COLLISIONS_compose.F collisions/COLLISIONS_eval.F collisions/COLLISIONS_linearize_and_IO.F collisions/COLLISIONS_load.F collisions/PLASMA_build_up.F collisions/PLASMA_parallel_setup.F collisions/PLASMA_tables_and_dimensions.F common linear_algebra/multi_worlds_scalapack/README.txt linear_algebra/multi_worlds_scalapack/constants.F linear_algebra/multi_worlds_scalapack/distools.F linear_algebra/multi_worlds_scalapack/error.F linear_algebra/multi_worlds_scalapack/kind.F linear_algebra/multi_worlds_scalapack/make.sys linear_algebra/multi_worlds_scalapack/make_file linear_algebra/multi_worlds_scalapack/mp_global.F linear_algebra/multi_worlds_scalapack/mytest.F linear_algebra/multi_worlds_scalapack/para.F linear_algebra/multi_worlds_scalapack/util.F modules modules/mod_electrons.F parallel qp_ctl/QP_apply.F rt_ctl/.objects rt_ctl/OCCUPATIONS_out_of_equilibrium.F rt_ctl/RT_OCC_LIFE_and_REF_IO.F rt_ctl/RT_alloc_def_or_free.F rt_ctl/RT_average_operator.F rt_ctl/RT_databases_IO.F rt_ctl/RT_mean_carrier_lifetimes.F rt_ctl/RT_observables.F rt_ctl/RT_occupations_FIT.F rt_ctl/RT_output.F rt_ctl/RT_variables_load.F xc_functionals/el_density.F ypp/QP_DBs_merge.F ypp/k_RIM_grid_consistency_check.F ypp/k_map_fine_to_coarse.F ypp/mod_YPP.F ypp/ypp_init.F ypp/ypp_init_load.F

  Bugs:
  -
  Additions:
  -
  Changes:
  Merged with devel-davide:
  - Few bug-fies/improvments
  - ypp -q nw merges the ndq.QP databases to compute transient absorption


  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3994 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  devel/ypp/QP_DBs_initialize.F stable/p2y/qexml_v4.0.F stable/ypp/QP_DBs_initialize.F

  Bugs:
  - [stable, p2y] fix imported by devel
  Additions:
  -
  Changes:
  - [devel & stable, ypp] output of ypp -q improved

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3992 76a4dfbf-5f1f-0410-a543-a0282073b526

- Added basic documentation and config file for doxygen. [Conor Hogan]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3988 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Myrta Gruning]

  *  . p2y/qexml_v4.0.F p2y/p2y_db1.F p2y/mod_p2y.F p2y/mod_pw_data.F int_modules/mod_xc2y.F include/version.inc + wf_and_fft/.objects io/io_DB1.F modules modules/SET_defaults.F modules/mod_global_XC.F modules/mod_QP.F modules/mod_xc_functionals.F bse xc_functionals/XC_libxc_driver.F xc_functionals/XC_potential_driver.F qp/XCo_local.F qp/XCo_driver.F qp/XCo_Hartree_Fock.F common parallel config/configure.ac

  Bugs:
  -
  Additions: Merged with devel-myrta (3985,3599,3191,3096,3095,3090) to add screened hybrid support to QP
  -
  Changes:
  -


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3986 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Myrta Gruning]

  *  . modules modules/mod_BS.F bse bse/K_IP.F bse/K_Haydock.F bse/K_dot_product.F bse/K_stored_in_a_BIG_matrix.F bse/K_multiply_by_V.F

  Merged with devel-myrta r3858:3861

  Bugs: Missing simmetrization of diagonal coupling blocks in K_stored_in_a_BIG_matrix.F. It affected the spectrum calculated with coupling usi
  ng exact diago.
  -
  Additions: coupling re-activated with Haydock
  -
  Changes:
  -


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3984 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Myrta Gruning]

  *  config/acx_fortran_flags.m4 config/acx_get_fc_version.m4 configure

  Bugs: configure did not work for ifort 15
  -
  Additions:
  -
  Changes:
  -


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3980 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Myrta Gruning]

  *  config/libxc.m4 configure

  Bugs:
  -
  Additions:
  -
  Changes: During the configure, if an external libxc is specified and found, compatibility (version control) is verified.
           Libxc < 2.0.0 are considered not compatible and the configure falls back to internal lib
  -


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3979 76a4dfbf-5f1f-0410-a543-a0282073b526

- Multiple output creation in parallel COHSEX and BSE fixed. [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3969 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc bse collisions/.objects collisions/COLLISIONS_Hartree_Fock.F collisions/COLLISIONS_alloc_and_free.F collisions/COLLISIONS_cohsex.F collisions/COLLISIONS_compose.F collisions/COLLISIONS_eval.F collisions/COLLISIONS_linearize_and_IO.F collisions/COLLISIONS_load.F collisions/PLASMA_build_up.F collisions/PLASMA_parallel_setup.F collisions/PLASMA_tables_and_dimensions.F common interface/init.F linear_algebra/multi_worlds_scalapack/README.txt linear_algebra/multi_worlds_scalapack/constants.F linear_algebra/multi_worlds_scalapack/distools.F linear_algebra/multi_worlds_scalapack/error.F linear_algebra/multi_worlds_scalapack/kind.F linear_algebra/multi_worlds_scalapack/make.sys linear_algebra/multi_worlds_scalapack/make_file linear_algebra/multi_worlds_scalapack/mp_global.F linear_algebra/multi_worlds_scalapack/mytest.F linear_algebra/multi_worlds_scalapack/para.F linear_algebra/multi_worlds_scalapack/util.F modules parallel rt_ctl/.objects rt_ctl/RT_OCC_LIFE_and_REF_IO.F rt_ctl/RT_alloc_def_or_free.F rt_ctl/RT_average_operator.F rt_ctl/RT_databases_IO.F rt_ctl/RT_mean_carrier_lifetimes.F rt_ctl/RT_observables.F rt_ctl/RT_occupations_FIT.F rt_ctl/RT_output.F rt_ctl/RT_variables_load.F

  Bugs:
  - [yambo_rt] Fixed parallelization for simple COHSEX run
  Additions:
  -
  Changes:
  - merged with devel-davide

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3965 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merge with devel-davide recorded. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3956 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc qp_ctl/QP_apply.F qp_ctl/mod_QP_CTL.F

  Bugs:
  - [yambo] Fixed bug introduced in QP_apply moving the subroutine outside of the module
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3955 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc common/TEMPERATURE_Debye.F interface/init.F interface/init_QP_ctl_load.F interface/init_QP_ctl_switch.F interface/init_load.F modules/SET_defaults.F modules/mod_QP.F modules/mod_real_time.F real_time/RT_ELPH_initialize.F real_time/RT_driver.F rt_ctl/RT_OCC_LIFE_and_REF_IO.F rt_ctl/RT_occ_check_and_load_ref.F rt_ctl/RT_output.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [yambo_rt] code cleaning: removed old code lines which are not used anymore

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3951 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc interface/init.F qp_ctl/QP_apply.F ypp/electrons_driver.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [ypp_rt] when running ypp_rt using RT occupations the occupations should not be computed again
             This part of the code is still to be improved.

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3948 76a4dfbf-5f1f-0410-a543-a0282073b526

- Svn:ignore updated. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3945 76a4dfbf-5f1f-0410-a543-a0282073b526

- Svn:ignore updated. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3944 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . config/configure.ac configure driver/yambo_driver.F include/version.inc bse bse/K_driver.F interface/init.F interface/init_barriers.F interface/init_load.F modules modules/SET_defaults.F modules/mod_drivers.F modules/mod_real_time.F parallel parallel/PARALLEL_global_indexes.F pol_function/DIPOLE_dip_dot_field.F pol_function/DIPOLE_driver.F pol_function/DIPOLE_transverse.F qp/QP_ppa_cohsex.F qp/XCo_Hartree_Fock.F qp/XCo_driver.F qp_ctl/.objects qp_ctl/Nearest_kpt_interpolation.F + qp_ctl/mod_QP_CTL.F rt_ctl/OCCUPATIONS_out_of_equilibrium.F rt_ctl/RT_alloc_def_or_free.F rt_ctl/RT_occ_check_and_load_ref.F rt_ctl/RT_variables_load.F setup/.objects + setup/QP_external_corrections.F setup/setup.F xc_functionals/XC_libxc_driver.F ypp/RT_transient_absorption.F

  Bugs:
  -
  Additions:
  -
  Changes:
  Merged with devel-davide

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3940 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc bse bse/K.F bse/K_IP.F bse/K_Transitions_setup.F bse/K_driver.F bse/K_stored_in_a_BIG_matrix.F collisions/.objects collisions/COLLISIONS_Hartree_Fock.F collisions/COLLISIONS_alloc_and_free.F collisions/COLLISIONS_cohsex.F collisions/COLLISIONS_compose.F collisions/COLLISIONS_eval.F collisions/COLLISIONS_linearize_and_IO.F collisions/COLLISIONS_load.F collisions/PLASMA_build_up.F collisions/PLASMA_parallel_setup.F collisions/PLASMA_tables_and_dimensions.F common common/.objects common/OCCUPATIONS_Extend.F interface/init.F interface/init_load.F io/io_DB1.F io/io_QINDX.F io/io_QP_and_GF.F linear_algebra/multi_worlds_scalapack/README.txt linear_algebra/multi_worlds_scalapack/constants.F linear_algebra/multi_worlds_scalapack/distools.F linear_algebra/multi_worlds_scalapack/error.F linear_algebra/multi_worlds_scalapack/kind.F linear_algebra/multi_worlds_scalapack/make.sys linear_algebra/multi_worlds_scalapack/make_file linear_algebra/multi_worlds_scalapack/mp_global.F linear_algebra/multi_worlds_scalapack/mytest.F linear_algebra/multi_worlds_scalapack/para.F linear_algebra/multi_worlds_scalapack/util.F modules modules/SET_defaults.F modules/mod_QP.F modules/mod_RT_CTL.F modules/mod_drivers.F modules/mod_real_time.F parallel pol_function/DIPOLE_driver.F pol_function/DIPOLE_kb_init.F pol_function/DIPOLE_transverse.F qp/QP_expand.F qp_ctl/Nearest_kpt_interpolation.F qp_ctl/QP_apply_DB_interpolation.F qp_ctl/QP_merge_DBs.F qp_ctl/mod_QP_CTL.F real_time/.objects real_time/RT_apply_RWA.F real_time/RT_driver.F real_time/RT_k_grid.F rt_ctl/.objects + rt_ctl/RT_OCC_LIFE_and_REF_IO.F rt_ctl/RT_alloc_def_or_free.F rt_ctl/RT_average_operator.F + rt_ctl/RT_databases_IO.F + rt_ctl/RT_mean_carrier_lifetimes.F rt_ctl/RT_observables.F + rt_ctl/RT_occupations_FIT.F rt_ctl/RT_output.F rt_ctl/RT_variables_load.F setup/QP_external_corrections.F setup/setup.F ypp/.objects ypp/RT_check_RIM.F ypp/RT_occ_check_and_load_ref.F ypp/RT_occupations_FIT_and_plot.F ypp/RT_occupations_analyze.F ypp/RT_transient_absorption.F ypp/electrons_bands.F ypp/electrons_dos_and_charge.F ypp/excitons_driver.F ypp/mod_YPP.F ypp/ypp_i.F ypp/ypp_init.F ypp/ypp_init_load.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - MERGED WITH DEVEL DAVIDE:
  1) BSE occupations changed from f_v*(1-fc) to f_v-f_c
  2) Nearest_neighbor_interpolation now can also do the interpolation conserving the number of electrons/holes
     I add a new element to both the rt and the qp type for that
  3) Debye_TBose_update section commented in RT_driver
  4) Transient absorption via yambo_rt implemented
  5) Removed old calls to call RT_OCC_LIFE_and_REF_IO in src/setup/QP_external_corrections.F
     In future the subroutine will be moved to External_corrections.F and the call
     to Occupations_out_of_equilibrium in setup.F will be moved here
  6) Transient absorption via ypp_rt now works correctly also with the PP DBs created with abinit

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3930 76a4dfbf-5f1f-0410-a543-a0282073b526

- Qexml_read_xc fixed in order to skip tag LDA_PLUS_U_CALCULATION if
  needed. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3923 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.1. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K.F bse/K_eh_setup.F xc_functionals/XC_libxc_driver.F

  Bugs:
  - Fractional occupations in BSE fixed. Test needed before moving the patch in the GPL
  - Imported bug fix for GGA+spin from trunk devel
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3915 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fixed error message in electrons bands. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3905 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Myrta Gruning]

  *  lib/libxc/Makefile.in

  Bugs: Libxc did not compile on Fermi due to errors in the Makefile.in
  -
  Additions:
  -
  Changes:
  -


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3904 76a4dfbf-5f1f-0410-a543-a0282073b526

- Small bug-fix. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3903 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc lib/libxc/config.h.in + bse collisions/.objects collisions/COLLISIONS_Hartree_Fock.F collisions/COLLISIONS_alloc_and_free.F collisions/COLLISIONS_cohsex.F collisions/COLLISIONS_compose.F collisions/COLLISIONS_eval.F collisions/COLLISIONS_linearize_and_IO.F collisions/COLLISIONS_load.F collisions/PLASMA_build_up.F collisions/PLASMA_parallel_setup.F collisions/PLASMA_tables_and_dimensions.F common interface/init_load.F io/io_RIM_E_and_k.F io/io_X.F io/variables_RT.F linear_algebra/multi_worlds_scalapack/README.txt linear_algebra/multi_worlds_scalapack/constants.F linear_algebra/multi_worlds_scalapack/distools.F linear_algebra/multi_worlds_scalapack/error.F linear_algebra/multi_worlds_scalapack/kind.F linear_algebra/multi_worlds_scalapack/make.sys linear_algebra/multi_worlds_scalapack/make_file linear_algebra/multi_worlds_scalapack/mp_global.F linear_algebra/multi_worlds_scalapack/mytest.F linear_algebra/multi_worlds_scalapack/para.F linear_algebra/multi_worlds_scalapack/util.F modules modules/SET_defaults.F modules/mod_BS.F modules/mod_RT_CTL.F modules/mod_R_lattice.F modules/mod_real_time.F parallel pol_function/DIPOLE_transverse.F pol_function/X_em1.F pol_function/X_os.F real_time/RT_Collision.F real_time/RT_Dephasing_Matrix.F real_time/RT_Lifetimes_evaluation_plan.F real_time/RT_SET_lifetimes_evaluation_plan.F real_time/RT_apply_field.F real_time/RT_initialize.F real_time/RT_start_and_restart.F rt_ctl/.objects rt_ctl/RT_OCC_LIFE_and_REF_IO.F rt_ctl/RT_alloc_def_or_free.F rt_ctl/RT_average_operator.F rt_ctl/RT_databases_IO.F rt_ctl/RT_mean_carrier_lifetimes.F rt_ctl/RT_observables.F rt_ctl/RT_occupations_FIT.F rt_ctl/RT_output.F rt_ctl/RT_variables_load.F sc/SC_add_XC.F sc/SC_bare_Hamiltonian.F xc_functionals/el_density_matrix.F ypp/RT_check_RIM.F ypp/RT_occupations_analyze.F ypp/RT_transient_absorption.F ypp/k_RIM_grid_consistency_check.F ypp/k_grids.F ypp/k_map_fine_to_coarse.F ypp/k_random.F

  Bugs:
  -
  Additions:
  -
  Changes:
  *** Merged with devel-davide ***
  1) [yambo_rt] RIM implementation extended to the computation of Sigma and VH
  2) [ypp] RIM restored to previous version with RIM_pt and RIM_ptbz
  3) [yambo_rt] Changed default and variables which appear under -V=rt
  4) [yambo] BSE restart: now when reading em1s file X_epsilon is allocated
  5) [ypp_rt] Transient absorption: minor changes

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3902 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Myrta Gruning]

  *  lib/libxc/xc_version.h

  Bugs: xc_version was missing and therefore internal libxc failed compilation
  -
  Additions: file missing in the previous commit
  -
  Changes:
  -


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3898 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Myrta Gruning]

  *  config/Makefile.in config/acx_report.m4 config/libxc.m4 config/report.in config/setup.in configure lib/libxc/Makefile.in lib/libxc/Makefile.am lib/libxc/Makefile.in lib/libxc/bessel.c lib/libxc/expint_e1.c lib/libxc/functionals.c lib/libxc/gga.c lib/libxc/gga_c_am05.c lib/libxc/gga_c_ft97.c lib/libxc/gga_c_lm.c lib/libxc/gga_c_lyp.c lib/libxc/gga_c_op.c lib/libxc/gga_c_optc.c lib/libxc/gga_c_p86.c lib/libxc/gga_c_pbe.c lib/libxc/gga_c_pw91.c lib/libxc/gga_c_sogga11.c lib/libxc/gga_c_tca.c lib/libxc/gga_c_wi.c lib/libxc/gga_c_wl.c lib/libxc/gga_k_dk.c lib/libxc/gga_k_ol1.c lib/libxc/gga_k_ol2.c lib/libxc/gga_k_pearson.c lib/libxc/gga_k_tflw.c lib/libxc/gga_x_2d_b86.c lib/libxc/gga_x_2d_b86_mgc.c lib/libxc/gga_x_2d_b88.c lib/libxc/gga_x_2d_pbe.c lib/libxc/gga_x_airy.c lib/libxc/gga_x_am05.c lib/libxc/gga_x_b86.c lib/libxc/gga_x_b86_mgc.c lib/libxc/gga_x_b88.c lib/libxc/gga_x_bayesian.c lib/libxc/gga_x_bpccac.c lib/libxc/gga_x_c09x.c lib/libxc/gga_x_dk87.c lib/libxc/gga_x_ft97.c lib/libxc/gga_x_g96.c lib/libxc/gga_x_herman.c lib/libxc/gga_x_hjs.c lib/libxc/gga_x_htbs.c lib/libxc/gga_x_ityh.c lib/libxc/gga_x_kt.c lib/libxc/gga_x_lb.c lib/libxc/gga_x_lg93.c lib/libxc/gga_x_mpbe.c lib/libxc/gga_x_n12.c lib/libxc/gga_x_optx.c lib/libxc/gga_x_pbe.c lib/libxc/gga_x_pbea.c lib/libxc/gga_x_pw86.c lib/libxc/gga_x_pw91.c lib/libxc/gga_x_rpbe.c lib/libxc/gga_x_sogga11.c lib/libxc/gga_x_ssb_sw.c lib/libxc/gga_x_vmt.c lib/libxc/gga_x_wc.c lib/libxc/gga_x_wpbeh.c lib/libxc/gga_xc_1w.c lib/libxc/gga_xc_b97.c lib/libxc/gga_xc_edf1.c lib/libxc/gga_xc_oblyp_d.c lib/libxc/gga_xc_th.c lib/libxc/hyb_gga_xc_b1wc.c lib/libxc/hyb_gga_xc_b3lyp.c lib/libxc/hyb_gga_xc_b97.c lib/libxc/hyb_gga_xc_cam_b3lyp.c lib/libxc/hyb_gga_xc_hse.c lib/libxc/hyb_gga_xc_o3lyp.c lib/libxc/hyb_gga_xc_pbeh.c lib/libxc/hyb_mgga_xc_m05.c lib/libxc/integrate.c lib/libxc/lda.c lib/libxc/lda_c_1d_csc.c lib/libxc/lda_c_1d_loos.c lib/libxc/lda_c_2d_amgb.c lib/libxc/lda_c_2d_prm.c lib/libxc/lda_c_gombas.c lib/libxc/lda_c_hl.c lib/libxc/lda_c_ml1.c lib/libxc/lda_c_pw.c lib/libxc/lda_c_pz.c lib/libxc/lda_c_rc04.c lib/libxc/lda_c_rpa.c lib/libxc/lda_c_vwn.c lib/libxc/lda_c_wigner.c lib/libxc/lda_k_tf.c lib/libxc/lda_x.c lib/libxc/lda_x_1d.c lib/libxc/lda_x_2d.c lib/libxc/lda_xc_teter93.c lib/libxc/libxc_master.F90 lib/libxc/mgga.c lib/libxc/mgga_c_bc95.c lib/libxc/mgga_c_cc06.c lib/libxc/mgga_c_cs.c lib/libxc/mgga_c_m08.c lib/libxc/mgga_c_pkzb.c lib/libxc/mgga_c_tpss.c lib/libxc/mgga_c_vsxc.c lib/libxc/mgga_x_2d_prhg07.c lib/libxc/mgga_x_br89.c lib/libxc/mgga_x_gvt4.c lib/libxc/mgga_x_lta.c lib/libxc/mgga_x_m05.c lib/libxc/mgga_x_m06l.c lib/libxc/mgga_x_m08.c lib/libxc/mgga_x_mk00.c lib/libxc/mgga_x_mn12.c lib/libxc/mgga_x_ms.c lib/libxc/mgga_x_pkzb.c lib/libxc/mgga_x_tau_hcth.c lib/libxc/mgga_x_tpss.c lib/libxc/mgga_xc_otpss_d.c lib/libxc/mgga_xc_vsxc.c lib/libxc/mix_func.c lib/libxc/special_functions.c lib/libxc/stoll.c lib/libxc/util.c lib/libxc/util.h lib/libxc/version.c lib/libxc/work_gga_becke.c lib/libxc/work_gga_c.c lib/libxc/work_gga_x.c lib/libxc/work_lda.c lib/libxc/work_mgga_c.c lib/libxc/work_mgga_x.c lib/libxc/xc.h lib/libxc/xc_config.h lib/libxc/xc_f.c modules modules/mod_xc_functionals.F

  Bugs:
  -
  Additions:Libxc can be externally linked
  -
  Changes: Updated internal libxc
  -


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3894 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3888 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3887 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug fix (pointed out by M. Marsili) [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3886 76a4dfbf-5f1f-0410-a543-a0282073b526

- All linear algebra stuff moved in a new folder. Fixed fragmentation of
  em1s databse (to check all others) [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3882 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fixed bug io I/O of em1s database. Re-read of diago database still
  broken. To be fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3877 76a4dfbf-5f1f-0410-a543-a0282073b526

- OLD Test-suite deleted. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3868 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Andrea Marini]

  *  config/configure.ac configure include/version.inc io/IO_and_Messaging_switch.F io/io_X.F modules/SET_defaults.F modules/SET_logicals.F modules/mod_QP.F modules/mod_memory.F pol_function/DIPOLE_driver.F pol_function/X_em1.F pol_function/X_os.F qp/QP_W2Sc.F qp/QP_driver.F qp/QP_real_axis.F qp/QP_secant.F

  Bugs:
  - Not complete I/O of dipoles in parallel SE calculations fixed
  - max_mem_elements increased in mod_memory.F (problem pointed out by D. Prezzi)

  Additions:
  - Option to temporarly swicth to a new I/O set of logicals implemented
    in IO_and_Messaging_switch.F

  Changes:
  - QP_W_partially_done flag removed

  *** GW real-axis runs in serial. Small differences with stable. Parallel to testo ****

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3867 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Andrea Marini]

  *  config/configure.ac configure driver/yambo.h include/version.inc bse/K.F bse/K_Haydock.F bse/K_blocks.F collisions/COLLISIONS_linearize_and_IO.F interface/init_load.F io/IO_and_Messaging_switch.F io/io_BS.F io/io_X.F modules/SET_logicals.F modules/mod_BS.F modules/mod_IO.F modules/mod_parallel.F modules/mod_stderr.F parallel/PARALLEL_get_user_structure.F parallel/PARALLEL_global_indexes.F parallel/PARALLEL_structure.F pol_function/X_em1.F qp/QP_real_axis.F

  Bugs:
  - Wrong definition of the total # of blocks in the BSE (spotted by Daniele)
  - Wrong use of a cutoff in RT COHSEX collisions. Potentially solving a problem
    spotted by Davide.
  - Wrong definition of restart point in X_em1. Now all restarts are totally based
    solely on the presence of the fragments.
  - The io_RESPONSE flag was on also when the "q" parallalization fields were not consistent
    between "X" and "SE".

  Additions:
  - Flag to avoid I/O if screened interaction (real axis GW)

  Changes:
  - Fixed use of fragmentation in BSE and X
  - Changed way the PARALLEL user structure is read. Now it can parser also non active parallel structures.
  - Lifetime calculation now working. Serial, parallel, w/wo I/O, w/wo WF buffering.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3864 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fix for non cubic systems. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3853 76a4dfbf-5f1f-0410-a543-a0282073b526

- QED G-vectors field missing. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3852 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-trunk. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3851 76a4dfbf-5f1f-0410-a543-a0282073b526

- Parallel flag fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3843 76a4dfbf-5f1f-0410-a543-a0282073b526

- Small bug in cutoff real space test. [Daniele Varsano]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3879 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc rt_ctl/RT_output.F ypp/RT_transient_absorption.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Transient absorption now prints also the "transient residuals" [EXPERIMENTAL]

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3854 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-pedro. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3847 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3842 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Andrea Marini]

  *  config/configure.ac configure include/version.inc interface/init_q_points.F qp/ELPH_Sigma_c.F qp/QP_descriptions.F

  Bugs:
  - [E-P] When using a sub-set of the input random points

  Additions:
  - [E-P] Added option for yambo to read the q-points from the s.dbph databases. This
    is activated when the setup is run in presence of the s.dbph files.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3841 76a4dfbf-5f1f-0410-a543-a0282073b526

- Minor differences between my devel and trunk fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3839 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-trunk. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3838 76a4dfbf-5f1f-0410-a543-a0282073b526

- Removed barriers to do e-p on top of non uniform k-grids. [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3835 76a4dfbf-5f1f-0410-a543-a0282073b526

- Parallel field was removed for gw calculations. Restored. [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3826 76a4dfbf-5f1f-0410-a543-a0282073b526

- Minor differences between my devel and trunk fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3839 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . bse collisions/.objects collisions/COLLISIONS_Hartree_Fock.F collisions/COLLISIONS_alloc_and_free.F collisions/COLLISIONS_compose.F collisions/COLLISIONS_eval.F collisions/COLLISIONS_linearize_and_IO.F collisions/COLLISIONS_load.F collisions/PLASMA_build_up.F collisions/PLASMA_parallel_setup.F collisions/PLASMA_tables_and_dimensions.F common communicate/REPORT_Occupations.F modules modules/mod_fields.F modules/mod_real_time.F parallel pol_function/DIPOLE_transverse.F real_time/RT_Dephasing_step.F real_time/RT_EULEREXP_step.F real_time/RT_Ext_fields.F real_time/RT_Integrator.F real_time/RT_apply_RWA.F real_time/RT_current_AND_polarization.F real_time/RT_driver.F real_time/RT_initialize.F real_time/RT_propagate_fields.F real_time/RT_start_and_restart.F rt_ctl/.objects rt_ctl/RT_OCC_LIFE_and_REF_IO.F rt_ctl/RT_alloc_def_or_free.F rt_ctl/RT_average_operator.F rt_ctl/RT_databases_IO.F rt_ctl/RT_mean_carrier_lifetimes.F rt_ctl/RT_observables.F rt_ctl/RT_occupations_FIT.F rt_ctl/RT_output.F rt_ctl/RT_variables_load.F xc_functionals/XC_libxc_driver.F ypp/.objects ypp/RT_X_LRR_real_field.F ypp/RT_X_effective.F ypp/RT_databases.F ypp/RT_driver.F + ypp/RT_initialize.F ypp/k_RIM_grid_consistency_check.F ypp/mod_YPP.F ypp/ypp_init.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - MERGED WITH DEVEL DAVIDE
  A) [yambo_rt] Polarization and current are computed correctly also with symmetries (RT_average_operator)
  B) [yambo_rt] All integrators now evolve G-G_eq
  C) [yambo_rt] Induced field [ work in progress ... ]
  D) [ypp_rt] Post processing of polarization improved to avoid errors in the derived spectrum

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3837 76a4dfbf-5f1f-0410-a543-a0282073b526

- Small bug fix. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3834 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc xc_functionals/XC_libxc_driver.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [yambo] Finally fixed bug in GGA plus spin [Davide&Myrta]

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3831 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug fixed in the openmp parallelism of QP_ppa_cohsex.F; ig loops
  reversed. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3829 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc xc_functionals/XC_libxc_driver.F ypp/electrons_dos_and_charge.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [yambo] Fixed a bug with GGA+SPIN [by Myrta]. However it seems there is still another bug somewhere
  - [ypp_rt] RT_DOS now works properly with spinors

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3827 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3821 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Andrea Marini]

  *  config/configure.ac configure include/version.inc bse/K.F bse/K_IP.F pol_function/DIPOLE_driver.F pol_function/DIPOLE_kb_abinit_comp.F pol_function/DIPOLE_kb_pwscf_comp.F pol_function/DIPOLE_rotate.F pol_function/DIPOLE_shifted_grids.F pol_function/DIPOLE_transverse.F pol_function/X_os.F real_time/RT_OLD_diagonalization.F real_time/RT_driver.F sc/MAG_H_pseudo.F sc/SC_driver.F sc/SC_start_and_restart.F surf/Dipole_driver_cut.F ypp/RT_transient_absorption.F ypp/k_RIM_grid_consistency_check.F

  Bugs:
  - Bug-fix (Margherita + Deborah)

  Changes:
  - Global renaming of Dipole_ -> DIPOLE_ subroutines

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3820 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Andrea Marini]

  *  config/configure.ac config/fft.m4 configure include/version.inc modules/mod_interfaces.F pol_function/.objects pol_function/.objects_gpl + moved + moved + moved + moved + moved + moved + moved + moved + moved + moved + moved pol_function/Dipole_check_shifted_grids.F moved pol_function/Dipole_dip_dot_field.F moved pol_function/Dipole_driver.F moved pol_function/Dipole_kb_Ylm.F moved pol_function/Dipole_kb_abinit_comp.F moved pol_function/Dipole_kb_init.F moved pol_function/Dipole_kb_pwscf_comp.F moved pol_function/Dipole_kb_sum.F moved pol_function/Dipole_rotate.F moved pol_function/Dipole_shifted_grids.F moved pol_function/Dipole_transverse.F moved wf_and_fft/WF_load.F wf_and_fft/fft_3d_fftw.F

  Bugs:
  - Dipole_driver was cleaning states_to_load removing the parallelization.
    All WF_load following Dipole_driver were, actually, serial

  Changes:
  - Dipoles*.F => DIPOLES*.F

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3819 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-trunk. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3817 76a4dfbf-5f1f-0410-a543-a0282073b526

- Ypp weights changed to be consistent with qe format. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3816 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Andrea Marini]

  *  config/configure.ac configure include/version.inc bse/K_blocks.F parallel/PARALLEL_global_indexes.F parallel/PARALLEL_structure.F real_time/RT_initialize.F rt_ctl/RT_output.F

  Bugs:
  - Formatting problems with gfortarn fixed
  - Missing calls to PARALLEL_structure for the _BLUEGENE pre-compiler case

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3812 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug fix in Energy evaluation. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3809 76a4dfbf-5f1f-0410-a543-a0282073b526

- Ooops. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3808 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Andrea Marini]

  *  config/configure.ac configure include/version.inc multi_worlds_scalapack multi_worlds_scalapack/README.txt multi_worlds_scalapack/constants.F multi_worlds_scalapack/distools.F multi_worlds_scalapack/error.F multi_worlds_scalapack/kind.F multi_worlds_scalapack/make.sys multi_worlds_scalapack/make_file multi_worlds_scalapack/mp_global.F multi_worlds_scalapack/mytest.F multi_worlds_scalapack/mytest.tar multi_worlds_scalapack/para.F multi_worlds_scalapack/util.F io/variables_RT.F modules/SET_defaults.F modules/mod_real_time.F real_time/RT_driver.F real_time/RT_impose_zero_dE_and_dN.F real_time/RT_initialize.F real_time/RT_relaxation.F rt_ctl/RT_output.F

  Additions:
  - Sample test for world splitting in pools to use multiple scalapack calls (Provided by
    Andrea Ferretti the Nerd)

  Changes:
  - Impose factors for N,dN and Energy conservation rewritten. Under testing.
  - Global renaming of N,dN and E logicals. Now by default are all active.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3807 76a4dfbf-5f1f-0410-a543-a0282073b526

- Working on the N,dN and E conditions. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3805 76a4dfbf-5f1f-0410-a543-a0282073b526

- N, dN and E conservation logicals turned in negative flags in input
  and positive logicals in the code. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3800 76a4dfbf-5f1f-0410-a543-a0282073b526

- Added barriers to the case of non uniform Xk grids. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3797 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K_blocks.F modules/mod_fields.F real_time/RT_initialize.F rt_ctl/RT_average_operator.F

  Bugs:
  - [yambo_rt] modules/mod_fields.F: definition of theta function in mod_fields fixed for RK2 integrator
               HEUN integrator still to be checked
  - [yambo]    bse/K_blocks.F: long line fixed for gfortran
  Additions:
  -
  Changes:
  - Other minor changes

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3814 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3795 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Andrea Marini]

  *  config/configure.ac configure include/version.inc bse/K_inversion.F bse/K_solvers.F qp/QP_ppa_cohsex.F

  Bugs:
  - BS diagonalization solver I/O parallel problem fixed (thanks to Margherita)
  - Changed way of accumulating the self-energy in the PPA GW. This new
    way solves, in the case of C6H3Cl3, the discrepancy with the stable.

  Additions:
  - Added finite temperature support to the PPA expression

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3794 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug (quite big) killed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3791 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3788 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3787 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Andrea Marini]

  *  config/configure.ac include/version.inc bz_ops/.objects bz_ops/RIM_grid_consistency_check.F common/OCCUPATIONS_Fermi.F io/io_RIM_E_and_k.F modules/mod_R_lattice.F modules/mod_electrons.F parser/mod_itm.F rt_ctl/RT_alloc_def_or_free.F setup/setup.F ypp/RT_check_RIM.F ypp/k_map_fine_to_coarse.F ypp/ypp_init.F ypp/ypp_init_load.F

  Additions:
  - Added explicit routine to check the internal consistency of the K RIM grid.
  - Added check in OCCUPATIONS_Fermi of the Fermi level connected to the K RIM grid.
  - Added short message in setup about the presence of the K RIM.

  Changes:
  - YPP: BZExpand flag turned in a noBZExpand

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3786 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Andrea Marini]

  *  bse/K.F bse/K_inversion.F modules/SET_logicals.F

  Bugs:
  - Bug fix in parallel distribution of full inversion
  - Some typos (Fermi related) fixed (THX to AF)

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3784 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Andrea Marini]

  *  config/configure.ac include/version.inc bse/K.F bse/K_eps_interpolate.F bse/K_inversion.F interface/init.F interface/init_load.F io/io_BSS_invert.F modules/mod_BS.F

  Additions:
  - Added interpolation of anti-resonant part in BS inversion solver

  Changes:
  - Removed "F" BS inversion mode
  - Added BSSInvPFratio field in input file. Out of all N frequencies only
    N/BSSInvPFratio are calculated by using the full inversion
  - Changed report verbosity in BS I/O

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3783 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug fix in all2all of the BS kernel diagonal. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3777 76a4dfbf-5f1f-0410-a543-a0282073b526

- Couple of bug-fix. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3776 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug fix in BSE inversion I/O and in dipoles I/O. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3771 76a4dfbf-5f1f-0410-a543-a0282073b526

- Minor bug when DBsIOoff is the BS kernel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3768 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug that was causing random I/O access in dipoles I/O fixed. [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3767 76a4dfbf-5f1f-0410-a543-a0282073b526

- BSE I/O (parallel and serial) implemented. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3766 76a4dfbf-5f1f-0410-a543-a0282073b526

- Added more accurate timing of the BSE kernel construction. Fixed some
  minor bugs in the procedures of init.F. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3765 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . config/configure.ac configure driver/ypp.h include/version.inc bse bse/K_driver.F bse/K_output_file.F collisions/.objects collisions/COLLISIONS_Hartree_Fock.F collisions/COLLISIONS_alloc_and_free.F collisions/COLLISIONS_compose.F collisions/COLLISIONS_eval.F collisions/COLLISIONS_linearize_and_IO.F collisions/COLLISIONS_load.F collisions/PLASMA_build_up.F collisions/PLASMA_parallel_setup.F collisions/PLASMA_tables_and_dimensions.F common interface/init.F interface/init_load.F io/io_RT_components.F io/variables_RT.F modules modules/.objects modules/SET_defaults.F modules/mod_fields.F modules/mod_real_time.F parallel real_time/RT_Dephasing_step.F real_time/RT_Ext_fields.F real_time/RT_Fluence.F real_time/RT_apply_field.F real_time/RT_current_AND_polarization.F real_time/RT_driver.F real_time/RT_initialize.F real_time/RT_propagate_fields.F rt_ctl/.objects rt_ctl/RT_OCC_LIFE_and_REF_IO.F rt_ctl/RT_alloc_def_or_free.F rt_ctl/RT_average_operator.F rt_ctl/RT_databases_IO.F rt_ctl/RT_mean_carrier_lifetimes.F rt_ctl/RT_observables.F rt_ctl/RT_occupations_FIT.F rt_ctl/RT_output.F rt_ctl/RT_variables_load.F sc/MAG_pseudo_nl.F ypp/RT_X_LRR_real_field.F ypp/RT_X_inversion.F ypp/RT_X_qssin.F ypp/RT_initialize.F ypp/RT_paths.F ypp/RT_split_Polarization.F ypp/RT_transient_absorption.F ypp/ypp_init.F ypp/ypp_init_load.F

  Bugs:
  - [YAMBO_RT] Few bug fixes
  Additions:
  -
  Changes:
  ** Merged with devel-davide **
  - [_RT]      Fixed minus in P dot E term (yambo_rt) and minus in epsilon[alpha] expression (ypp_rt)
  - [YPP_RT]   Transient absorption upgraded
  - [YPP_RT]   RT_paths scan all the folders in the present directory only if asked in input.
               Otherwise only the folders specified with -J are used as always in yambo
  - [YAMBO_RT] Fixed initial time for field and theta / delta function in mod_fields. Now length and velocity gauge are consistent
               [but velocity gauge still miss the e^{iA(t)(r-r')} factor ]
  - [YAMBO_RT] If asked in input yambo now computed the induced electric field [more tests needed]

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3782 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.1. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K_output_file.F modules/mod_X_output.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [yambo_kerr] Faraday parameters add ot yambo_kerr (still to be checked)

  Patch sent by: Davide



  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3780 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.1. [Davide Sangalli]

  *  . config/configure.ac configure driver/yambo_driver.F driver/ypp.h include/version.inc + + bse/K_Haydock.F bse/K_diagonalization.F bse/K_output_file.F bse/K_solvers.F common/.objects common/FREQUENCIES_reset.F + + common/OCCUPATIONS_Extend.F common/OCCUPATIONS_Fermi.F + + communicate/REPORT_Energies.F communicate/REPORT_Occupations.F interface/QP_ctl_load.F interface/init.F interface/init_load.F io/ioBSS_Haydock.F io/ioBSS_diago.F modules/mod_BS.F modules/mod_D_lattice.F + modules/mod_electrons.F modules/mod_magnetic.F modules/std_presets.F parser/Gclose.F parser/mod_itm.F pol_function/X_bare_RIM_GreenF.F pol_function/X_os.F qp/.objects qp/COLLISIONS_IO_store.F + qp/QP_of.F qp/QP_report_and_write.F qp/XCo_driver.F sc/MAG_H_pseudo.F sc/MAG_Hamiltonian.F sc/MAG_common_build_A.F sc/SC_bare_Hamiltonian.F sc/SC_start_and_restart.F setup/.objects setup/QP_state_table_setup.F + setup/check_periodic_directions.F + setup/setup.F + wf_and_fft/WF_load.F wf_and_fft/WF_spatial_invertion.F xc_functionals/.objects + + ypp/.objects + + ypp/electrons_driver.F + + + + + ypp/mod_YPP.F + ypp/ypp_init.F ypp/ypp_init_load.F

  Bugs:
  -
  Additions:
  -
  Changes:
  Merged with devel-davide/stable
  - [yambo_kerr]     Implementation of kerr imported (Diagonalization and Haydock)
  - [yambo_magnetic] Few changes implemented
  - [yambo]          DOS printed in output from yambo -g g run
  - Few other minor changes

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3779 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.1. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc p2y/mod_p2y.F bse/K_output_file.F

  Bugs:
  - Fixed inverted coulumn data / header in output of kerr parameters.
  Additions:
  -
  Changes:
  - In case of metallic systems, by default p2y sets the temperature at 300 K
    instead of using the pwscf temperature, which may be very high due to the
    use of different smearing techniques.

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3774 76a4dfbf-5f1f-0410-a543-a0282073b526

- Double occurrence of #if defined _ELPH removed. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3770 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3764 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3763 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug fix in GW calculation using a pre-calculated PP database (spotted
  by Margherita) [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3762 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fixed small bug which was preventing compilation with gfortran.
  [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3752 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3747 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3740 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Andrea Marini]

  *  config/configure.ac configure include/version.inc bse/K_inversion.F bse/K_stored_in_a_BIG_matrix.F common/Matrix_resolvant_via_perturbative_inversion.F io/variables_X.F modules/mod_BS.F pol_function/Dipole_transverse.F qp/ELPH_gsqF_to_Sigma.F qp/ELPH_simmetrize_and_distribute_gsqF.F

  Bugs:
  - Parallel distribution of frequencies in K_inversion fixed
  - Bug in Dipole_transverse.F fixed
  - Bug in ELPH_gsqF_to_Sigma.F fixed
  - Bug in ELPH_simmetrize_and_distribute_gsqF.F fixed

  Additions:
  -

  Changes:
  - Missing RIM on energy in io_X changed to a warning

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3739 76a4dfbf-5f1f-0410-a543-a0282073b526

- Efermi(3) -> E_Fermi. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3726 76a4dfbf-5f1f-0410-a543-a0282073b526

- %VBM/CBM moved in OCCUPATIONS_Gaps. Fixed energy reference in
  QP_apply_global_stretch. Merged with trunk-devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3725 76a4dfbf-5f1f-0410-a543-a0282073b526

- Renamed ip absorption. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3722 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Andrea Marini]

  *  config/configure.ac configure include/version.inc bse/K.F bse/K_IP.F coulomb/cutoff_driver.F coulomb/cutoff_test.F io/io_COL_CUT.F io/variables_BS.F

  Bugs:
  - IP part of BSE was not causal when coupling was included

  Additions:
  - BS + cut-off coded. To be tested.
  - Added plot of cut-off potential components when the test option is activated.

  Changes:
  - Fixed doubled description field in io_COL_CUT

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3720 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bugs fix for BSE inversion + RIM. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3714 76a4dfbf-5f1f-0410-a543-a0282073b526

- Linewidth sign checked and fixed. Still doubt on convention on
  reference energy for W dependence given in input. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3711 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fighting with inversion + interpolation. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3710 76a4dfbf-5f1f-0410-a543-a0282073b526

- Terminator descriptions moved in QP_descriptions. Re-ordered ypp_*
  flags. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3706 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-trunk. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3700 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Andrea Marini]

  *  config/Makefile.in config/configure.ac configure include/version.inc collisions/COLLISIONS_Hartree_Fock.F collisions/COLLISIONS_cohsex.F collisions/COLLISIONS_eval.F collisions/COLLISIONS_linearize_and_IO.F common/FREQUENCIES_reset.F interface/.objects interface/DephMatrix_init.F moved interface/QP_ctl_load.F moved interface/QP_ctl_switch.F moved interface/QP_init.F moved interface/barriers.F moved interface/init.F + moved + moved + moved + moved + moved interface/init_load.F + moved + moved interface/init_q_pts.F moved interface/parse_K_list.F moved interface/stop_now.F moved io/.objects io/Fragments_Synchronize.F io/IO_and_Messaging_switch.F io/io_BS.F io/io_COLLISIONS.F io/io_DIPOLES.F io/io_ELPH.F io/io_KB_abinit.F io/io_KB_pwscf.F io/io_P_and_P2.F io/io_QINDX.F io/io_QP.F moved + moved io/io_RT_components.F io/io_SC_components.F io/io_Vnl.F io/io_WF.F io/io_X.F io/io_fragment.F modules/.objects modules/SET_logicals.F modules/mod_BS.F modules/mod_IO.F modules/mod_fragments.F parallel/PARALLEL_global_indexes.F pol_function/X_em1.F pol_function/X_os.F qp/ELPH_Sigma_c.F qp/QP_driver.F qp/QP_ppa_cohsex.F qp/QP_real_axis.F qp/QP_report_and_write.F qp/QP_secant.F qp_ctl/Nearest_kpt_interpolation.F qp_ctl/QP_apply_DB_interpolation.F qp_ctl/QP_check_if_corrected.F qp_ctl/QP_load_DB.F real_time/RT_driver.F real_time/RT_start_and_restart.F sc/OEP_ApplySigmaCSX.F sc/OEP_exact_inversion.F sc/SC_add_XC.F sc/SC_driver.F setup/G_shells_finder.F stop_and_restart stop_and_restart/.objects + moved wf_and_fft/WF_load.F xc_functionals/XC_potential_driver.F ypp/ELPH_databases.F ypp/QP_DBs_initialize.F ypp/QP_DBs_merge.F ypp/QP_DBs_setup.F ypp/WANNIER_driver.F ypp/ypp_init.F ypp/ypp_init_load.F

  Bugs:
  - Bug fixed in QP_apply_DB_interpolation. Linked to the problem encountered by Daniele some time ago.

  Additions:
  - Created new folder, stop_and_restart, to handle the a brand new restart structure not linked.
    to the fragments I/O and/or RESTART folder.

  Changes:
  - mod_fragments removed and io_fragment moved in the io.
  - init* subroutines renamed.
  - Tools to syncronize the fragments removed.
  - W I/O removed from io_QP. Eventually will be moved elsewhere.
  - io_QP renamed in io_QP_and_GF

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3698 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Andrea Marini]

  *  config/configure.ac configure include/version.inc bse/K.F bse/K_diagonalization.F bse/K_inversion.F bse/K_stored_in_a_BIG_matrix.F common/Matrix_resolvant_via_perturbative_inversion.F modules/mod_BS.F real_time/RT_Dephasing_step.F ypp/RT_databases.F ypp/RT_paths.F ypp/ypp_init.F

  Bugs:
  - Now diagonalization and inversion work in the coupling case
  - Fixed I/O of RT databases in ypp_rt

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3691 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug-fix in RT_integrator when no dephasing is applied. Names changed.
  [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3686 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3685 76a4dfbf-5f1f-0410-a543-a0282073b526

- Small changes. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3684 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3679 76a4dfbf-5f1f-0410-a543-a0282073b526

- Few bugs in RT_output used in transient absorption ypp fixed. [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3675 76a4dfbf-5f1f-0410-a543-a0282073b526

- Few bugs fixed in occupations I/O. Still output of trans. abs. is not
  written. To be fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3674 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug fix in COLLISIONS I/O + restart. To fix COLLISIONS restart.
  [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3671 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Myrta Gruning]

  *  bse/K_dot_product.F

  Bugs: Typo in the preprocessing part that compromised the Haydock part
  -
  Additions:
  -
  Changes:
  -


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3737 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.1. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K_Haydock.F interpolate/bz_interp_coeff.F modules/mod_fields.F modules/mod_matrix_operate.F

  Bugs:
  - small bug fixes to allow compilation of yambo on Cray system (same commit done in trunk/devel and in GPL stable)
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3736 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K_Haydock.F interpolate/bz_interp_coeff.F modules/mod_matrix_operate.F

  Bugs:
  - More fix needed to compile yambo with cray compilers
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3735 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K_IP.F bse/K_diagonalization.F bse/K_driver.F bse/K_kerr_IP.F bse/K_solvers.F interface/init_load.F io/io_header.F io/variables_RT.F modules/.objects modules/SET_defaults.F modules/mod_X.F modules/mod_X_output.F modules/mod_com.F modules/mod_fields.F modules/mod_parallel.F pol_function/Dipole_dip_dot_field.F pol_function/Dipole_driver.F pol_function/Dipole_shifted_grids.F pol_function/Dipole_transverse.F pol_function/X_os.F real_time/RT_apply_field.F real_time/RT_initialize.F surf/Dipole_driver_cut.F

  Bugs:
  - Fixed compilation problem in mod_parallel.F
  Additions:
  -
  Changes:
  - mod_fields.F moved inside the _RT project:
    "global_gauge" variable is now in mod_X.F
    "grid_path variable" is now in mod_com.F together with the other paths

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3733 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K_Transitions_setup.F bse/K_output_file.F

  Bugs:
  - Drude term in eh-space fixed. Now kerr results are consistent with trunk stable,
    although still a bit different from references in test-suite.
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3703 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K_IP.F bse/K_driver.F bse/K_kerr_IP.F modules/mod_BS.F pol_function/Dipole_dip_dot_field.F pol_function/Dipole_driver.F pol_function/Dipole_transverse.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [yambo_kerr] kerr is working and producing reasonable results, but different from reference

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3701 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel davide. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3699 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc bse collisions/.objects collisions/COLLISIONS_Hartree_Fock.F collisions/COLLISIONS_alloc_and_free.F collisions/COLLISIONS_compose.F collisions/COLLISIONS_eval.F collisions/COLLISIONS_linearize_and_IO.F collisions/COLLISIONS_load.F collisions/PLASMA_build_up.F collisions/PLASMA_parallel_setup.F collisions/PLASMA_tables_and_dimensions.F common modules parallel real_time/RT_Dephasing_step.F real_time/RT_Integrator.F real_time/RT_apply_RWA.F rt_ctl/.objects rt_ctl/RT_OCC_LIFE_and_REF_IO.F rt_ctl/RT_alloc_def_or_free.F rt_ctl/RT_average_operator.F rt_ctl/RT_databases_IO.F rt_ctl/RT_mean_carrier_lifetimes.F rt_ctl/RT_observables.F rt_ctl/RT_occupations_FIT.F rt_ctl/RT_output.F rt_ctl/RT_variables_load.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - merged with devel-davide: fixed bugs introduced in the integrator

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3682 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3678 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-davide. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3677 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bz_ops/bz_samp_indexes.F bz_ops/k_reduce.F interpolate/grid_generator.F ypp/build_kpts_map.F ypp/k_grids.F ypp/symmetries_driver.F

  Bugs:
  - [ypp] symmetries are correctly removed also when there are points on the border of the BZ
          (patch imported from trunk devel)
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3673 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3669 76a4dfbf-5f1f-0410-a543-a0282073b526

- I/O bug due to restart point in X database fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3668 76a4dfbf-5f1f-0410-a543-a0282073b526

- Revision number fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3667 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Andrea Marini]

  *  include/version.inc bse/K.F io/io_DIPOLES.F io/io_elemental.F parallel/PARALLEL_global_indexes.F pol_function/X_em1.F pol_function/X_os.F

  Bugs:
  - Dipoles were not properly written in parallel BSE
  - em1s db was not found by K.F because of the value of io_X now used
    as restart point

  Changes:
  - all definitions of variables incompatibilites in io_elemental updated to the
    corresponding IO integer
  - BS Kernel I/O switched off
  - X_em1 now checks if all q db's have been done

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3666 76a4dfbf-5f1f-0410-a543-a0282073b526

- Barriers to perform rt+e-p removed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3664 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3662 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea and fixed parallelization in XCo_local.
  [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3661 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-trunk. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3658 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3655 76a4dfbf-5f1f-0410-a543-a0282073b526

- Removed spin barriers to RT. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3654 76a4dfbf-5f1f-0410-a543-a0282073b526

- Restart using fragments in X_em1 fixed. Fragments use and modules to
  be revised anyway. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3648 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-davide. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3660 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc bse collisions/.objects collisions/COLLISIONS_Hartree_Fock.F collisions/COLLISIONS_alloc_and_free.F collisions/COLLISIONS_cohsex.F collisions/COLLISIONS_compose.F collisions/COLLISIONS_eval.F collisions/COLLISIONS_linearize_and_IO.F collisions/COLLISIONS_load.F collisions/PLASMA_build_up.F collisions/PLASMA_parallel_setup.F collisions/PLASMA_tables_and_dimensions.F common modules modules/mod_SC.F parallel qp/XCo_local.F rt_ctl/.objects rt_ctl/RT_OCC_LIFE_and_REF_IO.F rt_ctl/RT_alloc_def_or_free.F rt_ctl/RT_average_operator.F rt_ctl/RT_databases_IO.F rt_ctl/RT_mean_carrier_lifetimes.F rt_ctl/RT_observables.F rt_ctl/RT_occupations_FIT.F rt_ctl/RT_output.F rt_ctl/RT_variables_load.F sc/SC_bare_Hamiltonian.F xc_functionals/.objects xc_functionals/XC_libxc_driver.F xc_functionals/el_density_matrix.F xc_functionals/el_magnetization.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Merged with devel-davide: working on _RT for n_spinor>1

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3657 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc bse bz_ops/bz_samp_indexes.F bz_ops/k_reduce.F collisions/.objects collisions/COLLISIONS_Hartree_Fock.F collisions/COLLISIONS_alloc_and_free.F collisions/COLLISIONS_compose.F collisions/COLLISIONS_eval.F collisions/COLLISIONS_linearize_and_IO.F collisions/COLLISIONS_load.F collisions/PLASMA_build_up.F collisions/PLASMA_parallel_setup.F collisions/PLASMA_tables_and_dimensions.F common interpolate/grid_generator.F io/variables_RT.F io/variables_SC.F modules parallel qp/XCo_local.F real_time/RT_Coulomb_interpolation.F_project real_time/RT_EULEREXP_step.F real_time/RT_Integrator.F real_time/RT_apply_RWA.F real_time/RT_initialize.F rt_ctl/.objects rt_ctl/RT_OCC_LIFE_and_REF_IO.F rt_ctl/RT_alloc_def_or_free.F rt_ctl/RT_average_operator.F rt_ctl/RT_databases_IO.F rt_ctl/RT_mean_carrier_lifetimes.F rt_ctl/RT_observables.F rt_ctl/RT_occupations_FIT.F rt_ctl/RT_output.F rt_ctl/RT_variables_load.F ypp/RT_databases.F ypp/RT_transient_absorption.F ypp/build_kpts_map.F ypp/k_grids.F ypp/symmetries_driver.F ypp/ypp_init.F

  MERGED WITH DEVEL DAVIDE

  Bugs:
  - [ypp] removal of symmetries and WFs rotation fixed in case the sampling of the BZ
          contains points on the border of the BZ
  Additions:
  -
  Changes:
  - [yambo_rt] variables_RT fixed
  - [yambo_rt] EXP integrator fixed (more test needed)
  - [ypp_rt]   working on TR-Abs
  - [yambo_rt] parallelization line in XCo_local.F changed to avoid out--of--bounds in serial run.
               However I'm not sure this is the correct fix. Still to be checked

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3653 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K_Haydock.F parallel/PARALLEL_Haydock_VEC_COMMs.F

  Bugs:
  - compilation of yambo fixed
  Additions:
  -
  Changes:
  - Version numbering fixed

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3651 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3645 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3644 76a4dfbf-5f1f-0410-a543-a0282073b526

- Clean-up. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3641 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3640 76a4dfbf-5f1f-0410-a543-a0282073b526

- Few bugs fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3639 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3634 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug-fix in e-p simmetrization. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3628 76a4dfbf-5f1f-0410-a543-a0282073b526

- Small bug-fix. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3624 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3623 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Myrta Gruning]

  *  . ChangeLog modules modules/mod_BS.F bse bse/K_Haydock.F bse/K_dot_product.F bse/K_multiply_by_V.F common parallel parallel/PARALLEL_Haydock_VEC_COMMs.F

  Bugs: Yambo did not compile in parallel after merge with devel-myrta. Cherrypicking merge with r3642 of devel-myrta
  -
  Additions:
  -
  Changes:
  -


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3643 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc + bse collisions/.objects collisions/COLLISIONS_Hartree_Fock.F collisions/COLLISIONS_alloc_and_free.F collisions/COLLISIONS_compose.F collisions/COLLISIONS_eval.F collisions/COLLISIONS_linearize_and_IO.F collisions/COLLISIONS_load.F collisions/PLASMA_build_up.F collisions/PLASMA_parallel_setup.F collisions/PLASMA_tables_and_dimensions.F common interface/init.F interface/init_load.F + io/io_RT_components.F io/variables_RT.F modules modules/SET_defaults.F modules/mod_real_time.F parallel pol_function/Dipole_transverse.F qp/XCo_local.F real_time/.objects real_time/RT_BGR.F real_time/RT_Collision.F + real_time/RT_Integrator.F + real_time/RT_Scattering_step.F real_time/RT_apply_RWA.F real_time/RT_current_AND_polarization.F real_time/RT_driver.F real_time/RT_initialize.F real_time/RT_relaxation.F real_time/RT_start_and_restart.F real_time/RT_update.F rt_ctl/.objects rt_ctl/RT_OCC_LIFE_and_REF_IO.F rt_ctl/RT_alloc_def_or_free.F rt_ctl/RT_average_operator.F rt_ctl/RT_databases_IO.F rt_ctl/RT_mean_carrier_lifetimes.F rt_ctl/RT_observables.F rt_ctl/RT_occupations_FIT.F rt_ctl/RT_output.F rt_ctl/RT_variables_load.F sc/SC_History.F sc/SC_bare_Hamiltonian.F sc/SC_driver.F sc/V_real_space_to_H.F xc_functionals/.objects + ypp/RT_1D_Fourier_Transform.F ypp/RT_X_LRR_real_field.F ypp/RT_X_effective.F ypp/RT_X_inversion.F ypp/RT_X_qssin.F ypp/RT_databases.F ypp/RT_initialize.F ypp/RT_split_Polarization.F ypp/RT_transient_absorption.F + ypp/mod_YPP.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Merged with devel davide:
  1) Removed Thermalization
  2) V_real_space_to_H extendend to the SO case
  3) Working on ypp_rt

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3638 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Myrta Gruning]

  *  common common/Matrix_resolvant_via_perturbative_inversion.F parallel parallel/.objects + modules modules/mod_parallel.F modules/mod_interfaces.F modules/mod_BS.F bse bse/K_stored_in_a_BIG_matrix.F bse/K_multiply_by_V.F bse/.objects bse/K_Haydock.F +

  Bugs:
  -
  Additions:
  -
  Changes: By merging with devel-myrta Haydock matrix_by_vector and dot_product are fully distributed. Note that this solve issue on differences when Haydock was parallel or serial. These were caused by numerical problems. Please refer to MG if you notice anything strange when using BSE. Note that Coupling is disabled.
  -


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3629 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Myrta Gruning]

  *  coulomb/bessel_F2.F bse/K_multiply_by_V.F bse/K_inversion.F xc_functionals/XC_libxc_driver.F common/pol_fit.F

- Merged with devel-andrea. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3609 76a4dfbf-5f1f-0410-a543-a0282073b526

- Minor Bug fixes. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3608 76a4dfbf-5f1f-0410-a543-a0282073b526

- In some configurations of CPU extra 1 in the CPU list was causing
  problems. Removed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3606 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-trunk. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3605 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-trunk. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3586 76a4dfbf-5f1f-0410-a543-a0282073b526

- QED self-energy cleaned-up and properly parallelized. Also messages
  cleaned-up. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3532 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-pedro. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3531 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-trunk. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-pedro@3530 76a4dfbf-5f1f-0410-a543-a0282073b526

- Testing parallel runs. [Pedro Melo]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-pedro@3521 76a4dfbf-5f1f-0410-a543-a0282073b526

- Corrected numerical pre-factors. [Pedro Melo]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-pedro@3519 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug found in the polarisaton versors. Corrected. Checking for errors
  in the pre-factors. [Pedro Melo]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-pedro@3498 76a4dfbf-5f1f-0410-a543-a0282073b526

- Some more brain/code storming. Added parallel support. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-pedro@3496 76a4dfbf-5f1f-0410-a543-a0282073b526

- Debuggin process. Some factors corrected. Added correct dependence on
  1/Photon_E(q). [Pedro Melo]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-pedro@3495 76a4dfbf-5f1f-0410-a543-a0282073b526

- Debugging - something is not working in the bosonic ocupations. [Pedro
  Melo]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-pedro@3473 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug corrected. Uses eval_gradient instead of doing it in the
  subroutine QED_Sigma_c.F. [Pedro Melo]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-pedro@3460 76a4dfbf-5f1f-0410-a543-a0282073b526

- Searching a bug. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-pedro@3459 76a4dfbf-5f1f-0410-a543-a0282073b526

- Integrals and evaluation of the electron-photon self-energy added.
  [Pedro Melo]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-pedro@3458 76a4dfbf-5f1f-0410-a543-a0282073b526

- Added ingredients. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-pedro@3443 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Pedro Melo]

  *  config/configure.ac configure include/version.inc qp/QED_Sigma_c.F qp/QED_polarization_vectors.F

  Bugs:
  QED_Sigma_c.F - Indexes in the WF%c() where in the wrong order when evaluating the integral. Fixed.

  Additions:
  Added the evaluation of the derivative of the state (i_m,i_p,i_p_s) and it's projection over the state (i_n,i_k,i_k_s).
  Added the first part of the sum that will give the contribution to the Self-energy. Still incomplete as I need to now how to call some variables.

  Patch sent by: pedro


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-pedro@3439 76a4dfbf-5f1f-0410-a543-a0282073b526

- Missing files. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-pedro@3432 76a4dfbf-5f1f-0410-a543-a0282073b526

- Added ingredients to QED_Sigma_c. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-pedro@3431 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-pedro@3430 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Andrea Marini]

  *  config/configure.ac configure driver/yambo.h include/version.inc lib/libxc/configure interface/barriers.F interface/init.F interface/init_load.F modules/.objects modules/mod_drivers.F modules/mod_global_XC.F pol_function/Dipole_transverse.F qp/.objects qp/ELPH_Sigma_c.F + moved qp/QED_dipole.F moved qp/QED_dipole.F~ qp/QED_pol_comp.F moved + moved qp/QP_descriptions.F qp/QP_driver.F qp/QP_newton.F

  Additions:
  - Added input variables, logicals and path to the el-photon Self-Energy calculation

  Patch sent by: Andrea & Pedro


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-pedro@3429 76a4dfbf-5f1f-0410-a543-a0282073b526

- Added a subroutine to evaluate the components of the polarisation's
  versors QED_pol_comp.F. Added the subroutine that will evaluate the
  contribution to the self-energy due to the electron-photon
  interaction. Work in progress. [Pedro Melo]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-pedro@3428 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Pedro Melo]

  *  config/Makefile.in config/configure.ac configure driver/driver.c include/version.inc sbin/yamboo.pl interface/init.F

  Bugs:
  -
  Additions:
  -yambo_qed project created;
  -
  Changes:
  -
  Patch sent by: pedro


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-pedro@3411 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Andrea Ferretti]

  *  . AUTHORS bin config config/Makefile.in config/acx_fortran_flags.m4 config/acx_mpi.m4 config/configure.ac + config/fftw.m4 config/netcdf_f90.m4 config/setup.in configure driver include include/version.inc a2y c2y e2y int_modules p2y lib lib/blas/.objects + lib/local lib/slatec sbin sbin/make_makefile.sh.in acfdt bse bz_ops collisions collisions/.objects collisions/COLLISIONS_Hartree_Fock.F collisions/COLLISIONS_alloc_and_free.F collisions/COLLISIONS_cohsex.F collisions/COLLISIONS_compose.F collisions/COLLISIONS_eval.F collisions/COLLISIONS_linearize_and_IO.F collisions/COLLISIONS_load.F collisions/PLASMA_build_up.F collisions/PLASMA_parallel_setup.F collisions/PLASMA_tables_and_dimensions.F common communicate coulomb external_c interface interface/init.F interface/init_load.F interpolate io io/io_QP.F modules modules/SET_defaults.F modules/mod_BS.F modules/mod_FFT.F modules/mod_QP.F modules/mod_X.F modules/mod_collision.F modules/mod_interfaces.F modules/mod_memory.F modules/mod_openmp.F modules/mod_timing.F modules/mod_wave_func.F parallel parallel/PARALLEL_get_user_structure.F parallel/PARALLEL_global_indexes.F parallel/PARALLEL_structure.F parser pol_function pol_function/X_os.F qp qp/QP_driver.F qp/QP_ppa_EET_terminator.F qp/QP_ppa_cohsex.F qp/XCo_local.F qp_ctl real_time rt_ctl/.objects rt_ctl/RT_OCC_LIFE_and_REF_IO.F rt_ctl/RT_alloc_def_or_free.F rt_ctl/RT_average_operator.F rt_ctl/RT_databases_IO.F rt_ctl/RT_mean_carrier_lifetimes.F rt_ctl/RT_observables.F rt_ctl/RT_occupations_FIT.F rt_ctl/RT_output.F rt_ctl/RT_variables_load.F sc sc/OEP_app_inversion.F sc/OEP_exact_inversion.F setup setup/PARALLEL_and_IO_Setup.F surf surf_modules tddft wf_and_fft wf_and_fft/.objects wf_and_fft/WF_derivative.F wf_and_fft/WF_load.F wf_and_fft/eval_R_minus_R.F wf_and_fft/fft_3d_fftw.F + wf_and_fft/fft_3d_sg.F + wf_and_fft/fft_setup.F wf_and_fft/scatter_Bamp.F xc_functionals xc_functionals/XC_libxc_driver.F ydb ypp

  Bugs:
  - FFTQE complains from time to time. Init has to be made more robust
  Additions:
  - Interface to FFT from quantum-espresso (FFTQE)
  - G terminator scheme makde working again
  - OMP support further implemented
  Changes:
  - though FFT interfaces are the same, -1 and +1 directions are no longer equivalent
    when using FFTQE. scatter_bamp changed accordingly.


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3594 76a4dfbf-5f1f-0410-a543-a0282073b526

- No need to keep the explicit nullify statements once => null() inits
  are already implemented in derived types. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3587 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Myrta Gruning]

  *  bse/K_WF_phases.F

  Bugs: K_WF_phases.F did not compile with --enable-dp
  -
  Additions:
  -
  Changes:
  -


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3585 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . config/Makefile.in config/configure.ac configure driver/ypp.h include/version.inc bse/K.F bse/K_driver.F bz_ops/k_the_nearest.F collisions/COLLISIONS_Hartree_Fock.F collisions/COLLISIONS_alloc_and_free.F collisions/COLLISIONS_cohsex.F common/Fermi_fnc_fit.F common/OCCUPATIONS_Fermi.F interface/init_load.F interpolate/eval_interpolation_coeff.F io/.objects io/io_DB1_selective_scan.F io/io_DIPOLES.F io/io_RIM_E_and_k.F io/io_RT_components.F + io/variables_SC.F modules/.objects modules/SET_defaults.F + modules/mod_R_lattice.F modules/mod_SC.F modules/mod_electrons.F modules/mod_real_time.F parallel/PARALLEL_WF_distribute.F parallel/PARALLEL_global_indexes.F pol_function/Dipole_dip_dot_field.F pol_function/Dipole_driver.F pol_function/Dipole_transverse.F pol_function/X_s.F qp_ctl/.objects + qp_ctl/OCCUPATIONS_IO_and_interpolate.F qp_ctl/QP_apply_DB_interpolation.F qp_ctl/mod_QP_CTL.F real_time/.objects real_time/RT_BGR.F real_time/RT_Collision.F real_time/RT_Coulomb_relaxation.F real_time/RT_ELPH_CCA_Kernel.F real_time/RT_Fluence.F real_time/RT_G_retarded_EP_initialize.F real_time/RT_INTERPOLATED_step.F real_time/RT_Integrator.F real_time/RT_Lifetimes_evaluation_plan.F real_time/RT_Lifetimes_merge.F real_time/RT_Lifetimes_save_and_interp.F real_time/RT_Lifetimes_use_delta_Occupations.F real_time/RT_apply_RWA.F real_time/RT_average_operator.F real_time/RT_current_AND_polarization.F real_time/RT_databases_IO.F real_time/RT_driver.F real_time/RT_impose_zero_dE_and_dN.F real_time/RT_initialize.F real_time/RT_k_grid.F real_time/RT_manual_excitation.F real_time/RT_mean_carrier_lifetimes.F real_time/RT_observables.F real_time/RT_occupations_FIT.F real_time/RT_output.F real_time/RT_propagate_fields.F real_time/RT_relaxation.F real_time/RT_start_and_restart.F + sc/SC_add_XC.F sc/SC_bare_Hamiltonian.F sc/SC_driver.F setup/QP_external_corrections.F ypp/.objects ypp/RT_X_LRR_real_field.F ypp/RT_X_effective.F ypp/RT_X_qssin.F ypp/RT_check_RIM.F ypp/RT_databases.F ypp/RT_initialize.F ypp/RT_occ_check_and_load_ref.F ypp/RT_occupations_FIT_and_plot.F ypp/RT_occupations_analyze.F ypp/RT_split_Polarization.F + ypp/electrons_bands.F ypp/electrons_dos_and_charge.F ypp/electrons_driver.F ypp/excitons_driver.F ypp/excitons_sort_and_report.F ypp/k_map_fine_to_coarse.F ypp/mod_YPP.F ypp/ypp_i.F ypp/ypp_init.F ypp/ypp_init_load.F


       MERGED WITH DEVEL DAVIDE

  - [yambo_sc & yambo_rt] The _SC project and its subroutine are now independent from the _RT project.
                          All _RT variables which were defined inside the _SC module are now in the _RT modules
  - [yambo_rt] The _RT project variables are now divided between the real_time and the rt_ctl folders.
               Also there is a mod_real_time.F and a mod_RT_CTL.F and an rt kind has been dfined
  - [ypp_rt] Transient absorption and transient reflectivity implemented (ypp_rt -t a)
             In the same spirit of the time-dependent DOS [EXPERIMENTAL]
  - [yambo & yambo_rt] The nearest neighbor interpolation present in the QP_apply_DB_interpolation
                       has been made more general and moved in a new subroutine, Nearest_kpt_interpolation.
                       It is called both by QP_apply_DB_interpolation and some subroutines in ypp_rt
   - Few bug fixes
   - Projects: yambo magnetic is marked as devel; yambo_kerr, yambo_surf and ypp_surf are marked as broken


  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3581 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc collisions/COLLISIONS_alloc_and_free.F collisions/COLLISIONS_load.F modules/mod_memory.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Previous commit was wrong. Error in memory estimation dimension was due to a wrong use of mem_est subroutine.
    mem_est subroutine upgraded to deal with many elements allocated and associated with the same string

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3571 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  devel devel/config/configure.ac devel/configure devel/include/version.inc devel/collisions/COLLISIONS_load.F devel/sc/MAG_common_build_A.F devel/ypp/electrons_dos_and_charge.F stable/sc/MAG_common_build_A.F of conflicts:

  Bugs:
  - [yambo_magnetic] fixed SPEED_OF_LIGHT factor (both devel and stable)
  - [yambo_rt]       fixed mem_est for collisions
  Additions:
  -
  Changes:
  - merged trunk devel with trunk stable (spin projected dos implemented for n_spinor=2)

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3570 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K_blocks.F

  Bugs:
  - [yambo] fixed error introduced with recent commit in BSE parallelizzation
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3569 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.1. [Davide Sangalli]

  *  devel/wf_and_fft/WF_load.F stable/config/configure.ac stable/configure stable/include/version.inc stable/wf_and_fft/WF_load.F stable/ypp/electrons_dos_and_charge.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - if nspinor=2 Dos can be projected along +S_z and -S_z (trunk/stabel)
  - FFT message switched off if WFs are loaded kpt by kpt (both trunk stable and trunk devel)

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3565 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc ypp/k_map_fine_to_coarse.F

  Bugs:
  - [ypp] %s_table had not been moved to %k_table in ypp/k_map_fine_to_coarse.F
    after renaming of tables in mod_R_lattice
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3562 76a4dfbf-5f1f-0410-a543-a0282073b526

- Revision updated. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3555 76a4dfbf-5f1f-0410-a543-a0282073b526

- Openmp bug (?) fixed in X (isc was not properly reset by
  collision_reset). Not sure this bug is related to the intel openmp
  implementation or to the openmp standard. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3554 76a4dfbf-5f1f-0410-a543-a0282073b526

- Correct small bug fix. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3548 76a4dfbf-5f1f-0410-a543-a0282073b526

- Small bug fix. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3547 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc p2y/qexml_v4.0.F bse/K_stored_in_a_BIG_matrix.F pol_function/Dipole_driver.F pol_function/O_select_q_and_G.F ypp/excitons_driver.F ypp/ypp_init.F ypp/ypp_init_load.F

  Bugs:
  - [yambo] O_select_q_and_G.F: bug fix for calculations of EELS with q-vectors out of the BZ (imported from trunk stable)
  - [yambo] K_stored_in_a_BIG_matrix.F: BSE with fractional occupations fixed for the diagonalization solver
  - [p2y]   The code was writing of a non allocated vector in case the PP was without non local components (imported from trunk stable)
  Additions:
  -
  Changes:
  - [ypp] Contribution to each excitations can be weighted with dipoles. (imported from trunk stable)

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3545 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.1. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc p2y/qexml_v4.0.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Avoids that p2y trys to write on the component of a vector of dimension zero
    when a pseudo-potential does not have non-local components

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3544 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug in cohsex when TR is not presented corrected. [Daniele Varsano]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3540 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K_Transitions_setup.F bse/K_blocks.F parallel/PARALLEL_Transitions_grouping.F

  Bugs:
  - Fixed out of bounds in reading for BSE parallelization
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3538 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc real_time/RT_ELPH_total_Kernel.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [yambo_rt] restored checks on negative phonon frequencies

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3537 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel davide. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3535 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K_driver.F sc/MAG_H_pseudo.F setup/QP_external_corrections.F

  Bugs:
  - Fixed number revisioning
  - [yambo_magnetic] Fixed renaming of io_KB_* functions also in yambo_mangetic
  - [yamob_sc] calls to OCCUPATIONS_IO_and_interpolate only in yambo_rt
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3533 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3528 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-trunk and fixed a bug in ypp_ph for reading
  frequencies for a number of modes greater than 6. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3527 76a4dfbf-5f1f-0410-a543-a0282073b526

- SwitchOnTime removed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3518 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-trunk. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3517 76a4dfbf-5f1f-0410-a543-a0282073b526

- Added reference files to mean lifetimes. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3507 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3504 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk/devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3494 76a4dfbf-5f1f-0410-a543-a0282073b526

- Minor bugs fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3488 76a4dfbf-5f1f-0410-a543-a0282073b526

- Haydock working. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3486 76a4dfbf-5f1f-0410-a543-a0282073b526

- Small bugs fixed. BSE test-suite ok. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3484 76a4dfbf-5f1f-0410-a543-a0282073b526

- Several small bug fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3483 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-trunk. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3481 76a4dfbf-5f1f-0410-a543-a0282073b526

- Git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-
  devel/branches/devel-andrea@3480 76a4dfbf-5f1f-0410-a543-a0282073b526.
  [Andrea Marini]

- Version 4.0.0. [Andrea Marini]

  *  include/version.inc a2y/a2y_i.F c2y/c2y_i.F e2y/e2y_i.F p2y/PP_PWscf_driver.F p2y/p2y_i.F acfdt/acfdt_tot_energy.F bse/.objects bse/K.F bse/K_BSload_diag.F moved bse/K_BSmat_by_V.F moved bse/K_Haydock.F bse/K_IP.F bse/K_blocks.F bse/K_diagonalization.F bse/K_driver.F bse/K_inversion.F bse/K_kerr_IP.F + moved + moved bse/K_solvers.F bse/K_stored_in_a_BIG_matrix.F bz_ops/bz_samp_indexes.F collisions/COLLISIONS_cohsex.F common/.objects + moved + moved common/full_inversion.F moved common/pert_inversion.F moved communicate/section.F coulomb/col_driver.F coulomb/cutoff_driver.F interface/init.F interface/init_load.F io/.objects io/ioBS.F moved io/ioBSS_Haydock.F moved io/ioBSS_diago.F moved io/ioBSS_invert.F moved io/ioBS_Fxc.F moved io/ioCOL_CUT.F moved io/ioDB1.F moved io/ioDB1_selective_scan.F moved io/ioELPH.F moved io/ioGROT.F moved io/ioKB_abinit.F moved io/ioKB_pwscf.F moved io/ioQINDX.F moved io/ioQP.F moved io/ioRIM.F moved io/ioWF.F moved io/ioX.F moved + moved + moved + moved + moved + moved + moved + moved + moved + moved + moved + moved + moved + moved + moved + moved + moved + moved modules/SET_defaults.F modules/SET_logicals.F modules/mod_BS.F modules/mod_IO.F modules/mod_TDDFT.F modules/mod_wave_func.F parallel/PARALLEL_Transitions_grouping.F parallel/PARALLEL_global_indexes.F parallel/PARALLEL_index.F pol_function/Dipole_kb_init.F pol_function/Dipole_shifted_grids.F pol_function/Dipole_transverse.F pol_function/X_em1.F pol_function/X_os.F pol_function/X_s.F qp/ELPH_Hamiltonian.F qp/ELPH_Sigma_c.F qp/QP_driver.F qp/QP_ppa_cohsex.F qp/QP_real_axis.F qp/QP_report_and_write.F qp/QP_secant.F qp_ctl/OCCUPATIONS_IO_and_interpolate.F qp_ctl/QP_load_DB.F real_time/RT_ELPH_initialize.F sc/OEP_ApplySigmaCSX.F sc/SC_driver.F setup/G_shells_finder.F setup/PARALLEL_and_IO_Setup.F tddft/TDDFT_BSK_2_FXC.F tddft/TDDFT_BSK_disk_2_FXC.F tddft/TDDFT_do_X_W_typs.F wf_and_fft/WF_load.F ypp/ELPH_atomic_amplitude.F ypp/ELPH_databases.F ypp/ELPH_eliashberg_dos.F ypp/ELPH_excitonic_gkkp.F ypp/ELPH_general_gFsq.F ypp/QP_DBs_initialize.F ypp/QP_DBs_merge.F ypp/QP_DBs_setup.F ypp/WANNIER_driver.F ypp/excitons_driver.F ypp/excitons_non_collinear.F ypp/excitons_sort_and_report.F ypp/fix_PPs.F ypp/fix_WFs_and_E.F ypp/k_map_fine_to_coarse.F ypp/k_random.F ypp/ypp_i.F

  Bugs:
  - In K_IP for k memory distribution.
  - In PARALLEL_Transitions_grouping. Now k distribution is working.
  - In PARALLEL_index 2D distribution.

  Additions:
  - OPENMP wrapper when possible.

  Changes:
  - Global renaming of some io and K-related routines.
  - K diagonalization and invertion now working by mapping new structure in old
    structure kept only for solver purposes.
  - io_X logical -> io_RESPONSE

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3479 76a4dfbf-5f1f-0410-a543-a0282073b526

- BGR now working properly. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3472 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc interface/init.F parallel/PARALLEL_global_indexes.F

  Bugs:
  - [yambo_sc] Bug in sc parallelization fixed
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3523 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc sc/MAG_H_pseudo.F sc/SC_start_and_restart.F sc/XC_switch.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - yambo_magnetic compiles

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3522 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.1. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc ypp/excitons_driver.F

  Bugs:
  - Fixed bug in computation of excitons weight with DipWeight option
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3520 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . ChangeLog config/configure.ac configure include/version.inc bz_ops/k_the_nearest.F common/spline_fit.F io/io_RIM_E_and_k.F_project io/io_RT_components.F qp_ctl/QP_apply_DB_interpolation.F real_time/RT_ELPH_initialize.F real_time/RT_output.F ypp/electrons_bands.F ypp/electrons_dos_and_charge.F ypp/electrons_driver.F ypp/k_map_fine_to_coarse.F_project ypp/mod_YPP.F ypp/ypp_init.F ypp/ypp_init_load.F

  Bugs:
  -
  Additions:
  -
  Changes:
  ** merged with devel davide. **
  - Some bug fix
  - improvements to ypp_rt (dos and occupations interpolation on band-structure)
  - removed .F_project files: io_RIM_E_and_k.F_project and k_map_fine_to_coarse.F_project

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3515 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3503 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . config/configure.ac include/version.inc modules/SET_defaults.F real_time/RT_Integrator.F real_time/RT_Lifetimes_save_and_interp.F real_time/RT_Lifetimes_use_delta_Occupations.F + + real_time/RT_mean_carrier_lifetimes.F real_time/RT_output.F real_time/RT_relaxation.F

  Bugs:
  -
  Additions:
  -
  Changes:
  ** Merged with devel-davide **
  - Few bug fixes
  - Fixed spin_occ in RT_relaxation

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3502 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bad omp syntax fixed. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3493 76a4dfbf-5f1f-0410-a543-a0282073b526

- M_by_V wrapper provided with explicit omp support. external routines
  to be moved from src/modules. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3492 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  include/version.inc interface/init.F interface/init_load.F io/variables_SC.F modules/mod_real_time.F real_time/RT_Lifetimes_Interpolation.F real_time/RT_Lifetimes_evaluation_plan.F real_time/RT_Lifetimes_save_and_interp.F real_time/RT_SET_lifetimes_evaluation_plan.F real_time/RT_initialize.F sc/XC_switch.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Interpolations variables renamed RT_life_interp_* instead of RT_dynamics_*
    plus few small fix

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3478 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  include/version.inc real_time/RT_Collision.F real_time/RT_Integrator.F real_time/RT_Lifetimes_Interpolation.F real_time/RT_impose_zero_dE_and_dN.F real_time/RT_observables.F

  Bugs:
  - fixed small bug l_sc_ip: RT_output was calling V_real_space_to_H
  - fixed bug introduced renaming G_old, G_new with dG_in dG_out in RT_integrator.
    Now polarization is correct
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3476 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.1. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc pol_function/O_select_q_and_G.F

  Bugs:
  - [yambo]: yambo -o c calculations with q=0 out of the fist IBZ where wrong
             Bug pointed out by P. Cudazzo. There are still problems on metals however
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3475 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  include/version.inc modules/mod_real_time.F real_time/RT_Collision.F real_time/RT_Scattering_step.F real_time/RT_driver.F real_time/RT_observables.F real_time/RT_relaxation.F real_time/RT_start_and_restart.F real_time/RT_update.F sc/SC_bare_Hamiltonian.F

  Bugs:
  - removed ".false." input variable from call to el_density_matrix
  Additions:
  -
  Changes:
  - Now XC0_and_HARTREE0 always store the equilibrium Hartree and XCpotential
    A lot of useless code lines/comments have been removed from RT_start_and_restart.
    However it is still a bit stupid because SC_bare_hamiltonian removes
    V_Hartree[rho0] and V_xc[rho0] and then RT collision has to sum again
    them to Ho_plus_sigma again at each iteration ...
  - rho_full and rho_reference merged in rho_reference

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3474 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  include/version.inc modules/mod_real_time.F real_time/RT_Dephasing_Matrix.F real_time/RT_Scattering_step.F real_time/RT_apply_RWA.F real_time/RT_relaxation.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [YAMBO_RT] EXP integrator for scattering is applyed only if l_RT_RWA=.true.
               otherwise Polarization is not dephased

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3471 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3470 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Andrea Marini]

  *  modules/mod_real_time.F real_time/RT_Collision.F real_time/RT_Integrator.F real_time/RT_Scattering_step.F real_time/RT_apply_zero_dyn.F real_time/RT_driver.F real_time/RT_initialize.F real_time/RT_start_and_restart.F

  Bugs:
  - Several small bugs due to the merging procedure fixed.

  Changes:
  - Several unused variables removed from real_time.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3469 76a4dfbf-5f1f-0410-a543-a0282073b526

- Clean-Up and small changes. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3466 76a4dfbf-5f1f-0410-a543-a0282073b526

- Logicals updated and renamed in yambo_rt. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3465 76a4dfbf-5f1f-0410-a543-a0282073b526

- Few bugs fixed. Not yambo_rt compiles. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3464 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. Source not working. Many merging-bugs introduced.
  [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3463 76a4dfbf-5f1f-0410-a543-a0282073b526

- Better distribution of Block diagonal. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3462 76a4dfbf-5f1f-0410-a543-a0282073b526

- BSE now working. Both in serial and in parallel. Still the
  distribution of the transition blocks seems not equilibriated enough.
  [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3461 76a4dfbf-5f1f-0410-a543-a0282073b526

- Parallel ALDA working. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3457 76a4dfbf-5f1f-0410-a543-a0282073b526

- ALDA in T space working. Serial only. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3456 76a4dfbf-5f1f-0410-a543-a0282073b526

- Diagonalization working. Kernel build-up in parallel working (Hartree
  level) [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3455 76a4dfbf-5f1f-0410-a543-a0282073b526

- Blocks used to fill a single BIG matrix to be used in diagonalization.
  Still unstable results. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3451 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug fix in parallel dipoles distribution. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3449 76a4dfbf-5f1f-0410-a543-a0282073b526

- New parallel structure for BSE set-up. IP working. Now moving to
  scattering. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3448 76a4dfbf-5f1f-0410-a543-a0282073b526

- New parallel structure added. Transition groups distributed.
  Scattering still to do. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3447 76a4dfbf-5f1f-0410-a543-a0282073b526

- Temporary commit. Strategy under change. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3446 76a4dfbf-5f1f-0410-a543-a0282073b526

- Exchange oscillators added. Not turning k distribution from BZ to IBZ
  to use internal symmetries. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3442 76a4dfbf-5f1f-0410-a543-a0282073b526

- Few bugs fixed. Started the Main loop. Oscillators todo. [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3437 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Andrea Marini]

  *  include/version.inc bse/K_IP.F bse/K_Transition_group_index.F bse/K_Transitions_setup.F bse/K_driver.F interface/init.F interface/init_load.F io/io_DIPOLES.F modules/mod_BS.F modules/mod_IO.F modules/mod_parallel.F parallel/PARALLEL_global_indexes.F

  Bugs:
  - Several bugs fixed. Still parallel distribution of dipoles not working.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3433 76a4dfbf-5f1f-0410-a543-a0282073b526

- IP (transition space) now works in serial and in parallel. Still
  intensity problem in parallel to solve. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3427 76a4dfbf-5f1f-0410-a543-a0282073b526

- Transitions structure and groups distribution and filling completed.
  [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3426 76a4dfbf-5f1f-0410-a543-a0282073b526

- BSE coding started. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3419 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3418 76a4dfbf-5f1f-0410-a543-a0282073b526

- Minor changes. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3417 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Andrea Marini]

  *  include/version.inc common/OCCUPATIONS_Gaps.F modules/mod_interfaces.F modules/mod_real_time.F real_time/RT_BGR.F real_time/RT_apply_RWA.F real_time/RT_driver.F real_time/RT_output.F sc/SC_bare_Hamiltonian.F

  Changes:
  - BGR components fixed. Now it is complete (at least in the diagonal approximation)

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3410 76a4dfbf-5f1f-0410-a543-a0282073b526

- BGR output created. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3405 76a4dfbf-5f1f-0410-a543-a0282073b526

- Minor bug in RT fixed (%Efermi should not be used) and now BGR
  (Hartree and V_xc) is working. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3403 76a4dfbf-5f1f-0410-a543-a0282073b526

- Minor bug in RT fixed (%Efermi should not be used) and now BGR
  (Hartree and V_xc) is working. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3402 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3400 76a4dfbf-5f1f-0410-a543-a0282073b526

- Devel-margherita added. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3395 76a4dfbf-5f1f-0410-a543-a0282073b526

- Added TIME to swicth-off the e-e scattering. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3394 76a4dfbf-5f1f-0410-a543-a0282073b526

- BGR implemented (local potential level). Numbers to check. [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3391 76a4dfbf-5f1f-0410-a543-a0282073b526

- Time for siwtching on the dN conservation in the e-e channel added.
  [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3390 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Andrea Marini]

  *  config/configure.ac configure include/version.inc io/Fragments_Synchronize.F io/variables_SC.F modules/SET_defaults.F modules/mod_drivers.F modules/mod_real_time.F modules/mod_xc_functionals.F qp/QP_ppa_cohsex.F real_time/.objects real_time/RT_BGR.F real_time/RT_Collision.F real_time/RT_ELPH_total_Kernel.F real_time/RT_Integrator.F real_time/RT_driver.F real_time/RT_initialize.F real_time/RT_observables.F real_time/RT_relaxation.F real_time/RT_start_and_restart.F real_time/RT_update.F sc/SC_Energy.F sc/SC_add_XC.F xc_functionals/XC_potential_driver.F


  Additions:
  - Added DB name to fragment syncronization message
  - Added more logicals and variables to variables_SC (to be used by io_RT_components)
  - Band-gap renormalization flag and routine (to be tested)

  Changes:
  - Renamed G_lesser in dG_lesser all over
  - Renamed full_rho in rho_full
  - Io mute and un-mute embodied in XC_potential_driver interface

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3389 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug in Q-parallelization when using RIM integration of q-divergence
  fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3388 76a4dfbf-5f1f-0410-a543-a0282073b526

- Changed default value of RIM_EE_percent. Fixed bug in
  RT_mean_carrier_lifetimes. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3387 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug-fix. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3386 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Andrea Marini]

  *  . config/configure.ac configure include/version.inc int_modules/mod_xc2y.F modules/mod_interpolate.F modules/mod_real_time.F real_time/RT_Collision.F real_time/RT_DEPHASING_step.F real_time/RT_ELPH_initialize.F real_time/RT_ELPH_total_Kernel.F real_time/RT_EULEREXP_step.F real_time/RT_Integrator.F real_time/RT_Lifetimes_Interpolation.F real_time/RT_Lifetimes_evaluation_plan.F real_time/RT_Lifetimes_save_and_interp.F real_time/RT_apply_field.F real_time/RT_build_U1_and_U2.F real_time/RT_observables.F real_time/RT_output.F real_time/RT_propagate_fields.F real_time/RT_relaxation.F real_time/RT_start_and_restart.F sc/V_qp_basis_to_H.F ypp/RT_occupations_analyze.F ypp/electrons_bands.F ypp/excitons_driver.F

  Additions:
  - Integration of I_relax_dyn implemented using the time dependence of the lifetimes are
    resulting from the interpolation technique

  Changes:
  - Merged with trunk-devel
  - Sigma_relax splitted in I_relax_static and I_relax_dyn.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3383 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Andrea Marini]

  *  . config/configure.ac configure include/version.inc int_modules/mod_xc2y.F modules/mod_interpolate.F modules/mod_real_time.F real_time/RT_Collision.F real_time/RT_DEPHASING_step.F real_time/RT_ELPH_initialize.F real_time/RT_ELPH_total_Kernel.F real_time/RT_EULEREXP_step.F real_time/RT_Integrator.F real_time/RT_Lifetimes_Interpolation.F real_time/RT_Lifetimes_evaluation_plan.F real_time/RT_Lifetimes_save_and_interp.F real_time/RT_apply_field.F real_time/RT_build_U1_and_U2.F real_time/RT_observables.F real_time/RT_output.F real_time/RT_propagate_fields.F real_time/RT_relaxation.F real_time/RT_start_and_restart.F sc/V_qp_basis_to_H.F ypp/RT_occupations_analyze.F ypp/electrons_bands.F ypp/excitons_driver.F

  Additions:
  - Integration of I_relax_dyn implemented using the time dependence of the lifetimes are
    resulting from the interpolation technique

  Changes:
  - Merged with trunk-devel
  - Sigma_relax splitted in I_relax_static and I_relax_dyn.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3382 76a4dfbf-5f1f-0410-a543-a0282073b526

- RIM integrals used for e-p Lifetimes stored in restart database. Bug
  fixed in q-distribution. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3355 76a4dfbf-5f1f-0410-a543-a0282073b526

- Removed fake opening of l_stderr. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3353 76a4dfbf-5f1f-0410-a543-a0282073b526

- Dead branches clean-up. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3352 76a4dfbf-5f1f-0410-a543-a0282073b526

- Mean lifetimes evaluated adding the reference values. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3348 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-trunk. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3345 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc interface/init_load.F io/io_RT_components.F real_time/RT_ELPH_CCA_Kernel.F real_time/RT_ELPH_initialize.F real_time/RT_ELPH_total_Kernel.F real_time/RT_Integrator.F real_time/RT_Lifetimes_evaluation_plan.F

  Bugs:
  - Fixed errors due to wrong merge
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3453 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . ChangeLog config/configure.ac configure driver/ypp.h include/version.inc bse/K_Haydock.F bse/K_inversion.F + + + communicate/REPORT_Energies.F + interface/init.F interface/init_load.F interpolate/bz_interp_coeff.F interpolate/fourier_interpolation.F + + io/io_RT_components.F io/variables_SC.F modules/SET_defaults.F modules/mod_R_lattice.F modules/mod_drivers.F modules/mod_functions.F modules/mod_global_XC.F modules/mod_interpolate.F + modules/mod_real_time.F pol_function/O_driver.F qp_ctl/OCCUPATIONS_IO_and_interpolate.F qp_ctl/QP_apply_global_stretch.F real_time/.objects real_time/RT_Collision.F + real_time/RT_Coulomb_relaxation.F real_time/RT_DEPHASING_step.F real_time/RT_Dephasing_Matrix.F real_time/RT_ELPH_CCA_Kernel.F real_time/RT_EULEREXP_step.F real_time/RT_EULER_step.F real_time/RT_Fluence.F + real_time/RT_G_retarded_convolution.F real_time/RT_Integrator.F real_time/RT_Lifetimes_Interpolation.F real_time/RT_Lifetimes_evaluation_plan.F + real_time/RT_Lifetimes_save_and_interp.F real_time/RT_Lifetimes_use_delta_Occupations.F + + real_time/RT_apply_RWA.F + real_time/RT_average_operator.F real_time/RT_driver.F + real_time/RT_initialize.F real_time/RT_k_grid.F real_time/RT_mean_carrier_lifetimes.F real_time/RT_observables.F + real_time/RT_occupations_FIT_and_lock.F real_time/RT_output.F real_time/RT_relaxation.F real_time/RT_start_and_restart.F sc/SC_Energy.F sc/SC_add_XC.F sc/SC_driver.F sc/XC_switch.F ydb/ydb_i.F ypp/.objects + + ypp/RT_occupations_FIT.F + ypp/RT_occupations_analyze.F ypp/RT_occupations_check.F ypp/RT_occupations_repair.F ypp/electrons_bands.F ypp/electrons_dos_and_charge.F ypp/electrons_driver.F + + ypp/k_random.F ypp/mod_YPP.F ypp/ypp_i.F ypp/ypp_init.F ypp/ypp_init_load.F

  Bugs:
  -
  Additions:
  -
  Changes:
                               *** MERGED WITH DEVEL-DAVIDE ***

  - [yambo_rt] Many changes to the integrators:
               * RWA is applied in the simplest way and now includes also the dephasing part
               * new integrator Heun
               * RT_DEPAHSING_step erased. Replaced by RT_scattering_step, which now also contains
                 the EXP mode. However still to be tested / improved
  - [yambo_rt] Logicals changed. Now the kind of RT run is controlled by Potential="***"
               Logicals are set up in src/sc/XC_switch.F as for the SC run.
               Can be: IP / HARTREE / DFT / COHSEX
  - [ypp_rt]   Some subroutines are renamed, fixed support for RIM and restored RT_dos implementation
  - [ypp]      Random grid generator and mapping fine grid to coarse grid are now two separate subroutines
  - [ypp]      The factor to decide the number of shell for the bands interpolation can now be changed in input



  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3450 76a4dfbf-5f1f-0410-a543-a0282073b526

- BUG FIX: COH term in COHSEX in presence of TR. [Daniele Varsano]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3435 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.1. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc pol_function/Dipole_driver.F ypp/excitons_driver.F ypp/ypp_init.F ypp/ypp_init_load.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [YPP] Computing the contribution of each transition to a pole of the BSE (amplitude)
          it is now possible to chose wheter to use:
          A) Only the BSE eigenvectors: this gives the contribution to the poles of
             the density-density reponse function
          B) The BSE eigenvectors weighted with the dipoles: this gives the contribution
             to the poles of the dielectric function in the direction used to compute it

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3424 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk stable. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3416 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.1. [Davide Sangalli]

  *  configure include/version.inc p2y/qexml_v4.0.F config/configure.ac

  Bugs:
  - [p2y] units were not properly opened and closed with iotk_open and iotk_close calls
          or open(unit) and close(unit). Calls were  mixed before giving problems ...

  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3415 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with branch devel-pedro. [Pedro Melo]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3409 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Pedro Melo]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-pedro@3408 76a4dfbf-5f1f-0410-a543-a0282073b526

- New branch for Pedro Melo added. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-pedro@2722 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc

  Bugs:
  -
  Additions:
  -
  Changes:
  - Fix for the configure moved in configure.ac

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3401 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fixed small bug. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3399 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk stable. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3398 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.1. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc p2y/qexml_v4.0.F common/FREQUENCIES_coarse_grid.F

  Bugs:
  - Fixed bug pointed out by a user on the forum
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3397 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-davide. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3385 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc modules/mod_interpolate.F real_time/RT_Collision.F real_time/RT_EULEREXP_step.F real_time/RT_Integrator.F real_time/RT_apply_field.F real_time/RT_build_U1_and_U2.F real_time/RT_observables.F real_time/RT_output.F real_time/RT_start_and_restart.F sc/V_qp_basis_to_H.F ypp/RT_occupations_analyze.F ypp/electrons_bands.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Merged with devel-davide:
    1) Now also EXP integrator is sensitive to small changes
    2) E_RIM used also to contruct DIP_iR = DIP_P / deltaE_RIM
    3) Energy output changed again, I have to decide with Andrea what will be the final version

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3381 76a4dfbf-5f1f-0410-a543-a0282073b526

- Copiright year updated in stable. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3364 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk stable. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3363 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.1. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc int_modules/mod_xc2y.F ypp/excitons_driver.F

  Bugs:
  - [p2y] Bug-fix imported from gpl (thanks to Myrta)
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3362 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3344 76a4dfbf-5f1f-0410-a543-a0282073b526

- Added Pedro & Margherita and Maurizia among the authors. [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3343 76a4dfbf-5f1f-0410-a543-a0282073b526

- GLOBAL Copyright format changed. Authors moved and replaced by
  initials. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3342 76a4dfbf-5f1f-0410-a543-a0282073b526

- Copyright years fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3341 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Andrea Marini]

  *  config/configure.ac configure include/version.inc interface/init.F interface/init_load.F modules/mod_real_time.F real_time/RT_ELPH_CCA_Kernel.F real_time/RT_driver.F real_time/RT_initialize.F real_time/RT_observables.F real_time/RT_output.F ypp/RT_X_effective.F ypp/RT_driver.F ypp/RT_paths.F

  Bugs:
  - In ypp/RT_paths.F

  Changes:
  - RTLowCarrDen removed.
  - Reference G_lesser written in all cases.
  - Real-Time energy components revised and cleaned up. Fluence re-added.


  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3339 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel. Added AUTHORS to be included in future
  headers. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3337 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3335 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc modules/mod_real_time.F real_time/RT_Collision.F real_time/RT_Integrator.F real_time/RT_apply_RWA.F real_time/RT_impose_zero_dE_and_dN.F real_time/RT_relaxation.F

  Bugs:
  - Other bug fix from my branch
  Additions:
  -
  Changes:
  - Impose on equilibrium lifetimes restored, but in the correct way

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3336 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.1. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc

  Bugs:
  - Fix to libxc configure imported from trunk devel
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3334 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug-fix imported from trunk stable. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3332 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.1. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc qp/QP_secant.F

  Bugs:
  - If system has just 1 kpt/qpt QP_secant was crashing
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3331 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3330 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3329 76a4dfbf-5f1f-0410-a543-a0282073b526

- Rebuild of G_lesser added. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3328 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug fix in REF database I/O. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3322 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Andrea Marini]

  *  . config/configure.ac include/version.inc interface/init.F io/io_COLLISIONS.F io/io_RT_components.F modules/mod_real_time.F pol_function/O_driver.F qp_ctl/OCCUPATIONS_IO_and_interpolate.F real_time/RT_Collision.F real_time/RT_Coulomb_relaxation.F real_time/RT_Integrator.F real_time/RT_apply_RWA.F real_time/RT_driver.F real_time/RT_impose_zero_dE_and_dN.F ypp/RT_occupations_FIT.F ypp/RT_occupations_analyze.F ypp/electrons_bands.F ypp/fix_WFs_Gshells.F ypp/read_bxsf.F

  Bugs:
  - Fixed ypp_rt for occupations FIT. Occupations plot to check.

  Changes:
  -  Merged with trunk-devel

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3321 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3317 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with the trunk-devel and added HF occupations report. [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3309 76a4dfbf-5f1f-0410-a543-a0282073b526

- Removed small bug that was preventing libxc to compile on my PC.
  [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3300 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3298 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc real_time/RT_impose_zero_dE_and_dN.F real_time/RT_relaxation.F

  Bugs:
  - Bug fix in RT_impose imported from my branch
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3325 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc interface/init.F io/io_COLLISIONS.F modules/mod_real_time.F real_time/RT_Collision.F real_time/RT_Coulomb_relaxation.F real_time/RT_Integrator.F real_time/RT_apply_RWA.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Speed-up of "Rotating Wave Approximation" subroutine imported from my branch

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3319 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.1. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc pol_function/Dipole_transverse.F

  Bugs:
  - Fixed bug in parallel version of yambo_kerr introduced with commit 2007 (merge with devel-andrea)
    Bug was pointe out by a user on the forum
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3316 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc p2y/qexml_v4.0.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - bug-fix in p2y imported from trunk/stable

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3314 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.1. [Davide Sangalli]

  *  ChangeLog config/configure.ac configure include/version.inc p2y/qexml_v4.0.F

  Bugs:
  - [p2y] With pseudopotentials of kind V2, with just 1 projector pseudo%d
          was not correctly set. This bug was introduced with the bug-fix of commit r2441
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3313 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc interface/init_load.F real_time/RT_initialize.F

  Bugs:
  - Bug fix imported from my branch: flags where not initialized after I removed UPDATE_flags
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3308 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc interface/init_load.F io/io_RT_components.F io/variables_SC.F modules/SET_defaults.F modules/mod_real_time.F real_time/RT_Coulomb_relaxation.F real_time/RT_ELPH_CCA_Kernel.F real_time/RT_G_retarded_convolution.F real_time/RT_Lifetimes_evaluation_plan.F real_time/RT_databases_IO.F real_time/RT_driver.F real_time/RT_initialize.F real_time/RT_mean_carrier_lifetimes.F real_time/RT_output.F real_time/RT_relaxation.F real_time/RT_start_and_restart.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Merged with trunk devel:
    A) RESTART FIXED
    B) RT_eh_en and RT_scatt_tresh. [EXPERIMENTAL]

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3305 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . config/Makefile.in config/setup.in configure include/version.inc lib/dierckx lib/dierckx/.objects lib/dierckx/fpbacp.f lib/dierckx/fpbspl.f lib/dierckx/fpchep.f lib/dierckx/fpdisc.f lib/dierckx/fpgivs.f lib/dierckx/fpknot.f lib/dierckx/fpperi.f lib/dierckx/fprati.f lib/dierckx/fprota.f lib/dierckx/percur.f lib/dierckx/splev.f

  Bugs:
  -
  Additions:
  -
  Changes:
  - dierckx removed from trunk
  - configure restored to correct version including fixed enable-keep-src flag
    and openmp flag to compile with gfortran. Also fixed revision number

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3297 76a4dfbf-5f1f-0410-a543-a0282073b526

- Configure fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3294 76a4dfbf-5f1f-0410-a543-a0282073b526

- Configure fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3292 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3289 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug fixes. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3288 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel and e-p RIM used by RT re-written. [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3287 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with the trunk-devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3284 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with the trunk-devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3282 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with the trunk. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3279 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merge problem fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3258 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3257 76a4dfbf-5f1f-0410-a543-a0282073b526

- Delta_occupations switched off (for the moment). Pol order in FIT set
  to 2 (and not 1). Added E,k to src/real_time/RT_Lifetimes_merge.F.
  [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3255 76a4dfbf-5f1f-0410-a543-a0282073b526

- Wrong application of N/dN conservation was leading to spurious
  oscillations in the mean Lifetimes. Fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3250 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug-fix. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3242 76a4dfbf-5f1f-0410-a543-a0282073b526

- Small fix due to the merge. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3239 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3238 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc real_time/RT_impose_zero_dE_and_dN.F

  Bugs:
  - When RTskipImpose=.false. and Impose_fac=NaN for equilibrium Lifetimes,
    REF_lifetime were not stored and dynamics was wrong
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3285 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . ChangeLog config/configure.ac configure include/version.inc real_time/RT_Fluence.F real_time/RT_Lifetimes_evaluation_plan.F real_time/RT_average_operator.F real_time/RT_driver.F real_time/RT_observables.F real_time/RT_output.F real_time/RT_relaxation.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Merge with devel-davide:
    All output variables expressed in terms of the changes, i.e. constructed from dG

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3283 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Andrea Marini]

  *  qp/QP_ppa_cohsex.F coulomb/.objects real_time/RT_Lifetimes_use_delta_Occupations.F io/io_HF_and_locXC.F io/ioX.F io/io_SC_components.F io/io_DIPOLES.F modules/mod_IO.F

  Bugs:
  - When fragments were used the procedure of closing/opening a fragment was not
    cleaning the io_unit creating continously new units. This was resulting in
    too many units opened.
  - In _SC the COH loop in QP_ppa_cohsex were wrongly distributed.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3281 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc interface/init.F interface/init_load.F io/io_RIM_E_and_k.F modules/SET_defaults.F modules/mod_electrons.F modules/mod_real_time.F real_time/RT_Coulomb_relaxation.F real_time/RT_ELPH_CCA_Kernel.F real_time/RT_ELPH_initialize.F real_time/RT_ELPH_total_Kernel.F real_time/RT_average_operator.F real_time/RT_impose_zero_dE_and_dN.F real_time/RT_initialize.F real_time/RT_k_grid.F real_time/RT_observables.F real_time/RT_relaxation.F real_time/RT_start_and_restart.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Merged with devel-davide:
    1) Bug fix Energy with RIM is now correct
    2) EE_scatt + RIM, the number of RIM points used is now controlled by the input variable EERimPerc.
       Default is 0., i.e. the minimum possible. Old behavior is with 100. (=100%)
    3) Also RT_impose uses dGamma*f+Gamma0*df. Calls in RT_relaxation restored before the interpolation
    4) RTeeImposeE controls if impose on energy is used for EE scatt
    5) The energy type has also the %W_RIM structure. Presently these are all equal to %W on the small grid
    6) Other minor bug fix


  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3278 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . config/Makefile.in config/configure.ac configure include/version.inc coulomb/.objects + io/io_RT_components.F modules/mod_ELPH.F modules/mod_real_time.F real_time/.objects real_time/RT_Coulomb_interpolation.F real_time/RT_Coulomb_relaxation.F real_time/RT_DEPHASING_step.F real_time/RT_ELPH_CCA_Kernel.F real_time/RT_ELPH_initialize.F real_time/RT_ELPH_total_Kernel.F real_time/RT_G_retarded_convolution.F real_time/RT_Integrator.F real_time/RT_Lifetimes_Interpolation.F real_time/RT_Lifetimes_equilibrium.F real_time/RT_Lifetimes_merge.F real_time/RT_Lifetimes_save_and_interp.F real_time/RT_Lifetimes_use_delta_Occupations.F real_time/RT_impose_zero_dE_and_dN.F real_time/RT_initialize.F real_time/RT_k_grid.F real_time/RT_mean_carrier_lifetimes.F real_time/RT_relaxation.F ypp/RT_occupations_analyze.F ypp/electrons_bands.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - merged with devel-davide

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3272 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . config/Makefile.in config/configure.ac config/setup.in configure include/version.inc + lib/libxc/config.h.in lib/libxc/configure sbin/make_makefile.sh.in common/.objects common/HyperbolicSecant_FT.F + interface/init.F interface/init_load.F io/variables_SC.F modules/mod_real_time.F real_time/.objects real_time/RT_Collision.F real_time/RT_Coulomb_relaxation.F real_time/RT_DEPHASING_step.F real_time/RT_ELPH_CCA_Kernel.F real_time/RT_ELPH_total_Kernel.F real_time/RT_Integrator.F real_time/RT_Lifetimes_Interpolation.F real_time/RT_Lifetimes_equilibrium.F + real_time/RT_Lifetimes_save_and_interp.F real_time/RT_Lifetimes_use_delta_Occupations.F real_time/RT_driver.F real_time/RT_impose_zero_dE_and_dN.F real_time/RT_manual_excitation.F real_time/RT_mean_carrier_lifetimes.F real_time/RT_observables.F real_time/RT_output.F real_time/RT_relaxation.F real_time/RT_start_and_restart.F ypp/RT_occupations_analyze.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Merged with devel davide:
    1) Dynamics is in terms of dG<
    2) Lifetimes are computed as Gamma0 + dGamma
    3) Created spline_fit subroutine for interpolation, which uses the dierckx library in lib/dierckx.
       Presently it is not used. Spline does not work for extrapolation

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3256 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc io/io_RT_components.F modules/mod_SC.F modules/mod_real_time.F qp_ctl/OCCUPATIONS_IO_and_interpolate.F real_time/RT_Coulomb_interpolation.F real_time/RT_Coulomb_relaxation.F real_time/RT_DEPHASING_step.F real_time/RT_ELPH_CCA_Kernel.F real_time/RT_Lifetimes_evaluation_plan.F real_time/RT_Lifetimes_use_delta_Occupations.F real_time/RT_driver.F real_time/RT_impose_zero_dE_and_dN.F real_time/RT_observables.F real_time/RT_output.F real_time/RT_propagate_fields.F real_time/RT_relaxation.F real_time/RT_start_and_restart.F ypp/RT_occupations_FIT.F ypp/RT_occupations_analyze.F ypp/RT_occupations_check.F ypp/RT_occupations_repair.F ypp/electrons_bands.F ypp/electrons_dos_and_charge.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - merged with devel-davide.
    Main change: RT_H_occupations and RT_E_occupations

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3237 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3231 76a4dfbf-5f1f-0410-a543-a0282073b526

- Revert wrong changes. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3230 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk/devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3229 76a4dfbf-5f1f-0410-a543-a0282073b526

- Lifetimes calculations work in full parallel mode and also switching
  off the I/O of the EM1D database. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3228 76a4dfbf-5f1f-0410-a543-a0282073b526

- Extending the parallel structure to real-axis GW. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3224 76a4dfbf-5f1f-0410-a543-a0282073b526

- Small fixes. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3223 76a4dfbf-5f1f-0410-a543-a0282073b526

- Missing files added. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3222 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Andrea Marini]

  *  include/version.inc interface/init_load.F interface/init.F real_time/RT_driver.F real_time/RT_apply_RWA.F real_time/RT_initialize.F real_time/RT_build_I1_and_I2.F real_time/RT_relaxation.F real_time/RT_Lifetimes_use_delta_Occupations.F real_time/RT_Integrator.F real_time/RT_Lifetimes_evaluation_plan.F real_time/RT_Lifetimes_Interpolation.F real_time/RT_Collision.F real_time/RT_build_U1_and_U2.F real_time/RT_Lifetimes_save_and_interp.F real_time/RT_EULER_step.F real_time/.objects real_time/RT_EULEREXP_step.F modules/mod_real_time.F

  Bugs:
  - Wrong distribution of evaluation times in the very initial steps of the
    simulation fixed

  Additions:
  - INTERPOLATION support to EULER and RK2 solvers
  - I_MEM_steps added
  - Rotating Wave Approximation (RWA) support to EULER and RK2 solvers

  Changes:
  - Integrators splitted in family (EULER, RK2) and approxs (EXP,RWA,INTERP)
  - Lifetimes and Coherent part interpolation now uses relative times
  - Relaxation and carrier dynamics steps moved in a separate routine

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3221 76a4dfbf-5f1f-0410-a543-a0282073b526

- Impose N, dN and E conservation now works with the new
  intepolation/evolution scheme. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3219 76a4dfbf-5f1f-0410-a543-a0282073b526

- Dynamics with explicit RIM in the e-e part now working. Alternative
  semi-analytic integrator under work. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3216 76a4dfbf-5f1f-0410-a543-a0282073b526

- Missing routine added. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3214 76a4dfbf-5f1f-0410-a543-a0282073b526

- Trying to implement a new time evolution algorithm for the
  occupations. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3213 76a4dfbf-5f1f-0410-a543-a0282073b526

- Copyright year range updated. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3211 76a4dfbf-5f1f-0410-a543-a0282073b526

- TOV code on GKBE added. Moving towards the mergering with Yambo.
  [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3202 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3201 76a4dfbf-5f1f-0410-a543-a0282073b526

- Several small bug fixes and e-p now working with new
  interpolation+deltaF method. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3200 76a4dfbf-5f1f-0410-a543-a0282073b526

- Devel-trunk and devel-andrea merged and synchronized. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3199 76a4dfbf-5f1f-0410-a543-a0282073b526

- Devel-trunk and devel-andrea merged and synchronized. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3199 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3197 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3194 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Andrea Marini]

  *  include/version.inc bse/K_eps_interpolate.F common/pol_fit.F modules/mod_SC.F modules/mod_real_time.F qp/ELPH_gsqF_to_Sigma.F qp_ctl/mod_QP_CTL.F real_time/.objects real_time/RT_Coulomb_interpolation.F real_time/RT_Coulomb_relaxation.F real_time/RT_ELPH_CCA_Kernel.F real_time/RT_ELPH_initialize.F real_time/RT_GAMMA_save_and_interp.F real_time/RT_Integrator.F real_time/RT_Lifetimes_Interpolation.F real_time/RT_Lifetimes_evaluation_plan.F real_time/RT_Lifetimes_save_and_interp.F real_time/RT_Lifetimes_use_delta_Occupations.F real_time/RT_SET_lifetimes_evaluation_plan.F real_time/RT_average_operator.F real_time/RT_current_AND_polarization.F real_time/RT_databases_IO.F real_time/RT_driver.F real_time/RT_impose_zero_dE_and_dN.F real_time/RT_initialize.F real_time/RT_manual_excitation.F real_time/RT_mean_carrier_lifetimes.F real_time/RT_observables.F real_time/RT_occupations_FIT_and_lock.F real_time/RT_output.F real_time/RT_relaxation.F real_time/RT_start_and_restart.F

  Bugs:
  - Bug fixed in src/qp_ctl/mod_QP_CTL.F:
         ! In OCCUPATIONS_Fermi the Fermi_en the %E and CBm and VMB are coherent.
         ! Instead the en%E are out-of-date and are not shifted in OCCUPATIONS_Extend.
         ! This line is to prevent that CBm and VMB are not the same as en%E
  - Bug fix (thx do Davide) of src/real_time/RT_ELPH_initialize.F

  Additions:
  - Added Davide's version of src/real_time/RT_impose_zero_dE_and_dN.F
  - General fit of lifetimes based on aribitrary values of Life_MEM_steps

  Changes:
  - Working on implementation of the Self-energies time-evolution based on the
    only variations of occupations with respect to a specific time point.
  - Interpolation and use of delta_occupations together now working

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3193 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug fix (thx to Davide) [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3179 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  real_time/RT_ELPH_initialize.F

  Bugs:
  - Bug fix in RT_ELPH_initialize fixed again. Likely the commit was lost with the changes in the repo

  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3196 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc io/ioKB_abinit.F io/ioKB_pwscf.F io/io_HF_and_locXC.F modules/mod_real_time.F qp/QP_report_and_write.F ypp/electrons_driver.F ypp/excitons_driver.F ypp/ypp_init.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Merged with trunk stable. Bug fix imported

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3195 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.1. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc io/io_HF_and_locXC.F qp/QP_report_and_write.F

  Bugs:
  - Restart from ndb.QP with different number of QP_nstates fixed
  - QP_report works properly if l_life
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3186 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc io/ioKB_abinit.F io/ioKB_pwscf.F

  Bugs:
  - ioKB, in reading mode, was not reading pp_table if it was already allocated
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3184 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc lib/libxc/configure modules/mod_real_time.F real_time/RT_Collision.F real_time/RT_Coulomb_interpolation.F real_time/RT_EULEREXP_step.F real_time/RT_EULER_step.F real_time/RT_Integrator.F real_time/RT_build_I1_and_I2.F real_time/RT_propagate_fields.F ypp/RT_occupations_FIT.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Patch imported from tmp_repository: RIM in Ho_plus_sigma

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3181 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3177 76a4dfbf-5f1f-0410-a543-a0282073b526

- RT_impose_N removed. Pre-factors fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3176 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-trunk. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3175 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged wth trunk-devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3173 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc real_time/RT_Collision.F real_time/RT_Coulomb_interpolation.F real_time/RT_EULEREXP_step.F real_time/RT_EULER_step.F real_time/RT_GAMMA_save_and_interp.F real_time/RT_Integrator.F real_time/RT_driver.F real_time/RT_impose_zero_dE_and_dN.F real_time/RT_observables.F real_time/RT_relaxation.F

  Bugs:
  - Fixed two bugs intoduced by previous commit
  Additions:
  -
  Changes:
  merged with devel davide:
  - Conditions on G_lessere are imposed during integratio
  - RT_Coulomb interpolation starts only if the number of Carriers is above 1.E-4

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3174 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc modules/SET_defaults.F modules/mod_interpolate.F modules/mod_real_time.F real_time/RT_Coulomb_interpolation.F real_time/RT_ELPH_initialize.F real_time/RT_driver.F real_time/RT_impose_zero_dE_and_dN.F real_time/RT_initialize.F real_time/RT_observables.F real_time/RT_output.F real_time/RT_relaxation.F ypp/electrons_bands.F

  Bugs:
  - Fixed ELPH+RIM GKKP renormalization factor [Andrea]
  - Work-around for ELPH+RIM GKKP if small grid levels are degenerate while
    big grid levels are not [Andrea]
  Additions:
  -
  Changes:
  - Factors from RT_impose are written in output [Davide]
  - RT_impose now imposes:
    * Nel and energy for EL-EL
    * Nel and dG for EL-PH

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3172 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc qp/ELPH_gsqF_to_Sigma.F real_time/RT_SET_lifetimes_evaluation_plan.F

  Bugs:
  - Fixed compilation issue
  Additions:
  -
  Changes:
  - RT_SET lifetimes two different modes, i.e. FIELD and EXP can be activated together.
    The first one (FIELD) is activated only if trim(RT_dynamics_KIND)=="FIELD" and for the time the field is on.
    The second one (EXP) is activated if RT_dynamics_decay_time>0
    * from t=0 if no field is present
    * from t=t0, i.e. after the field is off, when a field is present


  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3167 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3165 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-trunk. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3164 76a4dfbf-5f1f-0410-a543-a0282073b526

- Lifetimes evaluation plan speeded-up and restore N conservation.
  [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3159 76a4dfbf-5f1f-0410-a543-a0282073b526

- N conservation switched off and new RT_impose_zero_dE_and_dN (Davide's
  version) added. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3158 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Andrea Marini]

  *  include/version.inc qp/QP_driver.F qp/ELPH_simmetrize_and_distribute_gsqF.F qp/QP_report_and_write.F qp/ELPH_Sigma_c.F qp/.objects + real_time/RT_relaxation.F io/ioELPH.F modules/mod_ELPH.F ypp/ELPH_general_gFsq.F

  Additions:
  - Added the decomposition in DW and FAN contribution in the report file

  Changes:
  - Added full PARALLEL support to e-p
  - ypp_ph for eliashberg functions fixed. Only serial.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3157 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug fix in small2RIM grid of e-e lifetimes. Working on parallelization
  and Fan-DW splitting of e-p. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3155 76a4dfbf-5f1f-0410-a543-a0282073b526

- Energy conservation added on the e-e scattering channel. [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3154 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug fix in Fluence evaluation and SET lifetimes plan slightly changed.
  [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3148 76a4dfbf-5f1f-0410-a543-a0282073b526

- Devel-andrea and trunk-devel merged. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3147 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc real_time/RT_Coulomb_interpolation.F real_time/RT_Coulomb_relaxation.F real_time/RT_ELPH_CCA_Kernel.F real_time/RT_Fluence.F real_time/RT_GAMMA_save_and_interp.F real_time/RT_Integrator.F real_time/RT_average_operator.F real_time/RT_impose_zero_dE_and_dN.F real_time/RT_observables.F real_time/RT_relaxation.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - RT_Coulomb_interpolation. Condition on the error is less strict
  - If RIM is used sums over RT_nk are grouped. This way the error on the final result is smaller
    real_time/RT_observables.F, real_time/RT_impose_zero_dE_and_dN.F and src/real_time/RT_ELPH_CCA_Kernel.F
    subroutines affected
  - RT_impose_zero_dE_and_dN changed

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3162 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  devel/config/configure.ac devel/configure devel/include/version.inc stable/config/configure.ac stable/configure stable/include/version.inc

  Bugs:
  -
  Additions:
  -
  Changes:
  - Updating versions in the trunk for the release of the new GPL.
    STABLE: 3.4.0 --> 3.4.1  will be the new stable GPL
    DEVEL:  3.4.0 --> 4.0.0  will be the new devel GPL

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3152 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc common/Fermi_fnc_fit.F modules/SET_defaults.F modules/mod_real_time.F real_time/RT_manual_excitation.F real_time/RT_mean_carrier_lifetimes.F real_time/RT_observables.F real_time/RT_occupations_FIT_and_lock.F real_time/RT_start_and_restart.F ypp/RT_occupations_FIT.F ypp/RT_occupations_analyze.F ypp/electrons_bands.F ypp/electrons_driver.F ypp/mod_YPP.F ypp/ypp_i.F ypp/ypp_init.F ypp/ypp_init_load.F of conflicts:

  Bugs:
  - Sigma_relax was not allocated when l_elel_scatt=.true. and l_elph_scatt=.false.
  - ypp_rt: plot of gamma(E) was wrong
  - ypp_rt: fixed generation of input file for interpolation of f_occ on the band structure
  - fixed small error in the construction of the EP lifetimes ratio = Gh/(Gh+Ge)
  Additions:
  -
  Changes:
  - ypp_rt: Now Te(t) an Th(t) are generated
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3151 76a4dfbf-5f1f-0410-a543-a0282073b526

- Devel-andrea and trunk-devel merged. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3147 76a4dfbf-5f1f-0410-a543-a0282073b526

- Reverted order of Time and k_small 2 k_rim interpolation. [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3146 76a4dfbf-5f1f-0410-a543-a0282073b526

- Trunk-devel and branches-devel-andrea now merged. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3144 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  modules/mod_LIVE_t.F

  Bugs:
  - Now the code compiles also with gfortran

  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3145 76a4dfbf-5f1f-0410-a543-a0282073b526

- Trunk-devel and branches-devel-andrea now merged. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3144 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug fix in ydb. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3143 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merge induced errors fixed. Source working, now. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3142 76a4dfbf-5f1f-0410-a543-a0282073b526

- It compiles now. Test to be done. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3141 76a4dfbf-5f1f-0410-a543-a0282073b526

- First merge of the trunk INTO my devel. Broken source. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3140 76a4dfbf-5f1f-0410-a543-a0282073b526

- WallTime stop was not correctly implemented in parallel. [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3139 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug fix and number of DBs increased. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3137 76a4dfbf-5f1f-0410-a543-a0282073b526

- Small bug fix. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3136 76a4dfbf-5f1f-0410-a543-a0282073b526

- Few bug fixes. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3133 76a4dfbf-5f1f-0410-a543-a0282073b526

- Small fix. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3132 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Andrea Marini]

  *  driver/yambo.h include/version.inc interface/init.F interface/stop_now.F setup/PARALLEL_and_IO_Setup.F real_time/RT_SET_lifetimes_evaluation_plan.F real_time/RT_start_and_restart.F modules/mod_LIVE_t.F

  Bugs:
  - RT_SET_lifetimes_evaluation_plan was not working in RESTART mode.

  Additions:
  - Added -W runtime option to specify a user-defined WALL time. STOP_NOW interrupts the job
    in a clean way when this WALL time is reached.

  Changes:
  -

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3131 76a4dfbf-5f1f-0410-a543-a0282073b526

- Forgot DEBUG lines. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3130 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Andrea Marini]

  *  include/version.inc parser/mod_itm.F real_time/RT_impose_elel_conserves_E_and_N.F real_time/RT_SET_lifetimes_evaluation_plan.F real_time/RT_relaxation.F real_time/RT_impose_N.F real_time/RT_Coulomb_relaxation.F + + real_time/.objects real_time/RT_EULEREXP_step.F modules/SET_defaults.F

  Bugs:
  - Small fix in mod_itm.

  Additions:
  - Added routine to control the number of electron N acting on the occupations.
  - RT_GAMMA_save_and_interp.F added to do the ALL2ALL, SAVE and interpolation of the
    lifetimes and male RT_relaxation more readable.

  Changes:
  - RT_impose_elel_conserves_E_and_N.F renamed in RT_impose_zero_dE_and_dN.F

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3129 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Andrea Marini]

  *  include/version.inc interface/QP_ctl_load.F interface/init_load.F interface/init.F real_time/RT_impose_elel_conserves_E_and_N.F real_time/RT_driver.F real_time/RT_SET_lifetimes_evaluation_plan.F real_time/RT_initialize.F real_time/RT_relaxation.F real_time/RT_Fluence.F real_time/RT_start_and_restart.F real_time/.objects io/variables_SC.F modules/mod_real_time.F modules/mod_fields.F

  Changes:
  - Removed field to give the location of the Occupation db. Now -J must be used.
  - New Time sampling of the e-p part completed.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3124 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Andrea Marini]

  *  include/version.inc interface/init_load.F interface/init.F real_time/RT_SET_lifetimes_evaluation_plan.F real_time/RT_initialize.F real_time/RT_manual_excitation.F real_time/RT_relaxation.F real_time/RT_Lifetimes_Interpolation.F real_time/RT_observables.F real_time/.objects real_time/RT_occupations_FIT_and_lock.F io/variables_SC.F modules/mod_real_time.F modules/SET_defaults.F ypp/RT_occupations_FIT.F ypp/ypp_init_load.F

  Additions:
  - Added new brand new structure for the Time sample points in the dynamics
    evolution (now restricted only to the Lifetimes). This new structure is general
    and allows distribution of group of points also by using weight function.

  *** beta state. still tests requested ***

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3121 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Andrea Marini]

  *  include/version.inc common/Fermi_fnc_fit.F parser/ps_convert.F parser/mod_itm.F interface/init_load.F real_time/RT_impose_elel_conserves_E_and_N.F real_time/RT_occupations_FIT.F real_time/RT_initialize.F real_time/RT_relaxation.F real_time/RT_observables.F real_time/RT_Coulomb_interpolation.F real_time/.objects + + ypp/RT_occupations_analyze.F ypp/YPP_RT_occupations_FIT.F ypp/.objects

  Bugs:
  - Bug in parser was not permitting the change of the units from the default one for vectorial variables.

  Changes:
  - Added constrain to Fermi to be ok based on a reasonable value for the position of the Fermi Energy.
  - Unused RT_impose_elel_conserves_E_and_N removed.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3120 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Andrea Marini]

  *  include/version.inc + real_time/RT_initialize.F real_time/RT_relaxation.F real_time/RT_Fluence.F real_time/RT_occupations_fit.F real_time/RT_observables.F real_time/RT_databases_IO.F real_time/.objects io/io_RT_components.F modules/mod_real_time.F modules/mod_timing.F ypp/YPP_RT_occupations_FIT.F

  Bugs:
  - Use of IO_steps for the different sections fixed.

  Changes:
  - Fluence evaluation speeded-up.
  - Timing report format set to "hms" by default.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3116 76a4dfbf-5f1f-0410-a543-a0282073b526

- Added option to use JOBSTR instead of GfnFdb. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3115 76a4dfbf-5f1f-0410-a543-a0282073b526

- Git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-
  devel/branches/devel-andrea@3109 76a4dfbf-5f1f-0410-a543-a0282073b526.
  [Andrea Marini]

- Merged with trunk-devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3108 76a4dfbf-5f1f-0410-a543-a0282073b526

- Git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-
  devel/branches/devel-andrea@3107 76a4dfbf-5f1f-0410-a543-a0282073b526.
  [Andrea Marini]

- Version 3.4.0. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc bz_ops/bz_samp_indexes.F common/Fermi_fnc_fit.F interface/init.F interface/init_load.F io/ioQINDX.F modules/SET_defaults.F modules/mod_real_time.F real_time/RT_Coulomb_interpolation.F

  Bugs:
  -
  Additions:
  -
  Changes:
  * merged with devel-davide:
  - RT_Coulom_interpolation uses the temperature from the previous step in case
    Fermi_fnc_fit fails fitting the EE_lifetimes ratio
  - BSE scattering table can be computed running the setup

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3135 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc bz_ops/k_the_nearest.F collisions/COLLISIONS_cohsex.F common/Fermi_fnc_fit.F common/pol_fit.F interpolate/bz_interp_setup.F interpolate/eval_interpolation_coeff.F io/io_RT_components.F modules/mod_R_lattice.F modules/mod_fields.F modules/mod_interpolate.F modules/mod_real_time.F real_time/RT_Collision.F real_time/RT_Coulomb_interpolation.F real_time/RT_Coulomb_relaxation.F real_time/RT_Ext_fields.F real_time/RT_Fluence.F real_time/RT_Integrator.F real_time/RT_current_AND_polarization.F real_time/RT_databases_IO.F real_time/RT_driver.F real_time/RT_impose_elel_conserves_E_and_N.F real_time/RT_initialize.F real_time/RT_k_grid.F real_time/RT_mean_carrier_lifetimes.F real_time/RT_observables.F real_time/RT_occupations_fit.F real_time/RT_output.F real_time/RT_relaxation.F real_time/RT_start_and_restart.F ypp/electrons_bands.F ypp/electrons_driver.F ypp/k_random.F

  Bugs:
  -
  Additions:
  -
  Changes:
  *** BIG COMMIT FROM MERGE WITH MY DEVEL. - [YAMBO_RT - YPP_RT] **
      THE CODE COMPILES BUT MORE TESTS ARE NEEDED. I STILL HAVE SMALL BUT
      NON NEGLIGIBLE DIFFERENCES BETWEEN THE TRUNK AND MY BRANCH

  * MAIN CHANGES:
  - RT_Coulomb_interpolation now works properly using as input the results of Fermi_fnc_fit.
    Als Fermi_fnc_fit has been improvede because the dynamics with l_elel_scatt + l_elph_scatt
    dependes deeply on its ability to fit the ratio between the RT_EE_lifetimes.
    Also the interpolation in energy is done after the interpolation in time.
  - Interpolation of the band structue finally works properly with the RIM.
    [RIM] If the points of the RIM/BIG grid are not expanded they are associated
    only the point in the IBZ. This is needed for a correct interpolation. The RIM
    structure should be improved in view of BSE and other calculations.

  * OTHER CHANGES:
  - k_the_nearest in case ROTATE_K_REF=.true. gives in output also the symmetry which
    points to the rotated k_point
  - cosmetic changes in COLLISION_cohsex
  - logical  renamed NE_dynamics      --> l_NE_dynamics_started
    new logicals                      --> l_NE_dynamics
                                      --> l_manual_excitations (thus l_NE_with_fields=.false. in this case)
  - New time structure for fields: t_initial, t_initial_indx, t_final, t_final_indx
    The latter is computed from RT_fluence
  - The ration gamma_h/(gamma_h+gamma_e) is fitted on the fly and the output printed.
    A negative temperature means a fit with an error above a given treshold.
    Also the EE and the EP lifetimes are written in different files
  - Condition on the occupations: the must remain between 0 and spin_occ
  - RT_impose_elel_conserves_E_and_N now works separately on the small and the big grid in
    case the RIM is used. This because on the small grid we do not need to change the lifetimes.
    This is likely to be changed with new Andrea's lifetimes interpolation

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3128 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fixed imposed order in command line for BS solver. Removed bug in
  evaluation of non-collinear excitonic spin. Still nonsense numbers
  tough. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3112 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3106 76a4dfbf-5f1f-0410-a543-a0282073b526

- Few bug fixes. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3105 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fighting again with yambo_sc. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3097 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3093 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fix to avoid the compiler to complain in debug mode. AF. [Andrea
  Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3077 76a4dfbf-5f1f-0410-a543-a0282073b526

- Minor bug-fix. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3063 76a4dfbf-5f1f-0410-a543-a0282073b526

- Ydb copying bug fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3061 76a4dfbf-5f1f-0410-a543-a0282073b526

- Timing for collisions added. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3060 76a4dfbf-5f1f-0410-a543-a0282073b526

- Minor bug-fixes. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3058 76a4dfbf-5f1f-0410-a543-a0282073b526

- Removed all merging history up to revision 3053. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3054 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged (by hand) with devel-trunk@r3052. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3053 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  io/ioQINDX.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - OLD ndb.kindx are re-computed by default

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3092 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc bz_ops/bz_samp_indexes.F collisions/.objects collisions/COLLISIONS_cohsex.F collisions/COLLISIONS_eval.F collisions/PLASMA_build_up.F collisions/PLASMA_parallel_setup.F collisions/PLASMA_tables_and_dimensions.F collisions/RT_EE_scattering_kinematics.F common/Fermi_fnc_fit.F io/ioQINDX.F modules/SET_defaults.F modules/mod_R_lattice.F modules/mod_SC.F modules/mod_functions.F modules/mod_plasma.F modules/mod_real_time.F parallel/PARALLEL_WF_distribute.F parallel/PARALLEL_live_message.F real_time/.objects real_time/RT_Collision.F real_time/RT_Coulomb_interpolation.F real_time/RT_Coulomb_relaxation.F real_time/RT_driver.F real_time/RT_impose_elel_conserves_E_and_N.F real_time/RT_initialize.F real_time/RT_observables.F real_time/RT_occupations_fit.F real_time/RT_relaxation.F wf_and_fft/WF_alloc.F ypp/RT_occupations_analyze.F ypp/YPP_RT_occupations_fit.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - merged with devel-davide. Main change: fixed collisions, now iGo_pmq is ok and electrons number is conserved


  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3091 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc wf_and_fft/WF_states_setup.F

  Bugs:
  - Fixed a bug in WF_states_setup affecting runs with -M option and n_spinor=2
    (Bug pointed out by a user)
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3087 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc common/Fermi_fnc_fit.F common/HyperbolicSecant_FT.F modules/mod_pars.F real_time/RT_Coulomb_relaxation.F real_time/RT_ELPH_CCA_Kernel.F real_time/RT_Fluence.F real_time/RT_G_retarded_convolution.F real_time/RT_driver.F real_time/RT_observables.F real_time/RT_occupations_fit.F real_time/RT_output.F ypp/RT_occupations_analyze.F ypp/YPP_RT_occupations_fit.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Fixed RT_occupations_fit, now a chech is done on the quality of the FIT
  - Few changes in the output:
    * RT_fluence removed from .dynamics file. Now only Etot, Nel and DeltaG are printed
    * headers removed from file created by RT_ocupations_analyze [ypp_rt]
    * Temperatures are printed only if (l_elel_scatt .or. l_elph_scatt)
   - Code cleaning: removed tol0 and tol2 from pars mod
  - RIM removed from elel_scatt in view of the new implementation based on lifetimes ratio

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3070 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc collisions/PLASMA_build_up.F io/variables_SC.F real_time/RT_Coulomb_relaxation.F real_time/RT_driver.F ypp/RT_occupations_analyze.F ypp/YPP_RT_occupations_fit.F

  Bugs:
  - Fixed message (number of poles) in Plamsa_build_up
  -
  Additions:
  -
  Changes:
  - Coulomb relaxation with RIM restored to old behaviour which produces
    wrong "blocks of occupations" in case only el-el scattering is active and which
    competes with el-ph, when also the latter is active, preventing the electrons
    from correctly thermalizing
  - ypp_rt now plots also gamma(E) with f(E) at given T (-o tf)
  - IO of occupations and gammas is done after evaluating the gammas
  - (Partially) restored compatibility with old occupations DBs

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3064 76a4dfbf-5f1f-0410-a543-a0282073b526

- Missing file. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3052 76a4dfbf-5f1f-0410-a543-a0282073b526

- Git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-
  devel/trunk@3050 76a4dfbf-5f1f-0410-a543-a0282073b526. [Andrea Marini]

- Version 3.4.0. [Andrea Marini]

  *  configure include/version.inc config/configure.ac qp/XCo_local.F acfdt/acfdt_tot_energy.F parallel/PARALLEL_global_indexes.F interface/init.F real_time/RT_initialize.F real_time/RT_start_and_restart.F real_time/RT_Collision.F real_time/RT_output.F real_time/RT_observables.F sc/SC_add_XC.F sc/SC_Energy.F tddft/tddft_alda_g_space.F io/io_COLLISIONS.F modules/mod_xc_functionals.F modules/mod_plasma.F modules/mod_interfaces.F bse/K.F collisions/COLLISIONS_alloc_and_free.F collisions/COLLISIONS_load.F collisions/Plasma_setup.F + + collisions/.objects collisions/COLLISIONS_eval.F collisions/Plasma_driver.F driver/yambo_driver.F

  Bugs:
  - Fixed bug introduced by the new XC_potential_driver interface

  Changes:
  - Created ad-hoc parallel routine for the Plasma and renamed all the Plasma
    routines.

  *** SERIAL TESTS PASSED ***

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3049 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Myrta Gruning]

  *  . configure include/version.inc p2y/qexml_v4.0.F p2y/p2y_db1.F p2y/mod_p2y.F p2y/mod_pw_data.F int_modules/mod_xc2y.F config/configure.ac lib/libxc/configure io/ioDB1.F modules/mod_global_XC.F modules/mod_xc_functionals.F modules/SET_defaults.F xc_functionals/XC_potential_driver.F xc_functionals/XC_libxc_driver.F qp/XCo_local.F qp/XCo_driver.F

  Bugs:
  -
  Additions: Interface for hybrids (B3LYP and PBE0 only) in p2y. In XCo_driver the matrix elements for B3LYP and PBE0 are calculated
  -
  Changes:
  -
  (Merged devel-myrta diffs into trunk)


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3044 76a4dfbf-5f1f-0410-a543-a0282073b526

- OpenMP and LIBXC compiler problems fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3025 76a4dfbf-5f1f-0410-a543-a0282073b526

- Ifort v 14 support added. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3019 76a4dfbf-5f1f-0410-a543-a0282073b526

- Therads for Dipoles added and general OPENMP calls re-organized anc
  cleaned-up. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3018 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Andrea Marini]

  *  configure include/version.inc parallel/PARALLEL_global_indexes.F parallel/PARALLEL_structure.F pol_function/X_os.F pol_function/O_driver.F setup/PARALLEL_and_IO_Setup.F interface/init_load.F interface/init.F modules/mod_logo.F modules/SET_defaults.F modules/mod_X_output.F modules/mod_parallel.F modules/mod_openmp.F modules/mod_com.F ChangeLog

  Additions:
  - Coded dynamical definition of the number of threads. Three values are possible:
    X_Threads, SE_Threads, RT_Threads. Small test passed. More tests on the way.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3016 76a4dfbf-5f1f-0410-a543-a0282073b526

- All tests with 1,2,4 and 8 cpu passed after this last bug-fix. [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3012 76a4dfbf-5f1f-0410-a543-a0282073b526

- Git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-
  devel/branches/devel-andrea@3010 76a4dfbf-5f1f-0410-a543-a0282073b526.
  [Andrea Marini]

- Oops. DEBUG line removed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3005 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug-fix for special configurations of 4 cpu's. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3004 76a4dfbf-5f1f-0410-a543-a0282073b526

- Small remaining bug-fixes. All TESTS with 2 cpu passed. [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@3000 76a4dfbf-5f1f-0410-a543-a0282073b526

- More bug-fixes. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2994 76a4dfbf-5f1f-0410-a543-a0282073b526

- Small bug fix. TD-SEX still not working for ROLES=1.2.1.1. To be
  fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2990 76a4dfbf-5f1f-0410-a543-a0282073b526

- Again small bug fixes. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2988 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug fixes. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2984 76a4dfbf-5f1f-0410-a543-a0282073b526

- Git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-
  devel/branches/devel-andrea@2976 76a4dfbf-5f1f-0410-a543-a0282073b526.
  [Andrea Marini]

- Final (hopefully) bug-fix in parallel distribution. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2969 76a4dfbf-5f1f-0410-a543-a0282073b526

- Git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-
  devel/branches/devel-andrea@2966 76a4dfbf-5f1f-0410-a543-a0282073b526.
  [Andrea Marini]

- Bug in USER parallel structure definition. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2965 76a4dfbf-5f1f-0410-a543-a0282073b526

- Potential bug in COLLISIONS I/O. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2964 76a4dfbf-5f1f-0410-a543-a0282073b526

- Few bug fixes. Changed openmp structure of RT_Integrator.F and added
  OMP MxM wrapper. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2959 76a4dfbf-5f1f-0410-a543-a0282073b526

- On the fly TD-SEX now working. Few fixes. Tests passed. [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2956 76a4dfbf-5f1f-0410-a543-a0282073b526

- Small fixes. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2950 76a4dfbf-5f1f-0410-a543-a0282073b526

- Small fixes. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2945 76a4dfbf-5f1f-0410-a543-a0282073b526

- Small changes and ypp_rt changed to pass tests. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2938 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Andrea Marini]

  *  configure include/version.inc sc/XC_switch.F io/variables_SC.F io/io_RT_components.F modules/mod_real_time.F collisions/COLLISIONS_load.F collisions/COLLISIONS_eval.F qp_ctl/OCCUPATIONS_IO_and_interpolate.F interface/init.F driver/yambo.h

  Bugs:
  - In allocation during parallel I/O of collisions for e-e scattering.

  Changes:
  - Removed command line options for -e
  - Removed -c command line in _RT
  - Removed imposed order of command lines (e.g. -k sex -o b)
  - Now elel_scatt does not require SC_potential to be COHSEX. SC_potential dictates the correlation part only.

  *** Serial and parallel tests passed ***

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2936 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug fixed in timing. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2932 76a4dfbf-5f1f-0410-a543-a0282073b526

- Added three times in place of one for J,P and occupations, output and
  GF's. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2928 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug in density build-up from G_lesser fixed. Now TD-ip works. Testing
  TD-H and TD-DFT. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2925 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel@2906. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2917 76a4dfbf-5f1f-0410-a543-a0282073b526

- Small problems fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2914 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug in parallel on-the-fly load of _SC COHSEX collisions fixed.
  [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2913 76a4dfbf-5f1f-0410-a543-a0282073b526

- Added TIMGINGS. COHSEX collisions used on-the-fly in _SC fixed. But it
  works only in serial. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2912 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Andrea Marini]

  *  qp/XCo_Hartree_Fock.F qp/QP_ppa_cohsex.F parallel/PARALLEL_WF_distribute.F pol_function/X_os.F pol_function/O_driver.F pol_function/X_em1.F real_time/RT_driver.F real_time/RT_Collision.F sc/SC_add_XC.F sc/SC_driver.F tddft/tddft_alda_g_space.F modules/mod_interfaces.F collisions/COLLISIONS_compose.F collisions/COLLISIONS_eval.F

  Bugs:
  - Fixed very very old bug in _sc using collisions. Now yambo_sc calculates SC-COHSEX and
    not only SC-SEX as before!

  Changes:
  - Removed useless arguments from PARALLEL_WF_distribute

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2910 76a4dfbf-5f1f-0410-a543-a0282073b526

- RT collisions fixed. Serial tests passed. On-The-fly HF ok. All the
  others to check. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2906 76a4dfbf-5f1f-0410-a543-a0282073b526

- Collisions structure changed. Added folder. SC tests passed. RT tests
  failed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2905 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Andrea Marini]

  *  configure include/version.inc qp/COLLISIONS_compose.F qp/XCo_Hartree_Fock.F qp/RT_Sex_collision.F qp/COLLISIONS_eval.F qp/COLLISIONS_cohsex.F qp/COLLISIONS_store.F qp/COLLISIONS_Hartree_Fock.F interface/init_load.F interface/init.F real_time/RT_driver.F real_time/RT_initialize.F real_time/RT_Coulomb_relaxation.F sc/OEP_exact_inversion.F sc/SC_add_XC.F sc/SC_WF_and_dipole_dimensions.F sc/SC_start_and_restart.F sc/OEP_app_inversion.F sc/SC_driver.F io/COLLISIONS_load.F io/io_COLLISIONS.F modules/mod_drivers.F modules/SET_defaults.F modules/mod_collisions_IO.F modules/mod_interfaces.F modules/.objects modules/mod_collision.F

  Changes:
  - COLLISIONS structure deeply revised to allow ALL Collisions to be loaded at the same time.

  *** UNSTABLE and BUGGED SOURCE ***

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2902 76a4dfbf-5f1f-0410-a543-a0282073b526

- NEQ collisions working. Now restyling. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2899 76a4dfbf-5f1f-0410-a543-a0282073b526

- Working to merge togethere ALL kind of collisions. Code not working
  now. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2898 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Andrea Marini]

  *  configure include/version.inc qp/COLLISIONS_cohsex.F qp/QP_ppa_cohsex.F parallel/PARALLEL_live_message.F parallel/PARALLEL_WF_distribute.F bz_ops/bz_samp_indexes.F wf_and_fft/WF_load.F real_time/RT_Integrator.F communicate/section.F sc/XC_switch.F io/io_COLLISIONS.F modules/mod_real_time.F modules/mod_global_XC.F

  Bugs:
  - Fixed bug in WF distribution when only QP rules are given.

  Changes:
  - COHSEX collisions fixed and _SC now is working.
  - Added OPEMP support to RT_Integrator.F
  - Changed names of COLLISIONS (e-e carrier dynamics temporary broken)

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2895 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Andrea Marini]

  *  configure include/version.inc qp/XCo_Hartree_Fock.F qp/.objects qp/COLLISIONS_eval.F qp/COLLISIONS_cohsex.F qp/COLLISIONS_store.F + parallel/PARALLEL_global_indexes.F parallel/PARALLEL_add_Q_to_K_list.F parallel/PARALLEL_live_message.F parallel/PARALLEL_WF_distribute.F interface/init_load.F interface/init.F interface/barriers.F sc/SC_add_XC.F modules/mod_parallel.F modules/mod_interfaces.F modules/mod_collision.F driver/yambo.h driver/yambo_driver.F

  Bugs:
  - In WF distrubtion with only QP indexes (PARALLEL_WF_distribute.F)
  Additions:
  -

  Changes:
  - HF collisions moved in COLLISIONS_Hartree_Fock.F. Full parallel structure implemented. Note that
    now both SC and RT can calculate collisions using a different PARALLEL structure. On the fly
    SC calculation will be ready soon.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2894 76a4dfbf-5f1f-0410-a543-a0282073b526

- Parallel bug in calculation of off-diagonal elements of G_lesser
  fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2892 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Andrea Marini]

  *  configure include/version.inc qp/XCo_Hartree_Fock.F qp/COLLISIONS_eval.F qp/COLLISIONS_cohsex.F qp/QP_ppa_cohsex.F parallel/PARALLEL_global_indexes.F parallel/PARALLEL_WF_distribute.F wf_and_fft/WF_free.F wf_and_fft/WF_rotate.F pol_function/X_os.F setup/QP_state_table_setup.F interface/init_load.F interface/init.F sc/V_real_space_to_H.F sc/V_qp_basis_to_H.F sc/SC_add_XC.F sc/SC_start_and_restart.F sc/SC_Energy.F sc/SC_driver.F sc/SC_bare_Hamiltonian.F sc/V_Mean_Potential.F io/variables_SC.F io/io_SC_components.F modules/mod_wave_func.F modules/mod_SC.F modules/mod_IO.F modules/SET_logicals.F

  Bugs:
  - [OMP] mem_est call moved outside omp loop

  Changes:
  - [SC] Full PARALLEL structure added to _SC. COLLISIONS excluded. All tests passed.
  - [SC] Bare WFs moved in a type WAVEs.
  - [SC] Added support for no X and SC databases I/O.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2890 76a4dfbf-5f1f-0410-a543-a0282073b526

- IP absorption from RT fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2883 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Andrea Marini]

  *  configure include/version.inc qp/XCo_Hartree_Fock.F qp/QP_ppa_cohsex.F common/FREQUENCIES_coarse_grid.F parallel/PARALLEL_global_indexes.F wf_and_fft/WF_load.F wf_and_fft/WF_alloc.F pol_function/X_em1.F interface/init_load.F interface/init.F modules/mod_parallel.F modules/mod_interfaces.F

  Additions:
  - Implemented WF buffering in X_em1, O_driver, HF and GW. This means that the components are loaded once
    and FFT and/or mapping to G-vectors is done from the buffer IF the bounds and states
    of the buffer are consistent.

  Changes:
  - Parallel fields for HF,GW and ELPH replaced by one single field, SE.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2878 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug related to undef variable fixed. AF. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2875 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel@r2872. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2873 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fixed issue in PP_redux_wait. Bug fix by Daniele. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2864 76a4dfbf-5f1f-0410-a543-a0282073b526

- Introduced explicit calls to G_lesser. Tests passed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2855 76a4dfbf-5f1f-0410-a543-a0282073b526

- Small fixes. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2851 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fixed bug in COHSEX collisions evaluation. Fixed use of master_thread
  in OPENMP. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2849 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel@2845. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2846 76a4dfbf-5f1f-0410-a543-a0282073b526

- Runlevels fixed to allow on-the-fly calculation of the collisions.
  [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2845 76a4dfbf-5f1f-0410-a543-a0282073b526

- Removed wrong return. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2843 76a4dfbf-5f1f-0410-a543-a0282073b526

- Several problems induced by the merge fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2841 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel@2837. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2838 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Andrea Marini]

  *  configure include/version.inc config/configure.ac parallel/PARALLEL_global_indexes.F wf_and_fft/WF_alloc.F pol_function/X_em1.F pol_function/Dipole_transverse.F interface/init_load.F real_time/RT_initialize.F io/io_COLLISIONS.F modules/mod_X.F modules/mod_timing.F modules/mod_parallel.F qp/COLLISIONS_eval.F

  Bugs:
  - Fixed bug in the one-shot parallel calculation of COLLISIONS + e-e scattering dynamics.

  Additions:
  - Added new pieces in PP_redux_wait for integers and characters.

  Changes:
  - Control on RT databases I/O moved into existing input file controller.
  - CollPath removed. Now use -J multiple options to load COLLISIONs.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2837 76a4dfbf-5f1f-0410-a543-a0282073b526

- Devel-maurizia added. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2831 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fixed bug in e-e scattering. Now RT dipoles, E_kin and E_ion
  calculated only for evolved levels. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2827 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug fixes (AF) [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2826 76a4dfbf-5f1f-0410-a543-a0282073b526

- X_q_0_CPU PARALLEL field removed from _RT. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2825 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Andrea Marini]

  *  configure include/version.inc config/configure.ac xc_functionals/el_density_matrix.F parallel/PARALLEL_global_indexes.F wf_and_fft/WF_load.F wf_and_fft/WF_free.F real_time/RT_driver.F real_time/RT_ELPH_total_Kernel.F real_time/RT_start_and_restart.F real_time/RT_average_operator.F real_time/RT_Collision.F real_time/RT_ELPH_CCA_Kernel.F real_time/RT_G_retarded_convolution.F real_time/RT_G_retarded_EP_initialize.F real_time/.objects sc/V_real_space_to_H.F sc/V_qp_basis_to_H.F sc/SC_bare_Hamiltonian.F io/variables_SC.F modules/mod_real_time.F modules/mod_wave_func.F

  Changes:
  - WF indexes and corresponding SC operations (SC_bare_Hamiltonian and others) now use
    a "RT" derived set of indexes. "WF" parallel field has been removed.
  - Added the possibility to have only a subset of CPU's loading the WFs.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2824 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel@2812. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2820 76a4dfbf-5f1f-0410-a543-a0282073b526

- WF parallel field removed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2816 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel@2812. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2813 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel@2809. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2810 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Andrea Marini]

  *  configure include/version.inc config/configure.ac qp/QP_ppa_cohsex.F pol_function/X_os.F pol_function/Dipole_dip_dot_field.F pol_function/Dipole_driver.F

  Bugs:
  - Bug fixed in COHSEX.

  Changes:
  - Useless PARALLEL_WF_distribute calls removed.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2808 76a4dfbf-5f1f-0410-a543-a0282073b526

- Few bugs corrected. Dipole_dip_dot_field rewritten. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2807 76a4dfbf-5f1f-0410-a543-a0282073b526

- WF moved in arguments. Started re-ordering calls to WF_distribute.
  Code does not work now. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2805 76a4dfbf-5f1f-0410-a543-a0282073b526

- Module openmp modified (master_thread var cast into a funciton
  OPENMP_master_thread). [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2800 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Andrea Marini]

  *  configure include/version.inc config/configure.ac doc/Sources_old_devel_open_mp_for_BSE_development/bse/K_phases_and_dimensions.F surf/Dipole_driver_cut.F surf/Dipole_transverse_cut.F xc_functionals/el_density.F xc_functionals/el_density_matrix.F xc_functionals/el_magnetization.F qp/XCo_local.F wf_and_fft/WF_derivative.F wf_and_fft/WF_load.F wf_and_fft/WF_symm.F wf_and_fft/WF_spatial_invertion.F wf_and_fft/WF_apply_symm.F wf_and_fft/WF_rotate.F pol_function/X_os.F pol_function/X_em1.F pol_function/Dipole_shifted_grids.F pol_function/Dipole_kb_sum.F pol_function/Dipole_driver.F pol_function/Dipole_transverse.F sc/V_real_space_to_H.F sc/OEP_iterative.F sc/OEP_ApplySigmaX.F sc/OEP_Weighted_Density.F sc/OEP_exact_inversion.F sc/OEP_app_inversion.F sc/SC_driver.F sc/MAG_A_phase.F sc/V_Mean_Potential.F sc/OEP_ApplySigmaCSX.F sc/MAG_Hamiltonian.F sc/OEP_Hole.F sc/MAG_H_pseudo.F modules/mod_wave_func.F modules/SET_defaults.F ypp/ras_loc_ypp.F ypp/electrons_position.F ypp/electrons_driver.F ypp/fix_WFs_and_E.F ypp/electrons_angular_momentum.F

  Overall introduction of WFs as a new type

  type WAVEs
     integer              :: b(2) ! band range
     integer              :: k(2) ! k range
     integer              :: spin(2)
     integer              :: N ! states
     character(1)         :: space
     complex(SP), pointer :: c(:,:)        => null()
     integer    , pointer :: index(:,:,:)  => null()
     logical    , pointer :: state(:,:,:)  => null()
  end type WAVEs

  All relevant variables have been renamed. Ready to create a new buffering
  structure to reduce WF I/O.



  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2799 76a4dfbf-5f1f-0410-a543-a0282073b526

- Q distribution in Response and GW uniformed. Now PPA calculation
  without I/O works. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2797 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Andrea Marini]

  *  configure include/version.inc config/configure.ac qp/XCo_Hartree_Fock.F qp/QP_ppa_cohsex.F parallel/PARALLEL_global_indexes.F parallel/PARALLEL_WF_index.F pol_function/X_os.F pol_function/Dipole_shifted_grids.F pol_function/Dipole_dip_dot_field.F pol_function/Dipole_driver.F pol_function/Dipole_transverse.F pol_function/X_s.F real_time/RT_driver.F tddft/tddft_alda_g_space.F modules/mod_parallel.F modules/mod_interfaces.F

  Bugs:
  - Wrong communicators used to reduce DIP_iR in the ALL_Q case.
    The point is that to merge all (c,v) transitions PAR_COM_Xk_BZ_A2A should be used
    and to send the DIP_iR among CPU's belonging to different k in the BZ
    PAR_COM_Xk_BZ_index should be used.
    This is now correctly coded in src/parallel/PARALLEL_global_indexes.F

  - PARALLEL_WF_index.F was holding the run when q are distributed. This is because
    it was working in MPI_world.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2796 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Andrea Marini]

  *  configure include/version.inc config/configure.ac xc_functionals/el_density.F qp/XCo_local.F qp/XCo_Hartree_Fock.F qp/QP_ppa_cohsex.F parallel/PARALLEL_global_indexes.F parallel/PARALLEL_WF_index.F parallel/.objects pol_function/X_os.F pol_function/Dipole_driver.F interface/init_load.F real_time/RT_driver.F tddft/tddft_alda_g_space.F modules/mod_LIVE_t.F modules/mod_timing.F modules/mod_parallel.F

  Bugs:
  - Timing rescaled by n_threads instead of n_threads_now.

  Additions:
  - PARALLEL_WF_index: It defines a linear 2D index for WFs
    starting from states_to_load

  Changes:
  - el_density deeply changed to use linear WF index created from
    previous WF_load. This makes the procedure PARALLEL-structure
    independent. Same index used in XCo_local.F.
  - Order of ROLES in HF and GW changed. Now "q" is first.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2795 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Andrea Marini]

  *  configure include/version.inc config/configure.ac qp/XCo_Hartree_Fock.F qp/QP_ppa_cohsex.F parallel/PARALLEL_global_indexes.F parallel/PARALLEL_minimal_index_from_overlaping.F parallel/.objects wf_and_fft/fft_3d_sg.F pol_function/X_os.F pol_function/X_em1.F pol_function/Dipole_shifted_grids.F pol_function/Dipole_dip_dot_field.F pol_function/Dipole_driver.F pol_function/Dipole_transverse.F pol_function/X_s.F coulomb/cutoff_box.F setup/PARALLEL_and_IO_Setup.F communicate/section.F io/IO_and_Messaging_switch.F modules/mod_timing.F modules/mod_parallel.F modules/mod_openmp.F driver/yambo_driver.F

  Bugs:
  - -enable-time-profile option in configure fixed.
  - Wrong call to timing routines insied OpenMP loops fixed.
  - Fixed OpenMP_update and its calls.

  Additions:
  - PARALLEL_minimal_index_from_overlaping. Routine to build a non overlapping
    index from two overlapping ones. This is the case of BZ k distribution where
    more than 1 CPU can receive a IBZ k to calculate.

  Changes:
  - In serial mode now QP_ppa_cohsex works without X, P and HF I/O.
    Parallel version still to code/fix due to imposed change in ROLEs order.
  - DEEP change in PARALLEL_global_indexes. Now in X_em1 calls all Q's
    use the same parallel structure. In the case of simple O_driver calculations
    instead Q=0 and Q/=0 use different PARALLEL structure.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2793 76a4dfbf-5f1f-0410-a543-a0282073b526

- Small changes. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2791 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Andrea Marini]

  *  configure include/version.inc config/configure.ac qp/QP_ppa_cohsex.F parallel/PARALLEL_global_indexes.F pol_function/X_em1.F pol_function/X_s.F interface/init_load.F interface/init.F io/io_HF_and_locXC.F io/ioX.F io/IO_and_Messaging_switch.F io/io_DIPOLES.F io/io_P_and_P2.F modules/mod_timing.F modules/mod_parallel.F modules/mod_IO.F modules/SET_logicals.F ypp/RT_occupations_analyze.F

  *** source broken. Still NaN in serial mode ***

  Additions:
  - Added "X_finite_q" parallel environment to use "X_all_q" for all q's in X_em1

  Changes:
  - Now parallelization in X_em1 is the same for all q's. This in order to reduce wf I/O and
    avoid PPA and EM1S DB I/O.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2790 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Andrea Marini]

  *  configure include/version.inc config/report.in config/Makefile.in config/fftw.m4 config/acx_report.m4 config/configure.ac qp/XCo_Hartree_Fock.F qp/QP_ppa_cohsex.F wf_and_fft/fft_3d_sg.F pol_function/X_os.F pol_function/X_s.F coulomb/cutoff_box.F communicate/section.F io/io_HF_and_locXC.F io/ioX.F io/io_DIPOLES.F io/ioWF.F modules/mod_LIVE_t.F modules/SET_defaults.F modules/mod_timing.F modules/mod_parallel.F modules/mod_openmp.F modules/.objects driver/yambo_driver.F

  Additions:
  - Added and adpated WanT/PW timing profile module. It can be switched on by using the

  --enable-time-profile=yes

    it produces at the end of a serial/parallel report/log file a list like

   <18s> P0001:           io_WF :     0.03s CPU (      75 calls,   0.000 s avg)
   <18s> P0001:           io_HF :     0.00s CPU (       3 calls,   0.001 s avg)
   <18s> P0001:      io_DIPOLES :     0.00s CPU (      12 calls,   0.000 s avg)
   <18s> P0001:            io_X :     0.04s CPU (      37 calls,   0.001 s avg)
   <18s> P0001:             FFT :     6.49s CPU (  158442 calls,   0.000 s avg)
   <18s> P0001:  Xo (procedure) :     6.69s CPU (      11 calls,   0.608 s avg)
   <18s> P0001:      Xo (REDUX) :     0.06s CPU (      11 calls,   0.005 s avg)
   <18s> P0001:   X (procedure) :     0.01s CPU (      11 calls,   0.001 s avg)
   <18s> P0001:       X (REDUX) :     0.00s CPU (      11 calls,   0.000 s avg)
   <18s> P0001:              HF :     1.62s CPU
   <18s> P0001:   MPI_ALLREDUCE :     0.00s CPU
   <18s> P0001:         GW(ppa) :     9.24s CPU

   still several routines need to be monitored.

  - FFTW switched off when openmp is on.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2787 76a4dfbf-5f1f-0410-a543-a0282073b526

- Several bugs fixed. Simple parallel (MPI-only) tests passed. [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2785 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Andrea Marini]

  *  configure include/version.inc config/Makefile.in_gpl config/configure.ac qp/XCo_local.F qp/XCo_Hartree_Fock.F qp/QP_ppa_cohsex.F parallel/PARALLEL_structure.F wf_and_fft/fft_3d_fftw.F wf_and_fft/fft_3d_sg.F wf_and_fft/scatter_Bamp.F wf_and_fft/fft_3d.F wf_and_fft/scatter_Gamp.F wf_and_fft/WF_load.F wf_and_fft/sgfft.F.in wf_and_fft/.objects wf_and_fft/WF_spatial_invertion.F wf_and_fft/WF_apply_symm.F wf_and_fft/WF_rotate.F pol_function/X_os.F pol_function/Dipole_shifted_grids.F pol_function/Dipole_kb_sum.F pol_function/Dipole_driver.F pol_function/Dipole_transverse.F pol_function/X_s.F setup/PARALLEL_and_IO_Setup.F coulomb/cutoff_box.F interface/init_load.F interface/init.F modules/mod_parallel.F modules/mod_openmp.F modules/mod_wrapper.F modules/mod_matrix_operate.F modules/.objects

  Massive merge of my branch with AF branch. OPENMP instructions introduced. Added a module and several
  ad-hoc OPENMP routines. fft_3d splitted and many other corrections. The code does not compile. Now time
  for debugging.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2784 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel@2770. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2771 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug fixed in src/io/variables_SC.F that was preventing correct
  restart. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2770 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel@2764. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2765 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea@2761. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2762 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel@2760. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2761 76a4dfbf-5f1f-0410-a543-a0282073b526

- Ypp now working. But only RT-occupations. No dos. Still a seg.fault.
  appears randomly. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2760 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fixed BUG in default OpenMPI value assignemnt of parallel linear
  algebra communicators. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2757 76a4dfbf-5f1f-0410-a543-a0282073b526

- More bugs fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2756 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bugs fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2755 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Andrea Marini]

  *  configure include/version.inc config/configure.ac real_time/RT_mean_carrier_lifetimes.F real_time/RT_driver.F real_time/RT_ELPH_total_Kernel.F real_time/RT_initialize.F real_time/RT_impose_N_conservation.F real_time/RT_manual_excitation.F real_time/RT_build_I1_and_I2.F real_time/RT_relaxation.F real_time/RT_Integrator.F real_time/RT_start_and_restart.F real_time/RT_average_operator.F real_time/RT_Coulomb_relaxation.F real_time/RT_Collision.F real_time/RT_ELPH_CCA_Kernel.F real_time/RT_observables.F real_time/RT_EULEREXP_step.F sc/SC_add_XC.F sc/SC_bare_Hamiltonian.F modules/mod_real_time.F modules/mod_SC.F

  Bugs:
  - The code does not work now. Few (or many bugs) around.

  Changes:
  - RIM support extended in all RT-based code. Modified ALL procedures except density to be evaluated
    on the fine grid keeping scattering m.e. on the rough grid. Theoretically in the TD-BSE case this
    should correspond to the standard RIM support for absorption.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2754 76a4dfbf-5f1f-0410-a543-a0282073b526

- RIM introduced in e-p. In e-e still using center of RIM zone. Now
  RT_integrator is to do. With RIM the code works. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2752 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Andrea Marini]

  *  real_time/RT_manual_excitation.F real_time/RT_databases_IO.F real_time/RT_Rabi_Function.F real_time/RT_driver.F real_time/RT_initialize.F real_time/RT_relaxation.F real_time/.objects io/io_RT_components.F modules/mod_real_time.F ypp/k_random.F configure include/version.inc config/configure.ac

  Changes:
  - Propagating RIM structure in RT procedures.
  - RT_Rabi_Function.F removed.
  - RT_initialize.F re-organization and clean-up.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2751 76a4dfbf-5f1f-0410-a543-a0282073b526

- RIM k table added. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2747 76a4dfbf-5f1f-0410-a543-a0282073b526

- Minor fixes. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2744 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Andrea Marini]

  *  configure include/version.inc config/configure.ac pol_function/X_bare_RIM_GreenF.F pol_function/X_dipole_RIM.F io/ioE_RIM.F modules/mod_electrons.F ypp/ypp_init.F ypp/ypp_init_load.F ypp/k_random.F

  Changes:
  - [E_RIM] Added flag to expand the points in the BZ. By default this is not done.
  - [E_RIM] Added a new structure of the table to be used in real-time when the points are not expanded in the BZ.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2743 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug fix in 'special' gamma-only k-grids. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2741 76a4dfbf-5f1f-0410-a543-a0282073b526

- RIM dimensions setup and RIM k-points re-ordering started. [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2740 76a4dfbf-5f1f-0410-a543-a0282073b526

- G_retarded convolution in e-p case moved inside RT_ELPH_CCA_Kernel.F.
  Prepared allocations for RIM support in time-evolution. [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2739 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug-fix in Gamma-Only mode and input file creating (e-p case) [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2738 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel@2734. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2735 76a4dfbf-5f1f-0410-a543-a0282073b526

- COLLISIONS_HF cleaned. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2731 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merge with trunk-devel@2728. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2729 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug fixed in real-axis GW call to X_em1.F and in init.F. [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2718 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Andrea Marini]

  *  configure include/version.inc config/configure.ac xc_functionals/el_density.F interface/init.F

  Bugs:
  - el_density:  Andrea F reported that <DFT> is wrong when only QP states are distributed.
    In this case the COMM PAR_COM_QP_A2A is not defined and the check on
    states_filling was not done. This check has been imposed to be done all times.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2709 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Andrea Marini]

  *  configure include/version.inc config/configure.ac parser/mod_itm.F interface/QP_init.F real_time/RT_ELPH_CCA_Kernel.F real_time/RT_G_retarded_EP_initialize.F ypp/ypp_init.F ypp/RT_occupations_FIT.F ypp/ypp_i.F

  Bugs:
  - Fixed (very) old bug that was preventing the QPkrange and QPerange to appear at the end of report and output files
  - Now ypp uses the input values of QPkrange/QPerange when it creates a new input file.

  Changes:
  - Barriers on sign of |k> -> |k-q> transitions in the e-p case moved from
    RT_ELPH_CCA_Kernel to RT_G_retarded_EP_initialize in order to be applied to
    RIM also

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2699 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Andrea Marini]

  *  configure include/version.inc config/configure.ac real_time/RT_mean_carrier_lifetimes.F real_time/RT_ELPH_total_Kernel.F real_time/RT_relaxation.F real_time/RT_ELPH_CCA_Kernel.F real_time/RT_output.F io/variables_SC.F io/io_RT_components.F modules/mod_real_time.F ypp/RT_occupations_analyze.F ypp/RT_occupations_check.F ypp/k_random.F

  Bugs:
  - Bug in k_random fixed

  Additions:
  - Temporary flag to exclude "absorption-assisted" lifetimes
  - RIM field in RT variables

  Changes:
  - E-P lifetimes splitted in stimulated and "absorption-assisted"

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2698 76a4dfbf-5f1f-0410-a543-a0282073b526

- Erged with trunk-devel@2693. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2694 76a4dfbf-5f1f-0410-a543-a0282073b526

- Clean-up. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2692 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Andrea Marini]

  *  configure include/version.inc config/configure.ac qp_ctl/mod_QP_CTL.F common/OCCUPATIONS_Fermi.F real_time/RT_initialize.F real_time/RT_manual_excitation.F real_time/RT_relaxation.F real_time/RT_G_retarded_EP_initialize.F modules/mod_real_time.F

  Bugs:
  - Fixed bug in mod_QP_CTL & OCCUPATIONS_Fermi when E_RIM is used.

  Additions:
  - Added E_RIM support to e-p lifetimes.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2690 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Andrea Marini]

  *  configure include/version.inc config/configure.ac interface/init.F io/ioRIM.F modules/mod_IO.F ypp/ypp_init.F ypp/ypp_init_load.F ypp/k_random.F

  Bugs:
  - mod_IO. The loop on the alternative locations was not complete.
  - k_random. When a RIM set is calculated with a code different from the one used for the SAVE
    the align of the two set of energy levels is problematic. This is not solved bu requiring the
    RIM set to have at least one point of the SAVE grid.

  Changes:
  - Some clean-up

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2688 76a4dfbf-5f1f-0410-a543-a0282073b526

- Partial Commit. To test. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2686 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel@2681. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2685 76a4dfbf-5f1f-0410-a543-a0282073b526

- Missing change left out from last merge. Merged with trunk-devel@2677.
  [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2678 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Andrea Marini]

  *  config/configure.ac parser/parse_character_arrays.F parser/.objects ypp/k_random.F ypp/ypp_init_load.F ypp/ypp_init.F ypp/mod_YPP.F configure include/version.inc p2y/p2y_i.F a2y/a2y_i.F

  Additions:
  - Added possibility to read and merge DB1 files to ypp to generate the RIM DB.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2676 76a4dfbf-5f1f-0410-a543-a0282073b526

- Src/real_time cleaned-up of unused variables. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2675 76a4dfbf-5f1f-0410-a543-a0282073b526

- YPP (all projects) clean-up of unused variables. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2674 76a4dfbf-5f1f-0410-a543-a0282073b526

- Some clean-up. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2673 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Andrea Marini]

  *  configure include/version.inc config/configure.ac setup/QP_state_table_setup.F modules/mod_com.F ypp/RT_occupations_repair.F ypp/RT_occupations_analyze.F

  Bugs:
  - QP_state_table_setup.F. Fixed ranges on QPerange values
  - mod_com.F. No strings written to o files due to check on repfile length.

  Changes:
  - Clean-up of RT_occupations_repair.F

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2672 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel@r2666. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2667 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel@2662. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2663 76a4dfbf-5f1f-0410-a543-a0282073b526

- Minor bugs fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2659 76a4dfbf-5f1f-0410-a543-a0282073b526

- Gfortran specific code fixes. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2655 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel@2653. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2654 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Andrea Marini]

  *  configure include/version.inc config/configure.ac wf_and_fft/WF_load.F

  Bugs
   !
   ! Bug-fix (noticed by AF) fixed by AM 26/8/2013
   !
   ! The wf_disk is written on disk in blocks dimensioned by wf_nb_io.
   ! A smaller I/O is possible ONLY with NETCDF while in plain Fortran
   ! it produces and erroneous loading of WFs
   !

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2651 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-devel@2649. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2650 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fixed bug in 2D dos plot. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2638 76a4dfbf-5f1f-0410-a543-a0282073b526

- YDB bug-fix. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2636 76a4dfbf-5f1f-0410-a543-a0282073b526

- Syncronized with trunk/devel. Now devel-andre and trunk/devel are
  equivalent. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2628 76a4dfbf-5f1f-0410-a543-a0282073b526

- Git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-
  devel/branches/devel-andrea@2625 76a4dfbf-5f1f-0410-a543-a0282073b526.
  [Andrea Marini]

- Missing pre-compiler flag for OPENMPI. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2620 76a4dfbf-5f1f-0410-a543-a0282073b526

- Git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-
  devel/branches/devel-andrea@2615 76a4dfbf-5f1f-0410-a543-a0282073b526.
  [Andrea Marini]

- Git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-
  devel/branches/devel-andrea@2614 76a4dfbf-5f1f-0410-a543-a0282073b526.
  [Andrea Marini]

- Git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-
  devel/branches/devel-andrea@2613 76a4dfbf-5f1f-0410-a543-a0282073b526.
  [Andrea Marini]

- Restart fixed when the number of jumps is changed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2612 76a4dfbf-5f1f-0410-a543-a0282073b526

- Problems during mergering fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2610 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk-stable@2608. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2609 76a4dfbf-5f1f-0410-a543-a0282073b526

- Git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-
  devel/branches/devel-andrea@2586 76a4dfbf-5f1f-0410-a543-a0282073b526.
  [Andrea Marini]

- Conduction states shifted down of the gap to plot the occupations and
  calculate the Fermi temperature. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2585 76a4dfbf-5f1f-0410-a543-a0282073b526

- YDB largely improved. Added option to dump input and all related
  ouputs. Implemented use of current day in outputs instead of the input
  ones. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2584 76a4dfbf-5f1f-0410-a543-a0282073b526

- Gap correction added to G_ret db. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2581 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Andrea Marini]

  *  configure include/version.inc config/configure.ac parallel/PARALLEL_get_user_structure.F real_time/RT_impose_N_conservation.F real_time/RT_relaxation.F real_time/.objects io/ioELPH.F

  Bugs:
  - Found bug in PARALLEL_get_user_structure.F. Setting qp CPUs by hand confuses PARALLEL_assign_chains_and_COMMs.
    Dunno why. To investigate more.

  Additions:
  - Added simple routine to enforce Number conservation in e-e scattering. This routines rescales the
    hole/electron lifetimes on-the-fly in order to make dN(t)/dt =0

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2580 76a4dfbf-5f1f-0410-a543-a0282073b526

- Git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-
  devel/branches/devel-andrea@2576 76a4dfbf-5f1f-0410-a543-a0282073b526.
  [Andrea Marini]

- Version 3.4.0. [Andrea Marini]

  *  configure include/version.inc config/configure.ac parallel/PARALLEL_add_Q_to_K_list.F parallel/PARALLEL_global_indexes.F parallel/PARALLEL_index.F pol_function/X_eh_setup.F pol_function/X_em1.F pol_function/X_s.F modules/mod_parallel.F

  Bugs:
  - configure: Fixed BGQ and OPENMPI flags
  - [PARALLEL] Apparently wrong k index distribution in PARALLEL_add_Q_to_K_list. The "ik" of the loop
               was erroneously not added to the list.
  - [PARALLEL] Wrong conditional in mod_parallel.F in PARALLEL_wait

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2571 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug in DATA overwrite. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2570 76a4dfbf-5f1f-0410-a543-a0282073b526

- RT_occupations_analyze.F: BUG in logicals definition in the case of
  e-e only calculations. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2569 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug FIX in RT_Rabi_Function.F. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2568 76a4dfbf-5f1f-0410-a543-a0282073b526

- Git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-
  devel/branches/devel-andrea@2566 76a4dfbf-5f1f-0410-a543-a0282073b526.
  [Andrea Marini]

- Git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-
  devel/branches/devel-andrea@2565 76a4dfbf-5f1f-0410-a543-a0282073b526.
  [Andrea Marini]

- Ydb improved. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2564 76a4dfbf-5f1f-0410-a543-a0282073b526

- OPENMPI flag added to configure and default COMMUNICATOR valued added.
  [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2543 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk/devel@2538. Fixed BUG when using OpenMPI. YDB short
  description added. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2540 76a4dfbf-5f1f-0410-a543-a0282073b526

- First working version of YDB done. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2537 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk/devel@r2535. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2536 76a4dfbf-5f1f-0410-a543-a0282073b526

- Io_header and I/O fixed in ndb.RT_occupations. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2495 76a4dfbf-5f1f-0410-a543-a0282073b526

- Input file logicals for collisions and for real-time dynamics fixed.
  Added G_r descriptions in database. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2494 76a4dfbf-5f1f-0410-a543-a0282073b526

- Jumps field added to databases. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2487 76a4dfbf-5f1f-0410-a543-a0282073b526

- Real-Time interpolation of Lifetimes implemented and (almost) tested.
  [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2486 76a4dfbf-5f1f-0410-a543-a0282073b526

- Introduced time-interpolation of lifetimes to use time-jumps during
  simulation. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2485 76a4dfbf-5f1f-0410-a543-a0282073b526

- Git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-
  devel/branches/devel-andrea@2482 76a4dfbf-5f1f-0410-a543-a0282073b526.
  [Andrea Marini]

- More on YDB. Input addition and external edit of description coded.
  [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2481 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug fixed and QP controls added in ypp.in. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2478 76a4dfbf-5f1f-0410-a543-a0282073b526

- Ydb some more istructions added. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2476 76a4dfbf-5f1f-0410-a543-a0282073b526

- Git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-
  devel/branches/devel-andrea@2475 76a4dfbf-5f1f-0410-a543-a0282073b526.
  [Andrea Marini]

- Small bug fixed in RT_manual_excitation.F and more coding of ydb.
  [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2474 76a4dfbf-5f1f-0410-a543-a0282073b526

- BUG fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2472 76a4dfbf-5f1f-0410-a543-a0282073b526

- Small BUG fix in COLLISIONS eval and RT output made o/w/c at each I/O.
  [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2471 76a4dfbf-5f1f-0410-a543-a0282073b526

- Minore bugs fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2469 76a4dfbf-5f1f-0410-a543-a0282073b526

- New algorithm cpu-saving and memory-saving for the evaluation of e-e
  part of the G_retarded. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2462 76a4dfbf-5f1f-0410-a543-a0282073b526

- Ydb steps forward. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2459 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Andrea Marini]

  *  config/Makefile.in real_time/RT_G_retarded_EE_initialize.F real_time/RT_start_and_restart.F real_time/RT_G_retarded_EP_initialize.F io/variables_SC.F io/io_RT_components.F io/io_G_retarded.F modules/mod_real_time.F driver/ydb.h driver/driver.c sbin/make_makefile.sh.in ydb ydb/.objects ydb/ydb_i.F

  Bugs:
  - I/O problem in reading G_ret DB. The logical was not put false even if there were errors in the I/O.

  Additions:
  - Speed-up also for the e-p G_ret convolution using external G_retarded (like HC).
  - Added G_ret variables to the RT databases.
  - New project started (ydb).

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2458 76a4dfbf-5f1f-0410-a543-a0282073b526

- Speed-up trick of the e-e G retarted build-up. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2455 76a4dfbf-5f1f-0410-a543-a0282073b526

- Minore BGQ-related bugs fixed and Occupations analysis re-activated.
  [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2452 76a4dfbf-5f1f-0410-a543-a0282073b526

- 3rd job string implemented. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2450 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fixed parallel I/O in dipoles during _RT and restart (due to wrong
  Occupations I/O) [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2449 76a4dfbf-5f1f-0410-a543-a0282073b526

- Removed debug lines used for back-compatibility. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2448 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk@2446. Added parallel options in serial compilation +
  _BLUEGENE flag. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2447 76a4dfbf-5f1f-0410-a543-a0282073b526

- Old timing module renamed in LIVE_t and new timing module (based on A.
  Ferretti WanT) added. Still to fix and integrate to Yambo, though.
  [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2444 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Andrea Marini]

  *  configure include/version.inc config/configure.ac qp_ctl/QP_apply_global_stretch.F qp_ctl/mod_QP_CTL.F qp_ctl/OCCUPATIONS_IO_and_interpolate.F parser/mod_itm.F parallel/PARALLEL_global_indexes.F interface/QP_ctl_load.F interface/QP_ctl_switch.F interface/init.F real_time/RT_G_retarded_EE_initialize.F real_time/RT_initialize.F real_time/RT_start_and_restart.F real_time/RT_databases_IO.F io/io_SC_components.F io/io_RT_components.F io/io_G_retarded.F modules/mod_QP.F ypp/ypp_init.F ypp/RT_X_effective.F ypp/RT_databases.F ypp/RT_driver.F ypp/mod_YPP.F ypp/RT_paths.F ypp/ypp_init_load.F driver/ypp.h

  Additions:
  - Added reference energy in the quadratic analytic formula for the electronic linwidths.

  Changes:
  - Clean-up of arguments in io_RT_components and io_SC_components and in related calls.
  - ypp.h field for G_retarded changed from CCA to Gret.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2442 76a4dfbf-5f1f-0410-a543-a0282073b526

- Small bug fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2437 76a4dfbf-5f1f-0410-a543-a0282073b526

- E-e and e-p scattering now fully working in parallel, including on-
  the-fly collisions evaluation. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2436 76a4dfbf-5f1f-0410-a543-a0282073b526

- E-p Gr activated. ypp_rt simplified and QP-lie Gr trated real-time.
  [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2432 76a4dfbf-5f1f-0410-a543-a0282073b526

- Attosecond unit added. Fixed on-the-fly calculation of em1s and severa
  alloc/dealloc points. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2431 76a4dfbf-5f1f-0410-a543-a0282073b526

- Om-the-fly COLLISIONS now working. Re-activated flags for real-time
  G_retarded evaluation. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2427 76a4dfbf-5f1f-0410-a543-a0282073b526

- On the way of calculating the collisions on-the-fly (Without I/O). BUG
  to fix. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2426 76a4dfbf-5f1f-0410-a543-a0282073b526

- Option to calculated collisions (still only on disk) and do, at the
  same time, the rt dynamics done. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2422 76a4dfbf-5f1f-0410-a543-a0282073b526

- Devel branch for Andrea Ferretti added. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2398 76a4dfbf-5f1f-0410-a543-a0282073b526

- Minor compilation bugs fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2394 76a4dfbf-5f1f-0410-a543-a0282073b526

- Devel-open-mp source backuped to merge my branch in the devel-open-mp.
  [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2393 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Andrea Marini]

  *  configure include/version.inc config/configure.ac qp/COLLISIONS_cohsex.F qp/RT_EE_scattering_kinematics.F parallel/PARALLEL_assign_chains_and_COMMs.F parallel/PARALLEL_global_indexes.F real_time/RT_G_retarded_EE_initialize.F real_time/RT_driver.F real_time/RT_relaxation.F real_time/RT_Coulomb_relaxation.F modules/mod_parallel.F modules/mod_interfaces.F

  Additions
  - Added DEBUG Field in RT_EE_scattering_kinematics to allow comparisons with old revision containing a bug in the e-e scattering kinematics.

  Changes:
  - CARRIER Collisions parallelized. Still EM1S I/O problematic. Solution would be to recalculate everything on-the-fly.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2392 76a4dfbf-5f1f-0410-a543-a0282073b526

- Git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-
  devel/branches/devel-andrea@2389 76a4dfbf-5f1f-0410-a543-a0282073b526.
  [Andrea Marini]

- Global renaming of COLLISIONS_IO -> COLLISIONS. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2387 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Andrea Marini]

  *  config/configure.ac parallel/PARALLEL_global_indexes.F setup/PARALLEL_and_IO_Setup.F sc/V_real_space_to_H.F sc/V_qp_basis_to_H.F sc/SC_driver.F sc/SC_bare_Hamiltonian.F io/COLLISIONS_IO_load.F modules/mod_collisions_IO.F qp/COLLISIONS_IO_compose.F qp/XCo_Hartree_Fock.F qp/COLLISIONS_IO_eval.F qp/COLLISIONS_IO_cohsex.F configure include/version.inc

  Additions:
  - Started addition of possibility to calculate on-the-fly the collisions (no I/O).

  Changes:
  - COLLISIONS (polarization case only) parallelized.
  - yambo_sc (serial only) now working.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2386 76a4dfbf-5f1f-0410-a543-a0282073b526

- Small BUG in dipoles fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2383 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk@2380. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2381 76a4dfbf-5f1f-0410-a543-a0282073b526

- Small bug in G-space ALDA and CPU_structure changed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2380 76a4dfbf-5f1f-0410-a543-a0282073b526

- Missing routine added. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2373 76a4dfbf-5f1f-0410-a543-a0282073b526

- G_retarded initialization routines completed. Old one removed. [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2372 76a4dfbf-5f1f-0410-a543-a0282073b526

- Saving commit. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2365 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Andrea Marini]

  *  configure include/version.inc config/configure.ac qp/COLLISIONS_IO_compose.F parallel/PARALLEL_global_indexes.F real_time/RT_mean_carrier_lifetimes.F real_time/RT_initialize.F real_time/RT_relaxation.F real_time/RT_Coulomb_relaxation.F real_time/RT_ELPH_zeroing.F io/COLLISIONS_IO_load.F modules/mod_real_time.F modules/mod_parallel.F modules/mod_collisions_IO.F modules/mod_collision.F

  Changes:
  - Old parallel structure inside _RT removed. Carrier dynamics now running in multi-level
    parallel mode.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2356 76a4dfbf-5f1f-0410-a543-a0282073b526

- QP_G_b->G_b renaming and added second (quasiparticle) QPp parallel
  structure. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2351 76a4dfbf-5f1f-0410-a543-a0282073b526

- Collisions CACHE removed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2350 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Andrea Marini]

  *  configure include/version.inc config/configure.ac xc_functionals/el_density_matrix.F qp/XCo_local.F parallel/PARALLEL_global_indexes.F pol_function/Dipole_transverse.F real_time/RT_mean_carrier_lifetimes.F real_time/RT_ELPH_total_Kernel.F real_time/RT_relaxation.F real_time/RT_start_and_restart.F real_time/RT_average_operator.F real_time/RT_Collision.F real_time/RT_ELPH_CCA_Kernel.F + real_time/RT_CCA_initialize.F real_time/RT_ELPH_initialize.F real_time/.objects sc/V_real_space_to_H.F sc/V_qp_basis_to_H.F sc/SC_bare_Hamiltonian.F io/io_G_retarded.F modules/mod_real_time.F modules/mod_parallel.F

  Layered Parallel structure extended to RT. E-P relaxation working. E-E under work. Introduced, for the first time, different
  simultaneous levels of parallelization working at the same time.

  RT_CPU= "2.2.2"                # [PARALLEL] CPUs for each role
  RT_ROLEs= "k.q.b"              # [PARALLEL] CPUs roles (k,b,q,qp)
  WF_CPU= "4.2"                # [PARALLEL] CPUs for each role
  WF_ROLEs= "k.b"              # [PARALLEL] CPUs roles (k,b)
  X_q_0_CPU= "2.2.2"             # [PARALLEL] CPUs for each role
  X_q_0_ROLEs= "k.c.v"           # [PARALLEL] CPUs roles (k,c,v)

  Additions:
  - PARALLEL band elements distribution introduced in: XCo_local.F, V_real_space_to_H.F,
    V_qp_basis_to_H.F

  Changes:
  - el_density.F splitted in el_density.F and el_density_matrix.F (NEW)
  - More precise available fields description added in init_load.F
  - RT_phase_space and old parallel structure will be soon completely removed
  - Retarded GFs initialization moved and splitted in e-p and e-e. I/O removed.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2348 76a4dfbf-5f1f-0410-a543-a0282073b526

- Massive changes. Detailed commit after stabilization and checking.
  [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2338 76a4dfbf-5f1f-0410-a543-a0282073b526

- K and q parallelization on el-ph kernel works. Interaction with QP
  routines still unstable. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2323 76a4dfbf-5f1f-0410-a543-a0282073b526

- Introducing the PARALLEL layered structure in RT. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2319 76a4dfbf-5f1f-0410-a543-a0282073b526

- Dipole_transverse parallel fix. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2314 76a4dfbf-5f1f-0410-a543-a0282073b526

- Started fixing _RT compilation. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2299 76a4dfbf-5f1f-0410-a543-a0282073b526

- Parallel ALDA in real-space fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2270 76a4dfbf-5f1f-0410-a543-a0282073b526

- ALDA in real-space now working in serial. Still problems when running
  in parallel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2267 76a4dfbf-5f1f-0410-a543-a0282073b526

- On the way of fixing the real-space ALDA. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2264 76a4dfbf-5f1f-0410-a543-a0282073b526

- Missing mergering with trunk of O_driver done. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2250 76a4dfbf-5f1f-0410-a543-a0282073b526

- Starting fixing the _RT project. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2220 76a4dfbf-5f1f-0410-a543-a0282073b526

- SET_defaults merged conflicts fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2213 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk@2210. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2211 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fixed a bug in rim_spherical (yambo_ph) and added indirect gap states
  in Silicon test. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2060 76a4dfbf-5f1f-0410-a543-a0282073b526

- Several typos in yambo_ph and ypp_ph fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2056 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.0. [Andrea Marini]

  *  include/version.inc xc_functionals/el_density.F parallel/PARALLEL_global_indexes.F pol_function/O_driver.F interface/init.F tddft/tddft_alda_g_space.F modules/mod_parallel.F bse/K_Haydock.F

  Additions:
  - Parallel support of ALDA in G-space response function
  - Added DENSITY parallel environment

  Changes:
  - Fixed Haydock live-timing

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2047 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.0. [Andrea Marini]

  *  configure include/version.inc qp/QP_ppa_cohsex.F parallel/PARALLEL_global_indexes.F parallel/PARALLEL_structure.F pol_function/Dipole_driver.F communicate/section.F modules/mod_X_output.F modules/mod_timing.F modules/mod_IO.F modules/mod_matrix_operate.F modules/mod_interfaces.F bse/K_driver.F bse/K_diagonalization.F

  Bugs:
  - Live timing of QP_ppa_cohsex fixed
  - I/O bug in Dipole_driver
  - Bug in mod_matrix_operate and in calls in K_diagonalization to it

  Additions:
  - skip_host logical to avoid the printing of the hostname

  Changes:
  - Parallel structure of devel-open-mp merged with the standard coding. Old-style BSE now works.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2043 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug fixed in PARALLEL_assign_chains_and_COMMs. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2038 76a4dfbf-5f1f-0410-a543-a0282073b526

- BSE fixed using serial version of OPEN-MP parallel structure. [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2033 76a4dfbf-5f1f-0410-a543-a0282073b526

- Parallel Structure of devel-open-mp included. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2023 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk@2015. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2016 76a4dfbf-5f1f-0410-a543-a0282073b526

- _DISTRIBUTED project removed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2008 76a4dfbf-5f1f-0410-a543-a0282073b526

- Devel-andrea and trunk merged. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2007 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.0. [Andrea Marini]

  *  . include/version.inc config/Makefile.in doc/README.compile_on_BQG parser/Gclose.F wf_and_fft/WF_load.F pol_function/Dipole_transverse.F pol_function/X_drude.F pol_function/X_os.F pol_function/Dipole_shifted_grids.F pol_function/Dipole_driver.F interface/init_load.F interface/init.F interface/barriers.F tddft/tddft_do_X_W_typs.F modules/.objects_gpl modules/mod_BS.F modules/mod_drivers.F modules/std_presets.F modules/mod_X.F + bse/.objects bse/.objects_gpl bse/K_diagonalization.F bse/K_eh_setup.F bse/K.F bse/K_DISTRIBUTED.F bse/K_BSmat_by_V.F bse/K_driver.F bse/K_phases_and_dimensions.F bse/K_solvers.F bse/K_output_file.F bse/K_eval_scattering_amplitudes.F bse/K_scattering.F bse/K_BSload.F qp_ctl/QP_merge_DBs.F qp_ctl/QP_load_DB.F driver/yambo.h sbin/yamboo.pl

  Merged with trunk@2003

  BSE section taken completely from trunk. New structure will be developed only in the devel-open-mp.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@2006 76a4dfbf-5f1f-0410-a543-a0282073b526

- Init_convert splitted in two. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1968 76a4dfbf-5f1f-0410-a543-a0282073b526

- Global variable renaming and moving in order to reduce conflicts
  during the mergering procedure of the devel-open-mp branch. [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1966 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk@1964 fixing ALL problems with previous mergering.
  [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1965 76a4dfbf-5f1f-0410-a543-a0282073b526

- Reverting to revision 1957 for severe mergering problems. [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1961 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea@1958. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1959 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk@1957. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1958 76a4dfbf-5f1f-0410-a543-a0282073b526

- Versions in devel-andrea and devel-openmp updated. SLK m4 fixed in
  devel-andrea. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1889 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version numbering updated. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1872 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk@1869. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1870 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Myrta Gruning]

  *  real_time/RT_Collision.F real_time/RT_G_retarded_frequency.F io/io_G_retarded.F ypp/ypp_init_load.F

  Bugs: +RT_G_retarded_frequency.F did not compile in gfortran because a too long line
        +io_G_retarded.F wrong parenthesis in TRUE/FALSE evaluation
        +ypp/ypp_init_load.F fixsym runlevel called twice (once general, once within _RT), so that finally in ypp_rt was not working
  -
  Additions:
  -
  Changes:
  -


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1786 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk@1765. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1766 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk@1743. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1744 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Andrea Marini]

  *  . configure include/version.inc a2y/a2y_db1.F config/configure.ac real_time/RT_ELPH_total_Kernel.F real_time/RT_ELPH_CCA_Kernel.F real_time/RT_CCA_initialize.F io/io_G_retarded.F modules/mod_real_time.F ypp/ypp_init.F ypp/ypp_init_load.F ypp/RT_G_retarded.F ypp/fix_PPs.F

  Bugs:
  - Fixed problems induced by the mergering with the trunk.

  Additions:
  - Use of G_retarded HC in the el-ph case.

  Changes:
  - Merged with trunk@1729.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1730 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk@1724. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1725 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Andrea Marini]

  *  configure include/version.inc config/configure.ac interface/init.F real_time/RT_Coulomb_relaxation.F real_time/RT_CCA_initialize.F io/io_COLLISIONS.F io/io_G_retarded.F modules/mod_real_time.F ypp/RT_G_retarded.F

  Bugs:
  - In restarting when reading G_retarded DB
  - In transferring to RT databases the response function sizes extracted from the Collision DBs

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1715 76a4dfbf-5f1f-0410-a543-a0282073b526

- Several BUGs fixed in G_retarded post-convolution. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1708 76a4dfbf-5f1f-0410-a543-a0282073b526

- Global year update in Copyright headers in: trunk, devel-andrea and
  devel-openmp. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1691 76a4dfbf-5f1f-0410-a543-a0282073b526

- Resized energy constrain of the G_r tails on the basis of the 1% of
  the top value. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1689 76a4dfbf-5f1f-0410-a543-a0282073b526

- Git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-
  devel/branches/devel-andrea@1688 76a4dfbf-5f1f-0410-a543-a0282073b526.
  [Andrea Marini]

- Improved energy barriers for G_retarded. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1687 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Andrea Marini]

  *  . ypp/electrons_dos_and_charge.F configure include/version.inc config/configure.ac real_time/RT_CCA_initialize.F

  Bugs:
  - Bug in treatment of asymmetric energy tail barriers of G_retarded

  Changes:
  - Merged with trunk@1683

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1685 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Andrea Marini]

  *  real_time/RT_CCA_initialize.F io/io_G_retarded.F ypp/RT_G_retarded.F configure include/version.inc config/configure.ac

  Additions:
  - G_retarded database splitted in time sections.

  Changes:
  - Fixed energy tail cut-off method for Time integrated G_retarded. Hopefully this fixes should make the
    equilibrium dynamics stable.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1682 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Andrea Marini]

  *  configure include/version.inc config/configure.ac real_time/RT_initialize.F real_time/RT_CCA_initialize.F io/IO_Setup.F modules/std_presets.F modules/mod_stderr.F modules/mod_IO.F modules/mod_com.F ypp/RT_G_retarded.F

  Bugs:
  - Wrong check of G_retarded database bounds.

  Additions:
  - Added optional second JOBSTR to read databases from an alternative folder.

  Changes:
  - Added background removal of G_retarded integral tables.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1677 76a4dfbf-5f1f-0410-a543-a0282073b526

- Small bug-fix in manual excitation algorithm. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1675 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk@1672. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1673 76a4dfbf-5f1f-0410-a543-a0282073b526

- Devel-andrea and devel-openmp merged with trunk@1659. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1660 76a4dfbf-5f1f-0410-a543-a0282073b526

- Devel-andrea and devel-open-mp merged with trunk@1635. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1636 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk@1614. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1615 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Andrea Marini]

  *  configure include/version.inc config/Makefile.in config/configure.ac real_time/RT_G_retarded_time.F + real_time/RT_ELPH_out_of_eq_Kernel.F real_time/RT_G_retarded.F real_time/RT_CCA_initialize.F real_time/.objects ypp/ypp_init.F ypp/mod_YPP.F ypp/ypp_init_load.F ypp/RT_G_retarded.F

  Bugs:
  - [_RT] Found bug in the definition of the Hypersecant Cosine G_retarded

  Changes:
  - Deep rewriting of G_retarded definition. Both in ypp_rt and yambo_rt.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1613 76a4dfbf-5f1f-0410-a543-a0282073b526

- Added energy barrier to CCA QP-like G_retarded prefactots. [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1608 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Andrea Marini]

  *  configure include/version.inc config/configure.ac setup/G_shells_finder_OLD.F setup/G_shells_finder.F modules/mod_vec_operate.F

  Changes:
  - Shell findes rewritten and parallelized. The new algorithm is based on the re-ordering of the G-vectors
    with increasing module and it is much faster.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1607 76a4dfbf-5f1f-0410-a543-a0282073b526

- G shells finder re-writing started. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1606 76a4dfbf-5f1f-0410-a543-a0282073b526

- Sync with devel-open-mp in what regards small changes not relative to
  sources deeply under development. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1602 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Andrea Marini]

  *  configure include/version.inc config/configure.ac + common/RIntegrate_fixed_step.F common/.objects real_time/RT_driver.F real_time/RT_start_and_restart.F real_time/RT_Coulomb_relaxation.F real_time/RT_CCA_initialize.F io/io_G_retarded.F modules/mod_real_time.F ypp/RT_G_retarded.F

  Additions:
  - Laplace_transform routine with a semi-analytic approach

  Changes:
  - Added finite energy ranges for the G_retarded spectral function.
  - Added "BOX" like spectral functions.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1596 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Andrea Marini]

  *  configure include/version.inc config/configure.ac qp/ELPH_Sigma_c.F common/FREQUENCIES_Green_Function.F common/OCCUPATIONS_Gaps.F real_time/RT_CCA_initialize.F real_time/RT_ELPH_initialize.F io/ioELPH.F modules/mod_electrons.F modules/mod_ELPH.F ypp/ELPH_eliashberg_dos.F ypp/ELPH_databases.F ypp/ELPH_general_gFsq.F + ypp/RT_retarded_GFs_for_the_CCA.F ypp/ypp_i.F ypp/.objects ypp/ELPH_atomic_amplitude.F

  Additions:
  - [RT] Modifed QP approximation for G_retarded coded. This is defined in terms of the self-energy that is
    assumed to be zero in the gap and characterized by a third power rise due to el-ph coupling.
  - [RT] Improved G_retarded build-up parallelization.

  Changes:
  - max_ph_freq renamed in W_debye
  - Added %E_ind_gap in level type

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1591 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Andrea Marini]

  *  configure include/version.inc config/configure.ac interface/init.F real_time/RT_initialize.F real_time/RT_start_and_restart.F real_time/RT_Coulomb_relaxation.F real_time/RT_CCA_initialize.F real_time/RT_ELPH_initialize.F real_time/.objects io/io_Green_Functions.F io/.objects + modules/mod_real_time.F modules/std_presets.F ypp/RT_retarded_GFs_for_the_CCA.F

  Additions:
  - [RT] Speed-up and memory saving change in Gr_matrix build-up. Parallel filling tested.

  Changes:
  - Syncronizaton with trunk@1589

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1590 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Andrea Marini]

  *  configure include/version.inc config/configure.ac interface/init.F real_time/RT_initialize.F real_time/RT_start_and_restart.F real_time/RT_Coulomb_relaxation.F real_time/RT_CCA_initialize.F real_time/RT_ELPH_initialize.F real_time/.objects io/io_Green_Functions.F io/.objects + modules/mod_real_time.F modules/std_presets.F ypp/RT_retarded_GFs_for_the_CCA.F

  Additions:
  - [RT] Support for simple QP-like G_retarded added and tested.

  Changes:
  - [RT] io_Green_Functions renamed in io_G_retarded. Added I/O of G_ret real-time integrals

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1589 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Andrea Marini]

  *  configure include/version.inc config/configure.ac common/RIntegrate_fixed_step.F common/.objects real_time/RT_initialize.F real_time/RT_start_and_restart.F real_time/RT_Coulomb_relaxation.F io/io_Green_Functions.F modules/mod_real_time.F ypp/ypp_init.F ypp/mod_YPP.F ypp/ypp_init_load.F ypp/RT_retarded_GFs_for_the_CCA.F

  Additions:
  - Function to integrate real functions defined on regular grids.

  Changes:
  - [RT] First implementation of the retarded Green Functions integration completed.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1588 76a4dfbf-5f1f-0410-a543-a0282073b526

- Retarded Green function build-up and I/O done. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1587 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Andrea Marini]

  *  configure include/version.inc config/configure.ac io/io_Green_Functions.F io/.objects modules/mod_real_time.F ypp/RT_split_Polarization.F ypp/ypp_init.F ypp/mod_YPP.F ypp/RT_X_qssin.F ypp/ypp_init_load.F ypp/RT_1D_Fourier_Transform.F ypp/RT_X_LRR_real_field.F ypp/RT_retarded_GFs_for_the_CCA.F ypp/ypp_i.F ypp/.objects driver/ypp.h

  Additions:
  - [YPP_RT] Tool to Fourier Transform non-lorentzian retarded Green's functions to be used for the CCA

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1583 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged at trunk@1576. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1577 76a4dfbf-5f1f-0410-a543-a0282073b526

- [RT] ypp_rt prints occupations as a function of carrier density.
  [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1568 76a4dfbf-5f1f-0410-a543-a0282073b526

- Internal revision updated. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1563 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged at trunk@1561, removed TEST_2 ypp and yambo projects, revised
  the ypp options. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1562 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk@1552. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1553 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Andrea Marini]

  *  . configure include/version.inc p2y/qexml_v4.0.F p2y/mod_p2y.F p2y/mod_pw_data.F config/configure.ac qp/ELPH_Sigma_c.F qp_ctl/mod_QP_CTL.F qp_ctl/OCCUPATIONS_IO_and_interpolate.F common/OCCUPATIONS_Extend.F common/OCCUPATIONS_Gaps.F common/OCCUPATIONS_Fermi.F common/.objects setup/setup.F real_time/RT_Coulomb_relaxation.F communicate/REPORT_Occupations.F modules/mod_electrons.F + modules/.objects

  Bugs:
  - In ELPH_Sigma_c.F (S. Ponce').

  Additions:
  - [RT] Energy barrier to reduce the hopping of electrons and holes across the band gap.
  - Added mod_interfaces.F module

  Changes:
  - Merged with trunk@1523.
  - REPORT_Occupations separated by the actual calculation of Filled/Empty bands and gaps
    (now in OCCUPATIONS_Gaps.F).

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1538 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Andrea Marini]

  *  configure include/version.inc config/configure.ac wf_and_fft/WF_load.F real_time/RT_driver.F real_time/RT_initialize.F real_time/RT_start_and_restart.F io/variables_SC.F modules/mod_real_time.F modules/mod_wave_func.F modules/std_presets.F

  Bugs:
  - Bug due to wrong declaration of optionals in WF_load
  - [RT] Bug in RESTART due to a wrong reading of the inital e-e and e-p lifetimes

  Additions:
  - [RT] RT_IO_steps read from database to make possible a RESTART with different NE_time

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1525 76a4dfbf-5f1f-0410-a543-a0282073b526

- Git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-
  devel/branches/devel-andrea@1522 76a4dfbf-5f1f-0410-a543-a0282073b526.
  [Andrea Marini]

- Other BUG induced by the mergering with the trunk fixed. [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1520 76a4dfbf-5f1f-0410-a543-a0282073b526

- Repeted QP_table creation moved in a dedicated routine. [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1518 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug introduced by the mergering fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1514 76a4dfbf-5f1f-0410-a543-a0282073b526

- Inconsistencies introduced by the mergering with the trunk fixed.
  [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1513 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk@1510. Added option to use a single Debye frequency
  in RT. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1512 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Andrea Marini]

  *  configure include/version.inc config/configure.ac real_time/RT_driver.F real_time/RT_manual_excitation.F real_time/RT_start_and_restart.F real_time/.objects io/ioDB1.F modules/std_presets.F ypp/RT_occupations_analyze.F

  Bugs:
  - ioDB1.F: wrong condition prevented reading of very old databases.
  - [YPP_RT]: some bug fixes in RT_occupations_analyze.F.

  Additions:
  - [RT] Routine to manuallly create e/h pairs at T=0 added.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1504 76a4dfbf-5f1f-0410-a543-a0282073b526

- Minor bug fix in RT_occupations_repair. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1503 76a4dfbf-5f1f-0410-a543-a0282073b526

- El-el Lifetimes support added to ypp_rt. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1501 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug fix in RT_Coulomb_relaxation.F. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1497 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Andrea Marini]

  *  configure include/version.inc config/configure.ac interface/init_load.F interface/init.F real_time/RT_mean_carrier_lifetimes.F real_time/RT_driver.F real_time/RT_start_and_restart.F real_time/RT_Coulomb_relaxation.F modules/mod_real_time.F modules/std_presets.F

  Bugs:
  - [RT] Wrong call to ALL2ALL in RT_ELPH_total_kernel and RT_Coulomb_relaxation.

  Additions:
  - [RT] Added energy window to select e/h pairs that are pumped by hand.

  Changes:
  - [RT] Removed DEBUG lines.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1496 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Andrea Marini]

  *  configure include/version.inc config/configure.ac qp/COLLISIONS_IO_cohsex.F qp/QP_test.F qp/.objects real_time/RT_mean_carrier_lifetimes.F real_time/RT_Coulomb_relaxation.F driver/yambo_driver.F

  Changes:
  - Fully working version of the out-of-equilibrium e-e self-energy. Fixed
    few bugs. Now numbers are reasonable.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1494 76a4dfbf-5f1f-0410-a543-a0282073b526

- DEBUG version. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1492 76a4dfbf-5f1f-0410-a543-a0282073b526

- Wrong call in yambo_driver. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1480 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fixed ambigous use of Xk-k Xen-en in real_time routines. [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1479 76a4dfbf-5f1f-0410-a543-a0282073b526

- Wrong calling argument in QP_driver (left over after DEBUG) [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1478 76a4dfbf-5f1f-0410-a543-a0282073b526

- Lost OPENMP flag restored. Removed unused TIME argument in e-e
  scattering routine. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1477 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk@r1472. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1473 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Andrea Marini]

  *  configure include/version.inc config/configure.ac qp/QP_driver.F interface/init.F

  Bugs:
  - Command line bug: If any string following a -### identifier was containing
    a string related to a runlevel this was erronously switched on.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1462 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Andrea Marini]

  *  configure include/version.inc config/configure.ac interface/QP_ctl_load.F interface/init_load.F sc/V_qp_basis_to_H.F

  Bugs:
  - [RT] Fixed lost of Hermiticity of Ho in the real-time dynamics induced by the not orderer band indexes in the QP_table.
    The bug was appearing as a uniform quantity of electrons moved above the Fermi level in the linear response regime.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1460 76a4dfbf-5f1f-0410-a543-a0282073b526

- Memory dimension in COLLISIONS allocation fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1459 76a4dfbf-5f1f-0410-a543-a0282073b526

- Minor BUG fixes. Major BUG (related to overdimensioning of QP_table)
  still to find and fix in RT-related calls. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1458 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Andrea Marini]

  *  configure include/version.inc config/configure.ac interface/init_load.F real_time/RT_mean_carrier_lifetimes.F real_time/RT_driver.F real_time/RT_initialize.F real_time/RT_Coulomb_relaxation.F real_time/RT_output.F real_time/RT_ELPH_initialize.F real_time/.objects io/variables_SC.F modules/mod_real_time.F ypp/RT_occupations_analyze.F

  Additions:
  - [RT] Routine (RT_mean_carrier_lifetimes) to monitor on-the-fly the mean e/h lifetimes induced
    by the e-e and e-p scattering

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1457 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Andrea Marini]

  *  configure include/version.inc config/configure.ac pol_function/Dipole_transverse.F real_time/RT_Coulomb_relaxation.F real_time/RT_observables.F io/COLLISIONS_IO_load.F modules/mod_real_time.F

  Bugs:
  - Runtime BUG observed on the matrix cluster in Dipole_transverse.F

  Changes:
  - Fixed QP states parallelization in RT_Coulomb_relaxation.F
  - Removed correlation/exchange energies evaluation in carrier scattering

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1456 76a4dfbf-5f1f-0410-a543-a0282073b526

- Gfortran-related typo. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1453 76a4dfbf-5f1f-0410-a543-a0282073b526

- Wrong names of E-P lifetimes in ypp fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1452 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Andrea Marini]

  *  configure include/version.inc config/configure.ac qp/COLLISIONS_IO_eval.F qp/COLLISIONS_IO_cohsex.F qp/COLLISIONS_IO_store.F interface/init.F setup/QP_state_table_setup.F real_time/RT_driver.F real_time/RT_initialize.F real_time/RT_relaxation.F real_time/RT_Coulomb_relaxation.F real_time/RT_Collision.F real_time/RT_ELPH_initialize.F real_time/RT_phase_space.F io/io_SC_components.F io/COLLISIONS_IO_load.F io/io_COLLISIONS.F modules/mod_real_time.F modules/mod_drivers.F modules/std_presets.F modules/mod_collisions_IO.F

  Changes:
  - [RT] First working implementation of the e-e scattering contribution to the carrier dynamics finished.
         Used a semi-static out-of-equilibrium GW approximation. Exestensive testing needed.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1451 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Andrea Marini]

  *  configure include/version.inc config/configure.ac qp/COLLISIONS_IO_eval.F qp/COLLISIONS_IO_cohsex.F qp/COLLISIONS_IO_store.F setup/QP_state_table_setup.F interface/init.F real_time/RT_driver.F real_time/RT_ELPH_total_Kernel.F real_time/RT_relaxation.F real_time/RT_start_and_restart.F real_time/RT_Coulomb_relaxation.F real_time/RT_Collision.F real_time/RT_ELPH_CCA_Kernel.F real_time/RT_phase_space.F real_time/.objects io/io_SC_components.F io/COLLISIONS_IO_load.F modules/mod_collisions_CACHE.F modules/mod_real_time.F ypp/RT_occupations_check.F ypp/RT_occupations_analyze.F

  Additions:
  - [RT] El-El induced electron/hole lifetimes arrays
  - [RT] Coulomb scattering routine

  Changes:
  - [RT] Changed shape of COLLISIONS and QP_table in the case of carrier dynamics only

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1450 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Andrea Marini]

  *  configure include/version.inc config/configure.ac doc/README.branches_and_trunk lib/libxc/configure qp/XCo_local.F qp/COLLISIONS_IO_eval.F qp/QP_secant.F qp/secant.F qp/COLLISIONS_IO_cohsex.F qp/COLLISIONS_IO_store.F qp/.objects qp/QP_ppa_cohsex.F common/FREQUENCIES_reset.F pol_function/Dipole_driver.F interface/init_load.F interface/init.F real_time/RT_driver.F io/io_SC_components.F io/COLLISIONS_IO_load.F io/io_COLLISIONS.F modules/mod_frequency.F modules/mod_real_time.F modules/std_presets.F modules/mod_collisions_IO.F modules/.objects

  Bugs:
  -

  Additions:
  - COLLISIONS_IO_cohsex: calculation of COHSEX collisions taken out of QP_ppa_and_cohsex to calculate
    also the contributions for the e-e scattering out-of-equilibrium self-energy.

  Changes:
  - Merged with trunk @ rev. 1420
  - Whole COLLISIONS structure modified to accept two kinds of array dimensions. One for "Polarization"
    dynamics and the other for "Carriers" dynamics.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1442 76a4dfbf-5f1f-0410-a543-a0282073b526

- Re-added OpenMP configure flags and fixed ioQP bug. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1410 76a4dfbf-5f1f-0410-a543-a0282073b526

- Minor bugs fixed and merged with trunk@1408. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1409 76a4dfbf-5f1f-0410-a543-a0282073b526

- K_scattering.F removed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1401 76a4dfbf-5f1f-0410-a543-a0282073b526

- Missing SP prevented compilation. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1400 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Andrea Marini]

  *  configure include/version.inc config/configure.ac qp_ctl/Nearest_level_interpolation.F qp_ctl/QP_apply_DB_interpolation.F real_time/RT_driver.F

  Bugs:
  - Bug in Nearest_level_interpolation.F

  Changes:
  - Finalized Energy interpolation in QP_apply_DB_interpolation.F

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1399 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Andrea Marini]

  *  configure include/version.inc config/report.in config/configure.ac config/setup.in qp/eet_terminator.F + qp/.objects qp/.objects_gpl qp/QP_ppa_cohsex.F qp_ctl/Nearest_level_interpolation.F qp_ctl/QP_apply_DB_interpolation.F qp_ctl/.objects qp_ctl/QP_load_DB.F qp_ctl/.objects_gpl qp_ctl/OCCUPATIONS_IO_and_interpolate.F real_time/RT_driver.F io/ioQP.F sbin/make_makefile.sh.in

  Additions:
  - Nearest_level_interpolation.F (still devel) to interpolate QP corrections
    using the energy levels and not the k-points.

  Changes:
  - eet_terminator.F renamed

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1385 76a4dfbf-5f1f-0410-a543-a0282073b526

- OpenMP flags fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1382 76a4dfbf-5f1f-0410-a543-a0282073b526

- OpenMP Fortran flags added. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1381 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Andrea Marini]

  *  devel-andrea/configure devel-andrea/include/version.inc devel-andrea/config/report.in devel-andrea/config/Makefile.in devel-andrea/config/acx_report.m4 devel-andrea/config/configure.ac devel-andrea/config/setup.in devel-andrea/lib/libxc/configure devel-andrea/lib/libxc/config.h.in devel-andrea/modules/mod_BS.F devel-andrea/bse/K_Haydock.F devel-andrea/bse/K_DISTRIBUTED.F devel-andrea/bse/K_BSmat_by_V.F devel-andrea/bse/K_phases_and_dimensions.F devel-andrea/bse/K_eval_scattering_amplitudes.F devel-andrea/bse/K_scattering.F devel-andrea/bse/K_BSmat_by_V_TEST_1.F devel-andrea/bse/.objects devel-andrea/bse/K_inversion.F devel-andrea/bse/K_diagonalization.F devel-andrea/bse/K.F devel-andrea/sbin/make_makefile.sh.in devel-fabio/configure devel-fabio/include/version.inc devel-fabio/config/report.in devel-fabio/config/Makefile.in devel-fabio/config/acx_report.m4 devel-fabio/config/configure.ac devel-fabio/config/setup.in devel-fabio/modules/mod_BS.F devel-fabio/bse/K_Haydock.F devel-fabio/bse/K_DISTRIBUTED.F devel-fabio/bse/K_BSmat_by_V.F devel-fabio/bse/K_phases_and_dimensions.F devel-fabio/bse/K_eval_scattering_amplitudes.F devel-fabio/bse/K_scattering.F devel-fabio/bse/K_BSmat_by_V_TEST_1.F devel-fabio/bse/.objects devel-fabio/bse/K_inversion.F devel-fabio/bse/K_diagonalization.F devel-fabio/bse/K.F devel-fabio/sbin/make_makefile.sh.in

  Additions:
  - OpenMP support added to configure options (--enable-open-mp)

  Changes:
  - K_scattering.F splitted in phases_and_dimensions and the actual oscillators evaluation. This in order
    to have a proper platform where OpenMP can be implemented. NOTE THAT K_DISTRIBUTED should be changed
    accordingly.
  - TEST_1 project definitively removed.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1380 76a4dfbf-5f1f-0410-a543-a0282073b526

- Mergering with trunk@1375. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1378 76a4dfbf-5f1f-0410-a543-a0282073b526

- Mergering with trunk@1339 and several related bug-fixes in the ELPH
  dynamics. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1377 76a4dfbf-5f1f-0410-a543-a0282073b526

- Wannier GPL barrier removed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1327 76a4dfbf-5f1f-0410-a543-a0282073b526

- Devel branch for Fabio Affinito added. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1317 76a4dfbf-5f1f-0410-a543-a0282073b526

- Added oscillators Energy treshold and merged with trunk@1302. [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1303 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk @ rev 1296. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1297 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Andrea Marini]

  *  configure include/version.inc config/configure.ac real_time/RT_Dephasing_Matrix.F real_time/RT_Collision.F real_time/RT_ELPH_initialize.F

  Bugs:
  - [RT_ELPH] l_ELPH_CCA_Kernel wrongly defined after recent commit

  Changes:
  - [RT] RT_Deph_Matrix definition changed to the **inverse** lifetime. This in order
    to prevent potential infinities in the time evolution.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1293 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug fix in QP-lifetimes loading. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1291 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Andrea Marini]

  *  configure include/version.inc config/configure.ac qp/QP_report_and_write.F qp/QP_expand.F qp_ctl/QP_apply_DB_interpolation.F interface/init_load.F interface/init.F real_time/RT_Dephasing_Matrix.F real_time/RT_Field_Commensurable_Frequencies.F real_time/RT_driver.F real_time/RT_Collision.F real_time/RT_ELPH_total_Kernel.F real_time/RT_ELPH_CCA_Kernel.F real_time/RT_initialize.F real_time/RT_observables.F modules/mod_real_time.F ypp/RT_occupations_check.F ypp/RT_occupations_analyze.F driver/yambo_driver.F

  Bugs:
  - In QP_apply_DB_interpolation.F the lifetimes were incorrectly transferred from the database
    to the Energy levels

  Additions:
  - Expansion of the QP corrections to the entire BZ finalized (QPExpand flag)
  - [RT] Dephasing restructured using the RT_Deph_Matrix that now accounts for all kind
    of dephasing (user defined via matrix or scalar fields, radiative, QP database dictated)

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1290 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunl@1288. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1289 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Andrea Marini]

  *  configure include/version.inc config/configure.ac xc_functionals/XC_libxc_driver.F qp/QP_driver.F qp/QP_report_and_write.F qp/QP_expand.F qp/.objects qp_ctl/QP_apply_DB_interpolation.F interface/init_load.F interface/init.F + real_time/RT_initialize.F real_time/.objects real_time/DephMatrix_setup.F modules/mod_QP.F

  Additions:
  - Added flag to expand the QP corrections all over the BZ (experimental)

  Changes:
  - Merged woth trunk @ rev 1285.
  - DephMatrix_setup renamed in RT_Dephasing_Matrix to extend the Claudio's Dephasing matrix to
    take in account the polaronic lifetimes.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1286 76a4dfbf-5f1f-0410-a543-a0282073b526

- Devel-david branch added. Reserved to David Kammerlander
  <kammerlander.david@gmail.com> [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1274 76a4dfbf-5f1f-0410-a543-a0282073b526

- Improved version of OCCUPATIONS_IO_and_interpolate [devel-andrea] and
  mergering with the trunk@1255 done. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1270 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Andrea Marini]

  *  configure include/version.inc config/configure.ac doc/README.merge_with_GPL qp_ctl/OCCUPATIONS_IO_and_interpolate.F setup/setup.F interface/init_load.F interface/init.F communicate/REPORT_Occupations.F modules/mod_BS.F modules/std_presets.F bse/K_solvers.F bse/K_inversion.F ypp/RT_occupations_check.F ypp/k_random.F

  Bugs:
  - [YPP_RT] Crashing when the OCC database was not found
  - Fermi level setup different for en and Xen when a negative el temperature was used
  - [k_random] When using BZ_RIM_nkpts=0

  Changes:
  - Added option in the input file to adjust the way the BSE inversion is done.
    (m)ixed,(p)erturbative,(f)ull.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1265 76a4dfbf-5f1f-0410-a543-a0282073b526

- CHECK in RIM components of io_COLLISIONS switched off. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1260 76a4dfbf-5f1f-0410-a543-a0282073b526

- [devel-andrea] merged with trunk @ rev 1255. [trunk] bug fix in
  RT_fix_symmetries.F. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1257 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug fix in E_field rotation. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1256 76a4dfbf-5f1f-0410-a543-a0282073b526

- EQ symmetries removed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1254 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk @ rev 1252. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1253 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk@rev 1239. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1240 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Andrea Marini]

  *  configure include/version.inc config/configure.ac qp_ctl/mod_QP_CTL.F qp_ctl/OCCUPATIONS_IO_and_interpolate.F pol_function/Dipole_shifted_grids.F io/ioDB1.F + io/.objects io/ioDB1_reload.F io/.objects_gpl modules/std_presets.F modules/mod_SC.F bse/K_driver.F ypp/RT_occupations_repair.F ypp/k_random.F

  Bugs:
  - [RT & ELPH] Fixed bug in QP_apply that was overwriting the pre-loaded real-time occupations.

  Changes:
  - [RT & ELPH] Drastic change in the interpolation procedure of OCCUPATIONS_IO_and_interpolate.F now
    based on energies rather then on k-points.
  - ioDB1_reload.F changed in ioDB1_selective_scan.F where also partial I/O of the DB1 is allowed.
    Specific section can be now defined as an argument of the routine.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1231 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Andrea Marini]

  *  configure include/version.inc int_modules/mod_com2y.F config/configure.ac interface/barriers.F io/ioDB1.F ypp/RT_fix_symmetries.F

  Bugs:
  - [YPP_RT] Bug in the application of time-reversal in ypp/RT_fix_symmetries.F
  - [INTERFACES] Wrong definition of symmetries when time-reversal is used.

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1225 76a4dfbf-5f1f-0410-a543-a0282073b526

- Small TYPO in the LDA string definition. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1220 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk @ revision 1215. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1217 76a4dfbf-5f1f-0410-a543-a0282073b526

- Small bug in ioDB1 and in the definition of the el_dos file as output
  file. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1208 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Andrea Marini]

  *  configure include/version.inc int_modules/mod_xc2y.F p2y/p2y_db1.F p2y/mod_p2y.F config/Makefile.in config/configure.ac xc_functionals/xcxalp.F xc_functionals/xcwign.F xc_functionals/el_current.F xc_functionals/XC_lda_driver.F xc_functionals/xcspol.F xc_functionals/.objects xc_functionals/mod_xc_costants.F xc_functionals/xchelu.F xc_functionals/xcpzca.F common/OCCUPATIONS_Fermi.F common/OCCUPATIONS_Boltzmann.F common/.objects wf_and_fft/WF_load.F wf_and_fft/.objects pol_function/.objects_gpl communicate/REPORT_Occupations.F modules/mod_electrons.F modules/mod_xc_functionals.F modules/std_presets.F ypp/ypp_init.F ypp/electrons_current.F ypp/ypp_init_load.F ypp/electrons_driver.F ypp/.objects ypp/.objects_gpl ypp/k_random.F driver/ypp.h driver/ypp.h_gpl sbin/yamboo.pl

  Merged with trunk @ revision 1205

  Additions:
  - Added possibility for ypp to load only a reduced number of k-points from the RIM database

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1206 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk @ revision 1197. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1202 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Andrea Marini]

  *  configure include/version.inc config/configure.ac lib/libxc/configure lib/libxc/config.h.in qp_ctl/mod_QP_CTL.F common/OCCUPATIONS_Fermi.F setup/setup.F io/io_header.F modules/std_presets.F modules/mod_D_lattice.F

  Additions:
  - Added support for "negative" electronic temperature. In this case %f are Fermi-like distributed
    but %nbf and %nbm are not changed.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1201 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk @ revision 1190. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1193 76a4dfbf-5f1f-0410-a543-a0282073b526

- Small typos and bug fix. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1192 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk @ revision 1162. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1163 76a4dfbf-5f1f-0410-a543-a0282073b526

- Added max_value of 2D time-dependent DOS. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1160 76a4dfbf-5f1f-0410-a543-a0282073b526

- Small change to the RT dos. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1159 76a4dfbf-5f1f-0410-a543-a0282073b526

- Minor bug fixes. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1158 76a4dfbf-5f1f-0410-a543-a0282073b526

- Last patch revised and completed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1157 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Andrea Marini]

  *  configure include/version.inc config/configure.ac ypp/ypp_init.F ypp/mod_YPP.F ypp/RT_occupations_check.F ypp/ypp_init_load.F ypp/RT_occupations_repair.F ypp/RT_occupations_analyze.F ypp/.objects

  Additions:
  - [YPP_RT] Routine to fix the occupations in order to respect the correct number of electrons
  - [YPP_RT] Routine to evaluate the electronic temperature corresponding to a given occupation configuration

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1156 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug fix in QP_state_table_setup.F. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1154 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug fixed in IO_RT_time setup. Restart now is working again. [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1153 76a4dfbf-5f1f-0410-a543-a0282073b526

- More stringent energy conservation constrain added. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1151 76a4dfbf-5f1f-0410-a543-a0282073b526

- Giant Bug in finite T el-ph Kernel fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1150 76a4dfbf-5f1f-0410-a543-a0282073b526

- I/O skipped directly in RT_databases_IO. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1149 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Andrea Marini]

  *  configure include/version.inc config/configure.ac ypp/ypp_init.F ypp/RT_occupations_analyze.F

  Additions:
  - [YPP_RT] Occupations accumulated in single file

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1147 76a4dfbf-5f1f-0410-a543-a0282073b526

- Report of electronic density [cm⁻3] added during setup. [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1146 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug-fix in Occupations I/O (again) [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1139 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug-fix in Occupations I/O. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1138 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Andrea Marini]

  *  configure include/version.inc config/configure.ac qp_ctl/OCCUPATIONS_IO_and_interpolate.F common/OCCUPATIONS_Extend.F setup/setup.F interface/init.F io/io_SC_components.F ypp/electrons_dos_and_charge.F ypp/k_random.F

  Bugs:
  - [RT] Fixed broken compatibility with non fragmented RT_occupations databases

  Additions:
  - [YPP, YPP_RT] Added RIM support to the evaluation of the electronic DOS

  Changes:
  - [RT] some clean-up

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1137 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Andrea Marini]

  *  configure include/version.inc config/configure.ac qp_ctl/OCCUPATIONS_IO_and_interpolate.F real_time/RT_output.F real_time/RT_initialize.F real_time/RT_observables.F real_time/RT_Fluence.F io/io_SC_components.F

  Bugs:
  - [YPP_RT] Fixed I/O of occupations with splitted databases

  Changes:
  - [RT] Replaced E.M. energy with T-dependent Fluence in RT_observables

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1131 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Andrea Marini]

  *  configure include/version.inc config/configure.ac qp_ctl/OCCUPATIONS_IO_and_interpolate.F interface/init_load.F real_time/RT_driver.F real_time/RT_initialize.F real_time/RT_databases_IO.F real_time/RT_start_and_restart.F io/variables_SC.F io/io_SC_components.F modules/mod_real_time.F modules/std_presets.F ypp/RT_databases.F ypp/RT_occupations_check.F

  Bugs:
  - [RT] Fixed restart of an el-ph (CCA) calculation

  Additions:
  - [RT] Options to skip J/P I/O

  Changes:
  - [RT] Occupations database splitted in time intervals
  - [RT] Cache time changed in the input from integer to real (time units). Preset such that 1000 databases are created
    regardless of the total time simulation

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1130 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Andrea Marini]

  *  configure include/version.inc config/configure.ac real_time/RT_output.F real_time/RT_observables.F real_time/RT_start_and_restart.F sc/SC_Energy.F io/io_SC_components.F

  Changes:
  - [RT] Started working on the correct definitions of the total energy components
  - [RT] Occupations removed from the on-the-fly variables as they are already implemented in ypp_rt

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1129 76a4dfbf-5f1f-0410-a543-a0282073b526

- Small bug in gkkp m.e. definition. Little effect on final dynamics.
  [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1127 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Andrea Marini]

  *  configure include/version.inc config/Makefile.in config/configure.ac real_time/RT_ELPH_total_Kernel.F real_time/RT_driver.F real_time/RT_ELPH_CCA_Kernel.F real_time/RT_databases_IO.F real_time/RT_start_and_restart.F io/io_SC_components.F modules/mod_real_time.F ypp/RT_occupations_check.F ypp/RT_occupations_analyze.F

  Additions:
  - [RT] Implemented, in the diagonal CCA, electron/hole lifetimes to monitor the
    relaxation process
  - [RT] CCA stabilized by adding, by hand, a barrier to avoid unphysical violations of the energy conservation

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1126 76a4dfbf-5f1f-0410-a543-a0282073b526

- Devel-andrea moved. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1125 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Andrea Marini]

  *  configure include/version.inc config/configure.ac real_time/RT_ELPH_total_Kernel.F real_time/RT_ELPH_CCA_Kernel.F real_time/RT_ELPH_initialize.F real_time/RT_databases_IO.F real_time/RT_start_and_restart.F io/variables_SC.F io/io_SC_components.F modules/mod_real_time.F ypp/electrons_dos_and_charge.F

  Additions:
  - [RT] Added CCA (completed collision approximation) logical

  Changes:
  - [RT] Fixed I/O in case of a CCA calculation

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/devel-andrea@1124 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Andrea Marini]

  *  configure include/version.inc config/configure.ac interface/init_load.F interface/init.F real_time/RT_ELPH_total_Kernel.F + real_time/RT_ELPH_eq_Kernel.F real_time/.objects modules/mod_real_time.F ChangeLog

  Changes:
  - [RT] CCA moved in a separate, more performing, routine. Added option in the input file.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/devel-andrea@1121 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Andrea Marini]

  *  configure include/version.inc config/configure.ac real_time/RT_ELPH_out_of_eq_Kernel.F real_time/RT_ELPH_Kernel.F real_time/RT_Collision.F + real_time/RT_ELPH_eq_Kernel.F real_time/.objects real_time/RT_start_and_restart.F modules/mod_pars.F ypp/electrons_dos_and_charge.F ypp/RT_occupations_analyze.F

  Changes:
  - [RT] Total ELPH kernel splitted in "eq" and "out-of-eq". Implemented, in the "eq" routine
    the Completed Collision Approximation (CCA).

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/devel-andrea@1120 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Andrea Marini]

  *  configure include/version.inc config/configure.ac qp_ctl/OCCUPATIONS_IO_and_interpolate.F bz_ops/k_the_nearest.F interface/QP_ctl_load.F interface/init_load.F interface/init.F setup/setup.F real_time/RT_ELPH_Kernel.F real_time/RT_databases_IO.F real_time/RT_start_and_restart.F io/ioDB1.F modules/mod_real_time.F modules/std_presets.F ypp/RT_fix_symmetries.F ypp/RT_occupations_analyze.F

  Bugs:
  - [_YPP_RT] Bug in setting the time range on the basis of the numbers read from the database
  - [_RT] Fixed bug in the parallel all-to-all of the THETA matrix

  Additions:
  - [_RT] Added variable to control the energy of the full and empty level to be inverted by hand
  - [_RT] Added unperturbed symmetries in the db1 database

  Changes:
  -[_RT]  k_the_nearest.F extended in order to use the unperturbed symmetries

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/devel-andrea@1114 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Andrea Marini]

  *  configure include/version.inc config/configure.ac real_time/RT_ELPH_gkkp_remap.F real_time/RT_ELPH_Kernel.F real_time/RT_Collision.F real_time/RT_observables.F real_time/RT_phase_space.F real_time/.objects real_time/RT_databases_IO.F real_time/RT_Rabi_Function.F real_time/RT_start_and_restart.F real_time/RT_average_operator.F real_time/RT_ELPH_zeroing.F

  Bugs:
  - [_RT] RT_ELPH_Kernel.F : wrong indexing of the gkkp m.e.
  - [_RT] RT_ELPH_Kernel.F and RT_Collision.F.: wrong all-to-all call in the case
    of a parallel run
  - [_RT] RT_phase_space.F: wrong setup of logicals

  Additions:
  - [_RT] RT_ELPH_zeroing routine to zero the THETA matrix in parallel runs

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/devel-andrea@1110 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Andrea Marini]

  *  configure patch_to_work_without_gkkp include/version.inc config/configure.ac qp_ctl/OCCUPATIONS_IO_and_interpolate.F interface/init.F setup/QP_state_table_setup.F real_time/RT_ELPH_Kernel.F real_time/RT_start_and_restart.F io/io_SC_components.F modules/mod_real_time.F

  Bugs:
  - [YPP_RT] Wrong setup of time boundaries in src/interface/init.F

  Changes:
  - [YAMBO_RT] src/real_time/RT_ELPH_Kernel.F: Added separation of dynamics in occupied/empty subspaces
    to avoid instability caused, most probably, by the BKA.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/devel-andrea@1108 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug fixes in init.F and COLLISIONS_IO. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/devel-andrea@1102 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Andrea Marini]

  *  configure patch_to_work_without_gkkp include/version.inc config/configure.ac interface/init.F real_time/RT_ELPH_Kernel.F real_time/RT_ELPH_initialize.F io/io_SC_components.F

  Bugs:
  - [RT] In RT_ELPH_Kernel.F and in RT_ELPH_initialize.F. Now the code reproduces the same
    results of an older revision (1065) of the code.

  Additions:
  - [RT] RandQpts option added to the input file
  - [RT] q_weight saved in THETA database to avoid spurious oscillations in the restart
    due to the random choice of the RIM q points

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/devel-andrea@1099 76a4dfbf-5f1f-0410-a543-a0282073b526

- Minor organization issues fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/devel-andrea@1097 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Andrea Marini]

  *  configure include/version.inc config/configure.ac patch_to_make_yambo_ph_ito_work_with_rotatetd_gkkp qp/ELPH_Sigma_c.F qp/ELPH_gkkp_remap.F coulomb/rim_spherical.F interface/init_load.F interface/init.F real_time/RT_ELPH_Kernel.F real_time/RT_Collision.F real_time/RT_initialize.F real_time/RT_ELPH_initialize.F real_time/RT_phase_space.F modules/mod_real_time.F modules/mod_ELPH.F ypp/ELPH_atomic_amplitude.F

  Additions:
  - [RT] ELPH kernel extended to use the "real" GKKP m.e. obtained from an un-perturbed run
    rotated in the whole BZ.

  Changes:
  - [RT] Several allocations involving the ELPH problem moved in more pertinent places.
  - [RT] Frohlich alpha removed.
  - [RT] Implemented a parallel distribution of Q/K indexes. BY using this extension the GKKP
    m.e. are now stored in a saving memory mode.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/devel-andrea@1091 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Andrea Marini]

  *  configure include/version.inc config/configure.ac patch_to_make_yambo_ph_ito_work_with_rotatetd_gkkp qp/ELPH_gkkp_modelization.F qp/.objects + interface/init.F io/ioELPH.F ypp/ELPH_gkkp_expand.F ypp/ELPH_databases.F

  Bugs:
  - [_YPP_PH] Bug in the rotation of the GKKP m.e. The symmetry of the k-point was
    not at all taken into account. The rotation was stricktly valid only for k \in IBZ

  Additions:
  - [_PH] Patch file to make ELPH_Sigma_c.F to work with the extended GKKP databases.
    *** WARNING *** The rotation of the GKKP m.e. works only for the Fan term.
  - [_PH/_RT] Routine to re-map the GKKP m.e. in the perturbed q/k grid

  Changes:
  - [_RT] Removed the SN restriction of the ELPH database

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/devel-andrea@1089 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Andrea Marini]

  *  io/io_header.F io/ioELPH.F modules/mod_ELPH.F ypp/ypp_init.F + ypp/ELPH_gkkp_analysis.F ypp/mod_YPP.F ypp/ypp_init_load.F ypp/ELPH_databases.F ypp/ypp_i.F ypp/.objects driver/ypp.h

  Additions:
  - [_PH] Tool to exapnd the gkkp m.e. to the whole BZ added (still beta state)

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/devel-andrea@1085 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Andrea Marini]

  *  configure include/version.inc config/configure.ac qp/ELPH_gkkp_modelization.F qp/.objects io/ioELPH.F modules/mod_ELPH.F ypp/ELPH_gkkp_analysis.F ypp/ELPH_databases.F

  Additions:
  - [PH] List of BZ k_points added to ELPH db
  - [PH/RT] Routines to model and analyze the gkkp m.e.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/devel-andrea@1082 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Andrea Marini]

  *  configure include/version.inc config/configure.ac real_time/RT_ELPH_initialize.F ypp/ELPH_gkkp_analysis.F ypp/ELPH_eliashberg_dos.F

  Changes:
  - [YPP_PH] Improved tests on possible ways of modelling the gkkp m.e.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/devel-andrea@1074 76a4dfbf-5f1f-0410-a543-a0282073b526

- Few steps forward in gkkp analysis. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/devel-andrea@1070 76a4dfbf-5f1f-0410-a543-a0282073b526

- Update Changelog. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/devel-andrea@1068 76a4dfbf-5f1f-0410-a543-a0282073b526

- Git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/devel-
  andrea@1067 76a4dfbf-5f1f-0410-a543-a0282073b526. [Andrea Marini]

- Version 3.2.5. [Andrea Marini]

  *  configure include/version.inc config/configure.ac real_time/RT_ELPH_Kernel.F real_time/RT_databases_IO.F real_time/RT_start_and_restart.F io/io_SC_components.F modules/mod_real_time.F ypp/ypp_init.F ypp/mod_YPP.F ypp/ELPH_gkkp_analysis.F ypp/RT_occupations_check.F ypp/ypp_init_load.F ypp/electrons_charge.F ypp/ypp_i.F ypp/.objects ypp/ELPH_atomic_amplitude.F driver/ypp.h

  Additions:
  - [RT] Restart for the ELPH kernel
  - [YPP_RT] Added option to analyze/fit and model the gkkp m.e.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1065 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Andrea Marini]

  *  configure include/version.inc config/configure.ac qp_ctl/mod_QP_CTL.F coulomb/rim_spherical.F real_time/RT_ELPH_Kernel.F real_time/RT_driver.F real_time/RT_initialize.F real_time/RT_ELPH_initialize.F real_time/RT_start_and_restart.F real_time/RT_average_operator.F communicate/section.F io/io_SC_components.F ypp/ypp_init.F ypp/mod_YPP.F ypp/ypp_init_load.F ypp/electrons_dos_and_charge.F ypp/RT_occupations_analyze.F ypp/.objects

  Bugs:
  - [RT] Fixed section numbering

  Additions:
  - [RT] Temperature in RT databases

  Changes:
  - [YPP_RT] Added reference time to plot the change in the DOS

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1055 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Andrea Marini]

  *  real_time/RT_ELPH_Kernel.F real_time/RT_initialize.F real_time/RT_states.F + real_time/.objects real_time/RT_start_and_restart.F real_time/RT_average_operator.F ypp/ypp_init.F ypp/mod_YPP.F ypp/ypp_init_load.F ypp/electrons_dos_and_charge.F ypp/electrons_driver.F + ypp/.objects driver/ypp.h

  Additions:
  - [YPP_RT] Option to plot the time-dependent occupations of selected states

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1045 76a4dfbf-5f1f-0410-a543-a0282073b526

- [RT] Fixed bug in definition of dG for metals. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1042 76a4dfbf-5f1f-0410-a543-a0282073b526

- [RT] Added option to plot the fixed time DOS. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1041 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Andrea Marini]

  *  configure include/version.inc config/configure.ac qp_ctl/OCCUPATIONS_IO_and_interpolate.F interface/init_load.F interface/init.F setup/setup.F real_time/RT_ELPH_Kernel.F real_time/RT_initialize.F real_time/RT_states.F real_time/RT_ELPH_initialize.F real_time/RT_databases_IO.F io/io_elemental.F modules/mod_real_time.F modules/std_presets.F

  Bugs:
  - [RT] Wrong setup of NE_i_time in OCCUPATIONS_IO_and_interpolate.F

  Additions:
  - [RT] Several new input variables: RTmaxEn, AlphaFr, SkipGFIO, SkipOCCIO:
    RTmaxEn -> RT_states
    AlphaFr -> Frohlich adimensional alpha
    SkipGFIO, SkipOCCIO -> Skip I/O if Green Functions and/or Occupations

  Changes:
  - [RT] RT_states.F is a selctor of the evolved e/h pairs. Now it has been changed in order to
    select the states on the basis of the available e/h energy.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1035 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Andrea Marini]

  *  qp_ctl/OCCUPATIONS_IO_and_interpolate.F real_time/RT_initialize.F real_time/RT_states.F io/io_SC_components.F modules/mod_real_time.F

  Additions:
  - [RT] RT_states selects states to evolve using an energy window. Eventually it reduces the total bands involved in the dynamics.

  Changes:
  - [RT] Parallel index setup moved outside RT_Collision
  - [RT] Reduced dimensions of RT_occupations

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1030 76a4dfbf-5f1f-0410-a543-a0282073b526

- Devel-andrea added. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-andrea@1018 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  config/Makefile.in config/configure.ac configure include/version.inc

  Bugs:
  -
  Additions:
  -
  Changes:
  - e2y compiles

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3042 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc ypp/electrons_driver.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - ypp can now plot the WFs also in case nspinor=2

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3041 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Myrta Gruning]

  *  config/Makefile.in

  Bugs: Error in dependencies for interfaces libs prevented compilation when 'make interfaces' from clean
  -
  Additions:
  -
  Changes:
  -


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3040 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug fixed to pass TD-SEX in serial. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3035 76a4dfbf-5f1f-0410-a543-a0282073b526

- Timing in openmp done using n_threads_now. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3033 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  . config/configure.ac configure driver/ypp.h include/version.inc collisions/COLLISIONS_cohsex.F common/.objects common/FREQUENCIES_coarse_grid.F + interface/init.F interpolate/bz_interp_coeff.F interpolate/bz_interp_setup.F interpolate/bz_interpolation.F interpolate/eval_interpolation_coeff.F interpolate/fourier_interpolation.F io/.objects io/ioE_RIM.F + modules/.objects modules/mod_R_lattice.F modules/mod_SC.F modules/mod_interfaces.F modules/mod_interpolate.F modules/mod_plasma.F modules/mod_real_time.F parallel/PARALLEL_WF_distribute.F parallel/PARALLEL_global_indexes.F qp/Plasma_driver.F qp/Plasma_setup.F real_time/.objects real_time/RT_Coulomb_relaxation.F real_time/RT_ELPH_CCA_Kernel.F real_time/RT_G_retarded_convolution.F real_time/RT_driver.F real_time/RT_impose_N_conservation.F + real_time/RT_initialize.F real_time/RT_k_grid.F real_time/RT_mean_carrier_lifetimes.F real_time/RT_observables.F + real_time/RT_output.F real_time/RT_relaxation.F real_time/RT_start_and_restart.F setup/setup.F ypp/.objects ypp/RT_occupations_FIT.F ypp/RT_occupations_analyze.F ypp/RT_occupations_check.F + ypp/electrons_bands.F ypp/electrons_dos_and_charge.F ypp/electrons_driver.F ypp/k_random.F ypp/mod_YPP.F ypp/read_bxsf.F ypp/ypp_i.F ypp/ypp_init.F ypp/ypp_init_load.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Merged with devel-davide:
    * Plasma is now a type
    * RIM dbs contains also kpts (tested only with RT RIM). RIM kpts are saved in the
      new elements of the bz_samp struture (%pt_RIM and %ptbz_RIM) as RIM energies are
      saved in the levels structure (%E_RIM)
    * ypp can interpolate occupations on the band structure also from a RIM run thanks to
      the new RIM structure and using Claudio's interplation subroutines (l_RT_bands)
    * FIT of the electrons and holes temperatures on the fly
    * Parallel global index for real-time are now based on EH_gas (plasma type).
      Names still to be improved
    * When the RT_rim structure is constructed (function RT_k_grid) a new structure is computed,
      RIM_closest_E(i_n,i_k_rim) = i_k which is closest in energy (within the same i_n)
    * Output file .dynamics now contains the Temperatures of the fit and the total energy.
      The components of the energy are written in the .energy output file
    * Mean carrier lifetimes are printed after they are computed.
    * RT_impose_N_conservation rewritten although it contains only the the N conservation for the moment
    * it_now for restart fixed
    * RT_occupations analyze structure improved

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3032 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3026 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3023 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version updated. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3015 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merge problems fixed. All non-RT tests passed with all possible CPU
  configurations. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3014 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea@r3012. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3013 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  . configure include/version.inc collisions/COLLISIONS_cohsex.F collisions/COLLISIONS_load.F parallel/PARALLEL_global_indexes.F real_time/RT_Collision.F real_time/RT_relaxation.F real_time/RT_start_and_restart.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Merged with devel-andrea

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@3002 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  configure include/version.inc collisions/COLLISIONS_cohsex.F interface/init_load.F modules/mod_parallel.F parallel/PARALLEL_WF_distribute.F parallel/PARALLEL_global_indexes.F real_time/RT_average_operator.F

  Bugs:
  - Fixed small bug. Parallelization over collisions seems working

  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2993 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2992 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc

  Bugs:
  -
  Additions:
  -
  Changes:
  - confiugre with "--enable-open-mp" option works also with gfortran

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2962 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc qp/Plasma_driver.F real_time/RT_initialize.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Fixed output of total time and Plasma approximation

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2958 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc collisions/COLLISIONS_alloc_and_free.F collisions/COLLISIONS_linearize_and_IO.F collisions/COLLISIONS_load.F interface/init.F io/ioKB_abinit.F io/ioKB_pwscf.F real_time/RT_manual_excitation.F wf_and_fft/WF_load.F

  Bugs:
  - fixed bug with real collisions I/O (HF)
  Additions:
  -
  Changes:
  - merged with trunk/stable (bug fix for ioKB)
  - merged with devel-andrea (bug fixes)
  - RT_manual_excitations reverted to previous version, otherwise yambo did not overcome RT tests

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2954 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc io/ioKB_abinit.F io/ioKB_pwscf.F

  Bugs:
  - Reverted changes introduced with commit 2440 in ioKB and which are clearly wrong
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2953 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2947 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc collisions/COLLISIONS_load.F qp/Plasma_driver.F wf_and_fft/WF_load.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Bug fixes for parallel runs

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2946 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc collisions/COLLISIONS_alloc_and_free.F interface/init_load.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Hopefully this time collisions/COLLISIONS_alloc_and_free.F is ok ...

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2941 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc collisions/COLLISIONS_alloc_and_free.F collisions/COLLISIONS_eval.F modules/mod_interfaces.F parallel/PARALLEL_WF_distribute.F qp/Plasma_driver.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Fixed bug in allocation-deallocation of collisions (COLLISIONS_alloc_and_free.F)
  - yambo_rt now works in parallel, however the last level (Plasma) is still broken
  - Plasma structure inside PARALLEL_WF_distribute is ok

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2940 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc

  Bugs:
  -
  Additions:
  -
  Changes:
  - Fixed revision after previous commit
  - Correct commit.msg file related to the previous commit:
    * Plasma structure introducted from my branch. Also started work for parallel
      Plasma structure. Still on working ...
    * Collisions v3 is now collisions%v3r for l_elel_sattering and
                           collisions%v3c for l_elel_sattering
    * Changed RT_impose_N_conservation
    * Removed several unused variables in ypp and in other subroutines
    * improved Hyperbolic_secant implementation
    * improved RT_manual_excitations in the RIM case.
    * Fixed the RT_io_steps and all related procedures.
      Now it=1 | T=0.      |   file=0
           .   |  .        |   .
          it=n | T=(n-1)*T |  file=(n-1)/RT_io_steps <--> if( (mod(n-1),RT_io_steps)==0 )
           .   |  .        |   .

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2931 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  . include/version.inc config/configure.ac configure xc_functionals/XC_libxc_driver.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - merged with trunk stable. Bug-fix imported
  - fixed version numbering in config/configure.ac

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2929 76a4dfbf-5f1f-0410-a543-a0282073b526

- Small bugs in timing stop. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2919 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea@r2917. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2918 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  . include/version.inc config/configure.ac configure xc_functionals/XC_libxc_driver.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - merged with trunk stable. Bug-fix imported
  - fixed version numbering in config/configure.ac

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2901 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  include/version.inc xc_functionals/XC_libxc_driver.F config/configure.ac configure

  Bugs:
  - xc_functionals/XC_libxc_driver.F was returning a wrong V_xc for systems with
    a somewhere negative local magnetization and n_sp_pol=2. Bugs pointed out by AF.
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2900 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea@r2880. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2881 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  include/version.inc configure parallel/PARALLEL_global_indexes.F wf_and_fft/WF_load.F

  Bugs:
  - gfortran asks for .eqv. instead of == when comparing two logicals
  - B_mat_index is defined from SC_bands(1), loop fixed
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2868 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea@2864. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2865 76a4dfbf-5f1f-0410-a543-a0282073b526

- Revision number updated. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2854 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andre@r2849. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2853 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  modules/SET_defaults.F common/OCCUPATIONS_Fermi.F real_time/RT_manual_excitation.F include/version.inc config/configure.ac configure

  Bugs:
  - Fixed bug in OCCUPATIONS_Fermi
  Additions:
  -
  Changes:
  - Input energy for RT_manual_excitations is not changed by yambo
  - IO_time set by default to 0.5 fs

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2844 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  . config/configure.ac ypp/RT_occupations_check.F ypp/RT_occupations_analyze.F include/version.inc driver/yambo_driver.F driver/yambo.h configure parallel/PARALLEL_global_indexes.F io/io_COLLISIONS.F io/COLLISIONS_load.F io/variables_SC.F modules/SET_defaults.F modules/mod_electrons.F modules/mod_collisions_IO.F modules/mod_real_time.F modules/mod_drivers.F qp/QP_newton.F qp/QP_of.F qp/QP_driver.F qp/QP_descriptions.F qp/COLLISIONS_cohsex.F qp/COLLISIONS_store.F qp/QP_report_and_write.F qp/ELPH_Sigma_c.F qp/COLLISIONS_eval.F qp_ctl/mod_QP_CTL.F setup/QP_external_corrections.F setup/QP_state_table_setup.F interface/init_load.F interface/init.F interface/barriers.F real_time/RT_observables.F real_time/RT_databases_IO.F real_time/RT_initialize.F real_time/RT_start_and_restart.F real_time/RT_driver.F real_time/RT_impose_N_conservation.F real_time/RT_ELPH_initialize.F real_time/RT_ELPH_zeroing.F real_time/RT_manual_excitation.F real_time/RT_relaxation.F common/OCCUPATIONS_Extend.F common/OCCUPATIONS_Fermi.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Merged with devel-davide:
    1) Energy references are now relative to Valence Band Maximum (VBM) and
       Conduction Band minimum (CBm). E_VBM and E_CBm are now part of the levels structure.
    2) Logicals and runlevels reorganized:
       * yambo_ph/yambo_rt -c [(e)lectrons/(p)honons/(b)oth] controls
         l_elel_corr  and l_elph_corr  refer to equilibrium     self-energy
       * yambo_rt -s [(e)lectrons/(p)honons/(b)oth] controls
         l_elel_scatt and l_elph_scatt refer to out-of-equirium self-energy = Scattering terms
    3) "rim_cut" runlevel is now yambo -r

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2830 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  config/configure.ac config/Makefile.in configure qp_ctl/QP_apply_global_stretch.F real_time/RT_impose_N_conservation.F real_time/RT_G_retarded_EE_initialize.F real_time/RT_driver.F real_time/RT_mean_carrier_lifetimes.F real_time/RT_Coulomb_relaxation.F real_time/RT_Collision.F common/OCCUPATIONS_Fermi.F include/version.inc

  Bugs:
  - Fixed a couple of bugs in carrier dynamics with el-el scattering and RIM
  - e2y now compiles also in the trunk/devel (thanks Conor)
  Additions:
  -
  Changes:
  - The Fermi level is now always in the middle between the VBM and the CBm, also at T=0

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2817 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fixed wrong merge with my branch. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2812 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  . ypp/RT_occupations_repair.F ypp/RT_occupations_analyze.F ypp/electrons_dos_and_charge.F ypp/RT_occupations_FIT.F include/version.inc config/configure.ac configure modules/mod_real_time.F modules/SET_defaults.F common/HyperbolicSecant_FT.F interface/init_load.F interface/init.F real_time/RT_start_and_restart.F real_time/RT_k_grid.F real_time/RT_impose_N_conservation.F real_time/RT_G_retarded_EP_initialize.F real_time/RT_ELPH_initialize.F real_time/RT_G_retarded_EE_initialize.F real_time/RT_ELPH_total_Kernel.F real_time/RT_ELPH_CCA_Kernel.F real_time/RT_G_retarded_convolution.F io/io_RT_components.F io/variables_SC.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Merged with devel-davide:
    * fixed bug in RT_impose_nel_conservation
    * fixed restart with RIM
    * ypp_rt -t o? works alo without RIM. do with RT still to be fixed

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2811 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  . config/configure.ac ypp/k_random.F ypp/ypp_init_load.F ypp/ypp_init.F ypp/RT_occupations_analyze.F include/version.inc configure real_time/RT_G_retarded_EE_initialize.F real_time/RT_initialize.F real_time/RT_start_and_restart.F real_time/RT_G_retarded_EP_initialize.F io/variables_SC.F modules/mod_real_time.F modules/SET_defaults.F modules/mod_com.F of conflicts:

  Bugs:
  -
  Additions:
  -
  Changes:
  - merged with devel-davide:
    * cleaned code from Gred DB
    * working on ypp_rt with RIM (likely ypp_rt withou RIM is not working now...)

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2786 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  . qp_ctl/QP_apply_global_stretch.F modules/mod_SC.F modules/SET_defaults.F modules/mod_real_time.F common/HyperbolicSecant_FT.F bz_ops/bz_samp_indexes.F interface/init_load.F interface/init.F real_time/RT_start_and_restart.F real_time/RT_G_retarded_EP_initialize.F real_time/RT_G_retarded_EE_initialize.F real_time/RT_G_retarded_convolution.F real_time/RT_manual_excitation.F real_time/RT_ELPH_CCA_Kernel.F io/.objects io/io_G_retarded.F config/configure.ac ypp/RT_G_retarded_frequency.F ypp/mod_YPP.F ypp/.objects ypp/ypp_init_load.F ypp/RT_occupations_FIT.F ypp/RT_occupations_analyze.F ypp/ypp_init.F ypp/RT_G_retarded.F ypp/RT_occupations_check.F ypp/ypp_i.F include/version.inc driver/ypp.h configure

  Bugs:
  -
  Additions:
  -
  Changes:
  - merged with devel-davide:
    * Gret removed fom ypp, now can be decided in input
    * fixed Efermi shift for manual_excitations and E%W
    * ypp_rt -t of and -t op is now working with RIM (maybe it is not without RIM...)

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2777 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  . configure common/.objects + config/configure.ac ypp/RT_occupations_analyze.F ypp/RT_occupations_FIT.F include/version.inc of conflicts:

  Bugs:
  -
  Additions:
  -
  Changes:
  - merged with devel-davide

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2773 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea@2771. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2772 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fixed small compilation issue. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2769 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk stable. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2768 76a4dfbf-5f1f-0410-a543-a0282073b526

- Add forgot file e2y_wf_components.F. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2767 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  . e2y/e2y_i.F e2y/etsf_data.F e2y/e2y_kb_pp.F e2y/e2y_wf.F e2y/.objects e2y/e2y_db1.F int_modules/mod_xc2y.F include/version.inc driver/e2y.h configure pol_function/Dipole_shifted_grids.F io/ioDB1.F modules/mod_vec_operate.F sbin/make_makefile.sh.in config/configure.ac ypp/ypp_init.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Merged with trunk stable up to rev 2673

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2764 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea@2761. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2763 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  include/version.inc configure real_time/RT_G_retarded_EP_initialize.F

  Bugs:
  - Fixed an old bug due to a typo "i_s" instead of "is"
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2753 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  e2y/e2y_kb_pp.F e2y/etsf_data.F e2y/e2y_wf.F e2y/e2y_i.F e2y/.objects e2y/e2y_db1.F include/version.inc driver/e2y.h configure modules/mod_vec_operate.F config/configure.ac

  Bugs:
  -
  Additions:
  -
  Changes:

  - e2y interface from KSS-etsf file know writes wfs on components.
    Used same trick of a2y. Still to be checked the cases nspin>1.

  - e2y now can read also WFK-etsf files. However
    1) the kb form factors are not present (i.e. ns.kb_pp DBs is not created).
       Need work from the abinit group, for the creation of a NETCDF-etsf file
       containing this infos.
    2) The generation of the complete gvectors-grid is very slow.
       Nsym times double loop on ng_vec.
       Also (this is not an issue) the resulting wf_ng is different from wf_ng
       obtained from the KSS file, simply because the ordering of the gvectors
       inside the last shell is different.

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2750 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  configure e2y/e2y_db1.F include/version.inc config/configure.ac

  Bugs:
  -
  Additions:
  -
  Changes:
  - e2y is now working again, at least for Si with nspin=1.
    Test with abinit-7.4.1

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2749 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  configure io/ioDB1.F modules/std_presets.F pol_function/Dipole_shifted_grids.F sbin/make_makefile.sh.in config/configure.ac int_modules/mod_xc2y.F e2y/e2y_i.F include/version.inc

  Bugs:
  -
  Additions:
  -
  Changes:
  - Fixed few bugs in Dipole_shifted grids. However, as pointed out also by Myrta, dipoles with this procedure are wrong,
    because of phase problems with the WFs. Only RPA-IP spectra are OK when all degenerate bands are included.
  - Fixed e2y compilation fixed. To be checked if it works.

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2748 76a4dfbf-5f1f-0410-a543-a0282073b526

- Removed debug lines I left with the last commit. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2736 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  wf_and_fft/WF_load.F qp/COLLISIONS_cohsex.F ypp/ypp_init.F ypp/k_random.F ypp/ypp_init_load.F include/version.inc configure

  Bugs:
  - Fixed bug in k_random introduced after merge with trunk stable
  - "RT-X" renamer "RT_X" because the "-" symbol is not correcty handled by the parser
  - mem est error fixed in COLLISIONS_cohsex.F
  Additions:
  -
  Changes:
  - WF_load allocation temporary restored to wf_nb_io to make the code work in linear respone
    calculations. To introduce a smaller allocation one should likely change the io_dimensions in ioWF

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2734 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  configure qp/COLLISIONS_IO_cohsex.F include/version.inc config/configure.ac

  Bugs:
  - Two small bug-fix
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2733 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea@2729. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2730 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  configure interface/init.F include/version.inc

  Bugs:
  -
  Additions:
  -
  Changes:
  - reverted commit r2710 by AndreaM to interface/init.F otherwise
    yambo_devel is running by default the em1d runlevel
  - fixed enable_keep_src flag in yambo/devel

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2728 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  parser/mod_itm.F interface/QP_init.F config/configure.ac ypp/ypp_i.F ypp/ypp_init.F include/version.inc configure

  Bugs:
  -
  Additions:
  -
  Changes:
  - Bug fix imported from trunk/devel

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2726 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  . io/ioBSS_invert.F qp/ELPH_Hamiltonian.F lib/libxc/configure ypp/k_random.F ypp/fix_PPs.F include/version.inc configure

  Bugs:
  -
  Additions:
  -
  Changes:
  - Merged with trunk/stable up to last revision

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2725 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  . io/ioELPH.F setup/QP_external_corrections.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - merge with trunk/stable up to rev 2500 completed with the small changes left.

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2724 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  . include/version.inc configure modules/mod_real_time.F modules/SET_defaults.F interface/init.F sc/SC_bare_Hamiltonian.F + ypp/ELPH_databases.F ypp/mod_YPP.F ypp/ypp_init.F ypp/ypp_init_load.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Merged with trunk up to rev2500.  Subroutines excluded from merging:
  * src/real_time/RT_start_and_restart.F
  * src/real_time/RT_initialize.F
  * src/qp/COLLISIONS_IO_eval.F
  * src/qp/COLLISIONS_IO_cohsex.F
  * src/qp/COLLISIONS_IO_compose.F

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2723 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea@2709. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2710 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  configure io/ioBSS_invert.F config/configure.ac ypp/k_random.F ypp/fix_PPs.F include/version.inc

  Bugs:
  - io/ioBSS_invert.F: fixed old bug due to a non correct merge with my branch which prevented
    the inversion solver from working properly
  - ypp/k_random.F: when we have a fine grid we need to redefine the zeros on the kpts
  - ypp/fix_PPs.F: fixed small bug

  Additions:
  -
  Changes:
  - ypp/k_random.F: also other small improvements

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2706 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  qp/ELPH_Hamiltonian.F ypp/k_random.F include/version.inc config/configure.ac configure

  Bugs:
  - Fixed long line in ELPH_Hamiltonian.F
  - Fixed small bug in RIM with spin
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2704 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea@2694. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2695 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  . configure common/TEMPERATURE_Debye.F interface/init_load.F real_time/RT_ELPH_initialize.F real_time/RT_driver.F ypp/RT_occupations_FIT.F ypp/RT_occupations_analyze.F include/version.inc

  Bugs:
  -
  Additions:
  -
  Changes:
  - merged with devel davide:
    TEMPERATURE_Debye improved
    Occuations_FIT output restyling

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2693 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  include/version.inc configure driver/ypp.h ypp/ypp_init.F ypp/ypp_init_load.F ypp/RT_occupations_repair.F ypp/electrons_driver.F ypp/RT_occupations_analyze.F ypp/RT_occupations_FIT.F ypp/mod_YPP.F ypp/RT_occupations_check.F ypp/ypp_i.F

  Bugs:
  - Now RT_occ_repair works aso if the QP range in input is different from
    the range defined by SC_bands
  - Fixed another but in RT_occupations_repair
  Additions:
  -
  Changes:
  - RToccFit and RToccPot are now two differet runlevels
  - cleaning of unused variables

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2681 76a4dfbf-5f1f-0410-a543-a0282073b526

- Wrong merge of RT_observables.F fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2679 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea@2676. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2677 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  io/io_P_and_P2.F real_time/RT_current_AND_polarization.F real_time/RT_start_and_restart.F include/version.inc configure

  Bugs:
  - Now parallel runs and restart in parallel works on my laptop also with "DEBUG" flags
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2666 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  include/version.inc configure io/io_DIPOLES.F

  Bugs:
  - RT restart is now working.
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2665 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  . modules/mod_real_time.F real_time/RT_Fluence.F real_time/RT_observables.F real_time/RT_initialize.F include/version.inc configure

  Bugs:
  -
  Additions:
  -
  Changes:
  - code speed-up from devel-davide: RT_fluence computation modified

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2661 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  include/version.inc configure parallel/PARALLEL_get_user_structure.F setup/PARALLEL_and_IO_Setup.F modules/mod_parallel.F

  Bugs:
  - Fixed two errors introduced with the last commit
  - Small bug fix
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2653 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea@2651. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2652 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  . ypp/ypp_i.F ypp/ypp_init.F ypp/ypp_init_load.F ypp/RT_occupations_repair.F ypp/electrons_driver.F ypp/RT_occupations_analyze.F ypp/RT_occupations_FIT.F ypp/mod_YPP.F ypp/electrons_dos_and_charge.F include/version.inc configure driver/ypp.h

  Bugs:
  - Fixed small bug in parallelization
  Additions:
  -
  Changes:
  - Improved Fermi function FIT subroutine
  - RT_dos and RT_occupations analysis in ypp reorganized

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2649 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  . configure include/version.inc ypp/RT_occupations_FIT.F ypp/RT_occupations_analyze.F

  Bugs:
  - Fixed small bug in ypp/RT_occupations_analyze.F
  Additions:
  -
  Changes:
  - small improvements in temperature FIT

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2644 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-davide. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2642 76a4dfbf-5f1f-0410-a543-a0282073b526

- Git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-
  devel/trunk@2627 76a4dfbf-5f1f-0410-a543-a0282073b526. [Andrea Marini]

- Merged with devel-andrea@2625. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2626 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Myrta Gruning]

  *   qp/ELPH_Hamiltonian.F

  Bugs: Wrong type in array aborted compilation
  -
  Additions:
  -
  Changes:
  -


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2611 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fixed wrong logicals in external QP database I/O. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2608 76a4dfbf-5f1f-0410-a543-a0282073b526

- Wrong stop in OCCUPATIONS load fixed during a simple _sc run. [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2607 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2587 76a4dfbf-5f1f-0410-a543-a0282073b526

- Hiroki bug-fix aded to ELPH_Sigma_c.F. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2582 76a4dfbf-5f1f-0410-a543-a0282073b526

- E-p Hamiltonian: added e-p states analysis and residual treshold.
  [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2579 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with devel-andrea. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2577 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc modules/SET_defaults.F qp/XCo_local.F ypp/RT_occupations_analyze.F ypp/RT_occupations_check.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Merged with devel-davide: XCo_local computes hermitian part
                              changed how ypp_rt -s o uses logicals
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2567 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Andrea Marini]

  *  configure include/version.inc config/configure.ac qp/QP_driver.F qp/ELPH_Sigma_c.F qp_ctl/QP_apply_global_stretch.F qp_ctl/mod_QP_CTL.F interface/init.F setup/QP_external_corrections.F io/ioELPH.F modules/mod_ELPH.F

  Additions:
  - [ELPH] Added external QP corrections and stretching  on the k+q levels read
    from PW

  Changes:
  - [ELPH] Added partial DW and Fan components of the self-energy corrections (to code)
  - [ELPH] Tad-Pole diagram started.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2550 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  . config/acx_report.m4 config/configure.ac config/report.in configure doc/README.branches_and_trunk driver/driver.c driver/ydb.h include/version.inc modules/mod_parallel.F sc/V_real_space_to_H.F ydb/ydb_i.F ypp/electrons_dos_and_charge.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - merged with devel-andrea

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2548 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  common/.objects common/TEMPERATURE_Debye.F io/io_G_retarded.F sc/V_qp_basis_to_H.F sc/V_real_space_to_H.F ypp/RT_G_retarded.F

  Bugs:
  - io operators dimension different from variable dimension in io_G_retarded
  - build only hermetian part in V_qp_basis_to_H.F and V_real_space_to_H.F
  - A_w_DP set to zero only if allocated
  - first rought inplementation of TEMPERATURE_Debye.F subroutine inserted
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2538 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  qp/COLLISIONS_cohsex.F

  Bugs:
  - errors was not initialized to zero
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2535 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  parallel/PARALLEL_global_indexes.F wf_and_fft/WF_load.F

  Bugs:
  - Fixed bug in WF_load when wf_nb_io > states_to_load(2)
  Additions:
  -
  Changes:
  - Fixed long line in parallel/PARALLEL_global_indexes.F for gfortran

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2534 76a4dfbf-5f1f-0410-a543-a0282073b526

- Trunk/devel rebuilt from devel-andrea@rev2494. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2497 76a4dfbf-5f1f-0410-a543-a0282073b526

- Trunk/devel removed (to be rebuilt) [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2496 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fake commit to sync mergering number revision up to 2460. [Davide
  Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2493 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fake commit to sync mergering number revision. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2492 76a4dfbf-5f1f-0410-a543-a0282073b526

- OLD trunk now in trunk/stable. Andrea's devel (with new MPI support)
  now in trunk/devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2491 76a4dfbf-5f1f-0410-a543-a0282073b526

- K+q levels added as levels kind. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2489 76a4dfbf-5f1f-0410-a543-a0282073b526

3.4.2 (2016-01-14)
------------------

- REPOSITORY reorganization based on decisions taken at the Meeting.
  [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/tags/3.4.2@5277 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K_IP.F bse/K_eh_setup.F interface/init_load.F modules/mod_BS.F pol_function/X_drude.F pol_function/X_os.F

  Bugs:
  - [yambo] Bug fix imported from trunk devel. The DrudeWXs input variable
            was not correctly parsed in the input and test 03_QP_COSEX_drude
            of Al_bulk was failing.
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@5271 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc pol_function/X_eh_setup.F pol_function/X_os.F

  Bugs:
  - [yambo] previous commit was still excluding points at finite transfered momentum
            with ik and ikp belonging to the same star. Now instead only points at
            iq=0 are excuded. Such commit was not respecting the symmetries of the
            system and was giving correct result only in runs without symmetries.
            Now instead only points at iq=0 are excuded. This is the correct fix.
            Such points have to be escluded because the dipoles at q=0 are not defined
            and their effect can be eventually included only via a Drude term.

  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@5269 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc pol_function/X_eh_setup.F

  Bugs:
  - [yambo] In X_eh_setup transitions with E<1.E-5 are neglected only if ik==ikp
            These are the transitions at q=0 which can be then included via a Drude term,
            i.e. which describe the q-->0 limit.
            Other transitions at finite momentum must be included.
            This bug was making the test 03_QP_COHSEX of Al_bulk fail in the test-suite.
            Bug #201 in the tracker
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@5268 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc qp/QP_real_axis.F

  Bugs:
  - [yambo] fixed bug in parallelization of QP_real_axis for l_life case
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@5244 76a4dfbf-5f1f-0410-a543-a0282073b526

- Copyright year updated. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@5243 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  devel/bse/K_solvers.F stable/sbin/yamboo.pl stable/bse/K_diagonalization.F stable/bse/K_driver.F stable/bse/K_solvers.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Fixed few GPL flags and defined _SC lines

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@5242 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fixed wrong version in configure. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@5239 76a4dfbf-5f1f-0410-a543-a0282073b526

- Yamboo.pl scripts in stable updated to devel version. Removed
  distinction yamboo and yamboo_new. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@5238 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  devel/bse/K_Haydock.F stable/bse/K_Haydock.F

  Bugs:
  - [yambo] (stable) fixed GPL_EXLUDE flag in K_Haydock
  - [yambo] (stable and devel) fixed call to ioBSS_Haydock
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@5198 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fixed bug in ypp and init. Added libxc archive informations. [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@5109 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  devel/config/configure.ac devel/configure devel/include/version.inc devel/interpolate/bz_interp_setup.F devel/ypp/electrons_bands.F stable/config/configure.ac stable/configure stable/include/version.inc stable/interpolate/bz_interp_setup.F

  Bugs:
  - [ypp] Fixed bug 219 both in trunk stable and in trunk devel

  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@4952 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  devel/config/configure.ac devel/configure devel/include/version.inc devel/bse/K_Transitions_setup.F devel/io/io_DB1.F stable/config/configure.ac stable/configure stable/include/version.inc stable/p2y/qexml_v4.0.F

  Bugs:
  - [p2y (stable)] bug fix imported from trunk devel (from Andrea F)
  - [yambo (devel)] code did not compile due to wrong definitio of
                    menu_is_closed inside io_DB1.F (integer instead of logical)
  Additions:
  -
  Changes:
  - [yambo] inserted GPL_EXCLUDE_FLAG inside K_Transitions_setup

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@4936 76a4dfbf-5f1f-0410-a543-a0282073b526

- Devel-andrea synced with devel-trunk and new structure for QED
  collisions added. Devel-trunk synced with devel-andrea. [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@4932 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  devel/p2y/qexml_v4.0.F stable/p2y/qexml_v4.0.F

  Bugs:
  - [p2y] Definition of ngauss, degauss and degauss_units fixed
          also in trunk stable
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@4921 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc lib/archive/package.list

  Bugs:
  - [NETCDF] Bug fix imported from trunk/devel
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@4920 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  devel/config/configure.ac devel/configure devel/include/version.inc devel/ypp/QP_DBs_initialize.F devel/ypp/QP_DBs_setup.F stable/config/configure.ac stable/configure stable/include/version.inc stable/ypp/QP_DBs_initialize.F stable/ypp/QP_DBs_setup.F

  Bugs:
  - [ypp] Fixed bug 153 bot in trunk stable and in trunk devel
          QP corrections are always the same for both spin channel
          Extension to different QP corrections requires many changes in the code.
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@4869 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc p2y/qexml_v4.0.F

  Bugs:
  - [p2y] Fix of bug 203 imported from trunk devel
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@4868 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  devel/config/configure.ac devel/configure devel/include/version.inc devel/bse/K_Haydock.F devel/bse/K_dot_product.F devel/bse/K_multiply_by_V.F devel/modules/mod_interfaces.F stable/config/configure.ac stable/configure stable/include/version.inc stable/bse/K_BSmat_by_V.F stable/bse/K_Haydock.F stable/common/pert_inversion.F stable/modules/mod_BS.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [yambo] K_multiply_by_V and K_dot_product moved outside mod_interfaces
  - [yambo] K_BSmat_by_V
   These two changes do not have any particular impact on the trunk.
   However they solve the fail of test LiF/OPTICS for the branch/gpl/devel extracted from the trunk.
   To verify if it is so also for the branch/gpl/stable
   Unfortunately the bug in branch/gpl/devel was "hiding" if I tryed to put some write(*,*) in K_Haydock.F
   It is possible that there is a bug was somewhere else ... (?)


  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@4840 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K_diagonalization.F

  Bugs:
  -
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@4755 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc io/ioDB1_selective_scan.F io/ioQP.F io/io_bulk.F io/io_elemental.F modules/mod_IO.F modules/mod_pars.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Now that the stable has the same configure of the devel I had to remove the plain fortran support.
    Otherwise the "defined _NETCDF_IO" was not recognised

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@4746 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc sbin/make_makefile.sh.in

  Bugs:
  -
  Additions:
  -
  Changes:
  - sbin/Make_makefile.sh.in imported from trunk/devel

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@4745 76a4dfbf-5f1f-0410-a543-a0282073b526

- Svn mergeinfo recorded. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@4721 76a4dfbf-5f1f-0410-a543-a0282073b526

- Mergeinfo deleted. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@4720 76a4dfbf-5f1f-0410-a543-a0282073b526

- Trying to edit svn merge info. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@4717 76a4dfbf-5f1f-0410-a543-a0282073b526

- Forgot to update revision number. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@4706 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.2. [Davide Sangalli]

  *  config/Makefile.in config/Makefile.in_gpl config/acx.m4 config/acx_blas.m4 config/acx_cpp.m4 config/acx_fortran_flags.m4 config/acx_get_fc_version.m4 config/acx_lapack.m4 config/acx_misc.m4 config/acx_mpi.m4 config/acx_report.m4 config/configure.ac config/etsf_io.m4 config/fft.m4 config/fftw.m4 config/iotk.m4 config/libxc.m4 config/missing config/netcdf_f90.m4 config/report.in config/scalapack.m4 config/setup.in configure include/version.inc lib/archive lib/archive/Makefile.loc lib/archive/package.list lib/blas/.objects lib/etsf_io lib/etsf_io/Makefile.loc lib/fftqe lib/fftqe/.objects lib/fftqe/.objects_gpl lib/fftqe/c_defs.h.in lib/fftqe/fft_errore.F lib/fftqe/fft_hpsort.F lib/fftqe/fft_setmap.F lib/fftqe/fft_stick.c lib/fftqe/fftqe_defs.h.in lib/fftqe/fftw.h lib/fftqe/fftw2.c lib/fftqe/konst.h lib/fftqe/mod_fft_aux.F lib/fftqe/mod_fft_base.F lib/fftqe/mod_fft_interfaces.F lib/fftqe/mod_fft_parallel.F lib/fftqe/mod_fft_scalar.F lib/fftqe/mod_fft_types.F lib/fftqe/mod_stick_base.F lib/fftqe/mod_stick_set.F lib/install lib/install/iotk_specials.h lib/install/make_iotk.inc.in lib/iotk lib/iotk/Makefile.loc lib/lapack/.objects lib/lapack/xerbla.f lib/libxc lib/libxc/AUTHORS lib/libxc/COPYING lib/libxc/INSTALL lib/libxc/Makefile.am lib/libxc/Makefile.in lib/libxc/Makefile.loc lib/libxc/NEWS lib/libxc/PACKAGING lib/libxc/README lib/libxc/TODO lib/libxc/aclocal.m4 lib/libxc/build lib/libxc/build/Makefile.am lib/libxc/build/Makefile.in lib/libxc/build/libxc.pc.in lib/libxc/build/libxc.spec.in lib/libxc/compile lib/libxc/config.guess lib/libxc/config.h.in lib/libxc/config.sub lib/libxc/configure lib/libxc/configure.ac lib/libxc/depcomp lib/libxc/install-sh lib/libxc/ltmain.sh lib/libxc/m4 lib/libxc/m4/acx.m4 lib/libxc/m4/ax_f90_module_extension.m4 lib/libxc/m4/fc_integer.m4 lib/libxc/m4/fcflags.m4 lib/libxc/m4/libtool.m4 lib/libxc/m4/ltoptions.m4 lib/libxc/m4/ltsugar.m4 lib/libxc/m4/ltversion.m4 lib/libxc/m4/lt~obsolete.m4 lib/libxc/missing lib/libxc/src lib/libxc/Makefile.am lib/libxc/Makefile.in lib/libxc/functionals.c lib/libxc/get_funcs.pl lib/libxc/gga.c lib/libxc/gga_c_am05.c lib/libxc/gga_c_lm.c lib/libxc/gga_c_lyp.c lib/libxc/gga_c_p86.c lib/libxc/gga_c_pbe.c lib/libxc/gga_c_pw91.c lib/libxc/gga_c_sogga11.c lib/libxc/gga_c_wi.c lib/libxc/gga_c_wl.c lib/libxc/gga_k_dk.c lib/libxc/gga_k_ol1.c lib/libxc/gga_k_ol2.c lib/libxc/gga_k_pearson.c lib/libxc/gga_k_tflw.c lib/libxc/gga_x_2d_b86.c lib/libxc/gga_x_2d_b86_mgc.c lib/libxc/gga_x_2d_b88.c lib/libxc/gga_x_2d_pbe.c lib/libxc/gga_x_airy.c lib/libxc/gga_x_am05.c lib/libxc/gga_x_b86.c lib/libxc/gga_x_b86_mgc.c lib/libxc/gga_x_b88.c lib/libxc/gga_x_bayesian.c lib/libxc/gga_x_c09x.c lib/libxc/gga_x_dk87.c lib/libxc/gga_x_ft97.c lib/libxc/gga_x_g96.c lib/libxc/gga_x_herman.c lib/libxc/gga_x_htbs.c lib/libxc/gga_x_kt.c lib/libxc/gga_x_lb.c lib/libxc/gga_x_lg93.c lib/libxc/gga_x_mpbe.c lib/libxc/gga_x_optx.c lib/libxc/gga_x_pbe.c lib/libxc/gga_x_pbea.c lib/libxc/gga_x_pw86.c lib/libxc/gga_x_pw91.c lib/libxc/gga_x_rpbe.c lib/libxc/gga_x_sogga11.c lib/libxc/gga_x_wc.c lib/libxc/gga_xc_1w.c lib/libxc/gga_xc_b97.c lib/libxc/gga_xc_edf1.c lib/libxc/gga_xc_th.c lib/libxc/hyb_gga_xc_b1wc.c lib/libxc/hyb_gga_xc_b3lyp.c lib/libxc/hyb_gga_xc_b97.c lib/libxc/hyb_gga_xc_o3lyp.c lib/libxc/hyb_gga_xc_pbeh.c lib/libxc/integrate.c lib/libxc/lda.c lib/libxc/lda_c_1d_csc.c lib/libxc/lda_c_2d_amgb.c lib/libxc/lda_c_2d_prm.c lib/libxc/lda_c_gombas.c lib/libxc/lda_c_hl.c lib/libxc/lda_c_ml1.c lib/libxc/lda_c_pw.c lib/libxc/lda_c_pz.c lib/libxc/lda_c_rpa.c lib/libxc/lda_c_vwn.c lib/libxc/lda_c_wigner.c lib/libxc/lda_k_tf.c lib/libxc/lda_x.c lib/libxc/lda_x_1d.c lib/libxc/lda_x_2d.c lib/libxc/lda_xc_teter93.c lib/libxc/libxc_master.F90 lib/libxc/mgga.c lib/libxc/mgga_c_tpss.c lib/libxc/mgga_x_2d_prhg07.c lib/libxc/mgga_x_br89.c lib/libxc/mgga_x_lta.c lib/libxc/mgga_x_m06l.c lib/libxc/mgga_x_tau_hcth.c lib/libxc/mgga_x_tpss.c lib/libxc/mgga_xc_vsxc.c lib/libxc/mix_func.c lib/libxc/special_functions.c lib/libxc/string_f.h lib/libxc/util.c lib/libxc/util.h lib/libxc/work_gga_becke.c lib/libxc/work_gga_c.c lib/libxc/work_gga_x.c lib/libxc/work_lda.c lib/libxc/work_mgga_c.c lib/libxc/work_mgga_x.c lib/libxc/xc.h lib/libxc/xc_config.h lib/libxc/xc_f.c lib/libxc/xc_s.h lib/libxc/testsuite lib/libxc/testsuite/Makefile.am lib/libxc/testsuite/Makefile.in lib/libxc/testsuite/df_repo lib/libxc/testsuite/df_repo/gga_c_lyp.data lib/libxc/testsuite/df_repo/gga_c_p86.data lib/libxc/testsuite/df_repo/gga_c_pbe.data lib/libxc/testsuite/df_repo/gga_c_pw91.data lib/libxc/testsuite/df_repo/gga_x_b88.data lib/libxc/testsuite/df_repo/gga_x_ft97_b.data lib/libxc/testsuite/df_repo/gga_x_pbe.data lib/libxc/testsuite/df_repo/gga_x_pw91.data lib/libxc/testsuite/df_repo/gga_xc_b97.data lib/libxc/testsuite/df_repo/gga_xc_b97_1.data lib/libxc/testsuite/df_repo/gga_xc_b97_2.data lib/libxc/testsuite/df_repo/gga_xc_edf1.data lib/libxc/testsuite/df_repo/gga_xc_hcth_120.data lib/libxc/testsuite/df_repo/gga_xc_hcth_147.data lib/libxc/testsuite/df_repo/gga_xc_hcth_407.data lib/libxc/testsuite/df_repo/gga_xc_hcth_93.data lib/libxc/testsuite/df_repo/hyb_gga_xc_b3lyp.data lib/libxc/testsuite/df_repo/lda_c_pw.data lib/libxc/testsuite/df_repo/lda_c_pz.data lib/libxc/testsuite/df_repo/lda_c_vwn.data lib/libxc/testsuite/df_repo/lda_c_vwn_rpa.data lib/libxc/testsuite/df_repo/lda_x.data lib/libxc/testsuite/regression lib/libxc/testsuite/regression/gga_c_am05.data.bz2 lib/libxc/testsuite/regression/gga_c_apbe.data.bz2 lib/libxc/testsuite/regression/gga_c_lm.data.bz2 lib/libxc/testsuite/regression/gga_c_lyp.data.bz2 lib/libxc/testsuite/regression/gga_c_p86.data.bz2 lib/libxc/testsuite/regression/gga_c_pbe.data.bz2 lib/libxc/testsuite/regression/gga_c_pbe_jrgx.data.bz2 lib/libxc/testsuite/regression/gga_c_pbe_sol.data.bz2 lib/libxc/testsuite/regression/gga_c_pw91.data.bz2 lib/libxc/testsuite/regression/gga_c_rge2.data.bz2 lib/libxc/testsuite/regression/gga_c_sogga11.data.bz2 lib/libxc/testsuite/regression/gga_c_sogga11_x.data.bz2 lib/libxc/testsuite/regression/gga_c_wi.data.bz2 lib/libxc/testsuite/regression/gga_c_wi0.data.bz2 lib/libxc/testsuite/regression/gga_c_wl.data.bz2 lib/libxc/testsuite/regression/gga_c_xpbe.data.bz2 lib/libxc/testsuite/regression/gga_k_absr1.data.bz2 lib/libxc/testsuite/regression/gga_k_absr2.data.bz2 lib/libxc/testsuite/regression/gga_k_apbe.data.bz2 lib/libxc/testsuite/regression/gga_k_baltin.data.bz2 lib/libxc/testsuite/regression/gga_k_dk.data.bz2 lib/libxc/testsuite/regression/gga_k_ernzerhof.data.bz2 lib/libxc/testsuite/regression/gga_k_fr_b88.data.bz2 lib/libxc/testsuite/regression/gga_k_fr_pw86.data.bz2 lib/libxc/testsuite/regression/gga_k_ge2.data.bz2 lib/libxc/testsuite/regression/gga_k_golden.data.bz2 lib/libxc/testsuite/regression/gga_k_gp85.data.bz2 lib/libxc/testsuite/regression/gga_k_gr.data.bz2 lib/libxc/testsuite/regression/gga_k_lc94.data.bz2 lib/libxc/testsuite/regression/gga_k_lieb.data.bz2 lib/libxc/testsuite/regression/gga_k_llp.data.bz2 lib/libxc/testsuite/regression/gga_k_ludena.data.bz2 lib/libxc/testsuite/regression/gga_k_ol1.data.bz2 lib/libxc/testsuite/regression/gga_k_ol2.data.bz2 lib/libxc/testsuite/regression/gga_k_pearson.data.bz2 lib/libxc/testsuite/regression/gga_k_perdew.data.bz2 lib/libxc/testsuite/regression/gga_k_thakkar.data.bz2 lib/libxc/testsuite/regression/gga_k_tw1.data.bz2 lib/libxc/testsuite/regression/gga_k_tw2.data.bz2 lib/libxc/testsuite/regression/gga_k_tw3.data.bz2 lib/libxc/testsuite/regression/gga_k_tw4.data.bz2 lib/libxc/testsuite/regression/gga_k_vjks.data.bz2 lib/libxc/testsuite/regression/gga_k_vsk.data.bz2 lib/libxc/testsuite/regression/gga_k_vw.data.bz2 lib/libxc/testsuite/regression/gga_k_yt65.data.bz2 lib/libxc/testsuite/regression/gga_x_2d_b86.data.bz2 lib/libxc/testsuite/regression/gga_x_2d_b86_mgc.data.bz2 lib/libxc/testsuite/regression/gga_x_2d_b88.data.bz2 lib/libxc/testsuite/regression/gga_x_2d_pbe.data.bz2 lib/libxc/testsuite/regression/gga_x_airy.data.bz2 lib/libxc/testsuite/regression/gga_x_am05.data.bz2 lib/libxc/testsuite/regression/gga_x_apbe.data.bz2 lib/libxc/testsuite/regression/gga_x_b86.data.bz2 lib/libxc/testsuite/regression/gga_x_b86_mgc.data.bz2 lib/libxc/testsuite/regression/gga_x_b88.data.bz2 lib/libxc/testsuite/regression/gga_x_bayesian.data.bz2 lib/libxc/testsuite/regression/gga_x_c09x.data.bz2 lib/libxc/testsuite/regression/gga_x_dk87_r1.data.bz2 lib/libxc/testsuite/regression/gga_x_dk87_r2.data.bz2 lib/libxc/testsuite/regression/gga_x_ft97_a.data.bz2 lib/libxc/testsuite/regression/gga_x_ft97_b.data.bz2 lib/libxc/testsuite/regression/gga_x_g96.data.bz2 lib/libxc/testsuite/regression/gga_x_herman.data.bz2 lib/libxc/testsuite/regression/gga_x_htbs.data.bz2 lib/libxc/testsuite/regression/gga_x_kt1.data.bz2 lib/libxc/testsuite/regression/gga_x_lag.data.bz2 lib/libxc/testsuite/regression/gga_x_lb.data.bz2 lib/libxc/testsuite/regression/gga_x_lbm.data.bz2 lib/libxc/testsuite/regression/gga_x_lg93.data.bz2 lib/libxc/testsuite/regression/gga_x_mb88.data.bz2 lib/libxc/testsuite/regression/gga_x_mpbe.data.bz2 lib/libxc/testsuite/regression/gga_x_mpw91.data.bz2 lib/libxc/testsuite/regression/gga_x_ol2.data.bz2 lib/libxc/testsuite/regression/gga_x_optb88_vdw.data.bz2 lib/libxc/testsuite/regression/gga_x_optpbe_vdw.data.bz2 lib/libxc/testsuite/regression/gga_x_optx.data.bz2 lib/libxc/testsuite/regression/gga_x_pbe.data.bz2 lib/libxc/testsuite/regression/gga_x_pbe_jsjr.data.bz2 lib/libxc/testsuite/regression/gga_x_pbe_r.data.bz2 lib/libxc/testsuite/regression/gga_x_pbe_sol.data.bz2 lib/libxc/testsuite/regression/gga_x_pbea.data.bz2 lib/libxc/testsuite/regression/gga_x_pbek1_vdw.data.bz2 lib/libxc/testsuite/regression/gga_x_pw86.data.bz2 lib/libxc/testsuite/regression/gga_x_pw91.data.bz2 lib/libxc/testsuite/regression/gga_x_rge2.data.bz2 lib/libxc/testsuite/regression/gga_x_rpbe.data.bz2 lib/libxc/testsuite/regression/gga_x_rpw86.data.bz2 lib/libxc/testsuite/regression/gga_x_sogga.data.bz2 lib/libxc/testsuite/regression/gga_x_sogga11.data.bz2 lib/libxc/testsuite/regression/gga_x_wc.data.bz2 lib/libxc/testsuite/regression/gga_x_xpbe.data.bz2 lib/libxc/testsuite/regression/gga_xc_b97.data.bz2 lib/libxc/testsuite/regression/gga_xc_b97_1.data.bz2 lib/libxc/testsuite/regression/gga_xc_b97_2.data.bz2 lib/libxc/testsuite/regression/gga_xc_b97_3.data.bz2 lib/libxc/testsuite/regression/gga_xc_b97_d.data.bz2 lib/libxc/testsuite/regression/gga_xc_b97_k.data.bz2 lib/libxc/testsuite/regression/gga_xc_edf1.data.bz2 lib/libxc/testsuite/regression/gga_xc_hcth_120.data.bz2 lib/libxc/testsuite/regression/gga_xc_hcth_147.data.bz2 lib/libxc/testsuite/regression/gga_xc_hcth_407.data.bz2 lib/libxc/testsuite/regression/gga_xc_hcth_93.data.bz2 lib/libxc/testsuite/regression/gga_xc_kt2.data.bz2 lib/libxc/testsuite/regression/gga_xc_mohlyp.data.bz2 lib/libxc/testsuite/regression/gga_xc_mohlyp2.data.bz2 lib/libxc/testsuite/regression/gga_xc_mpwlyp1w.data.bz2 lib/libxc/testsuite/regression/gga_xc_pbe1w.data.bz2 lib/libxc/testsuite/regression/gga_xc_pbelyp1w.data.bz2 lib/libxc/testsuite/regression/gga_xc_sb98_1a.data.bz2 lib/libxc/testsuite/regression/gga_xc_sb98_1b.data.bz2 lib/libxc/testsuite/regression/gga_xc_sb98_1c.data.bz2 lib/libxc/testsuite/regression/gga_xc_sb98_2a.data.bz2 lib/libxc/testsuite/regression/gga_xc_sb98_2b.data.bz2 lib/libxc/testsuite/regression/gga_xc_sb98_2c.data.bz2 lib/libxc/testsuite/regression/gga_xc_th1.data.bz2 lib/libxc/testsuite/regression/gga_xc_th2.data.bz2 lib/libxc/testsuite/regression/gga_xc_th3.data.bz2 lib/libxc/testsuite/regression/gga_xc_th4.data.bz2 lib/libxc/testsuite/regression/gga_xc_th_fc.data.bz2 lib/libxc/testsuite/regression/gga_xc_th_fcfo.data.bz2 lib/libxc/testsuite/regression/gga_xc_th_fco.data.bz2 lib/libxc/testsuite/regression/gga_xc_th_fl.data.bz2 lib/libxc/testsuite/regression/gga_xc_xlyp.data.bz2 lib/libxc/testsuite/regression/hyb_gga_x_sogga11_x.data.bz2 lib/libxc/testsuite/regression/hyb_gga_xc_b1lyp.data.bz2 lib/libxc/testsuite/regression/hyb_gga_xc_b1pw91.data.bz2 lib/libxc/testsuite/regression/hyb_gga_xc_b1wc.data.bz2 lib/libxc/testsuite/regression/hyb_gga_xc_b3lyp.data.bz2 lib/libxc/testsuite/regression/hyb_gga_xc_b3p86.data.bz2 lib/libxc/testsuite/regression/hyb_gga_xc_b3pw91.data.bz2 lib/libxc/testsuite/regression/hyb_gga_xc_b97.data.bz2 lib/libxc/testsuite/regression/hyb_gga_xc_b97_1.data.bz2 lib/libxc/testsuite/regression/hyb_gga_xc_b97_2.data.bz2 lib/libxc/testsuite/regression/hyb_gga_xc_b97_3.data.bz2 lib/libxc/testsuite/regression/hyb_gga_xc_b97_k.data.bz2 lib/libxc/testsuite/regression/hyb_gga_xc_mpw1k.data.bz2 lib/libxc/testsuite/regression/hyb_gga_xc_mpw1pw.data.bz2 lib/libxc/testsuite/regression/hyb_gga_xc_mpw3lyp.data.bz2 lib/libxc/testsuite/regression/hyb_gga_xc_mpw3pw.data.bz2 lib/libxc/testsuite/regression/hyb_gga_xc_o3lyp.data.bz2 lib/libxc/testsuite/regression/hyb_gga_xc_pbeh.data.bz2 lib/libxc/testsuite/regression/hyb_gga_xc_sb98_1a.data.bz2 lib/libxc/testsuite/regression/hyb_gga_xc_sb98_1b.data.bz2 lib/libxc/testsuite/regression/hyb_gga_xc_sb98_1c.data.bz2 lib/libxc/testsuite/regression/hyb_gga_xc_sb98_2a.data.bz2 lib/libxc/testsuite/regression/hyb_gga_xc_sb98_2b.data.bz2 lib/libxc/testsuite/regression/hyb_gga_xc_sb98_2c.data.bz2 lib/libxc/testsuite/regression/hyb_gga_xc_x3lyp.data.bz2 lib/libxc/testsuite/regression/lda_c_1d_csc.data.bz2 lib/libxc/testsuite/regression/lda_c_2d_amgb.data.bz2 lib/libxc/testsuite/regression/lda_c_2d_prm.data.bz2 lib/libxc/testsuite/regression/lda_c_gl.data.bz2 lib/libxc/testsuite/regression/lda_c_gombas.data.bz2 lib/libxc/testsuite/regression/lda_c_hl.data.bz2 lib/libxc/testsuite/regression/lda_c_ml1.data.bz2 lib/libxc/testsuite/regression/lda_c_ml2.data.bz2 lib/libxc/testsuite/regression/lda_c_ob_pw.data.bz2 lib/libxc/testsuite/regression/lda_c_ob_pz.data.bz2 lib/libxc/testsuite/regression/lda_c_pw.data.bz2 lib/libxc/testsuite/regression/lda_c_pw_mod.data.bz2 lib/libxc/testsuite/regression/lda_c_pw_rpa.data.bz2 lib/libxc/testsuite/regression/lda_c_pz.data.bz2 lib/libxc/testsuite/regression/lda_c_pz_mod.data.bz2 lib/libxc/testsuite/regression/lda_c_rpa.data.bz2 lib/libxc/testsuite/regression/lda_c_vbh.data.bz2 lib/libxc/testsuite/regression/lda_c_vwn.data.bz2 lib/libxc/testsuite/regression/lda_c_vwn_rpa.data.bz2 lib/libxc/testsuite/regression/lda_c_wigner.data.bz2 lib/libxc/testsuite/regression/lda_c_xalpha.data.bz2 lib/libxc/testsuite/regression/lda_k_lp.data.bz2 lib/libxc/testsuite/regression/lda_k_tf.data.bz2 lib/libxc/testsuite/regression/lda_x.data.bz2 lib/libxc/testsuite/regression/lda_x_1d.data.bz2 lib/libxc/testsuite/regression/lda_x_2d.data.bz2 lib/libxc/testsuite/regression/lda_xc_teter93.data.bz2 lib/libxc/testsuite/regression/mgga_c_tpss.data.bz2 lib/libxc/testsuite/regression/mgga_c_vsxc.data.bz2 lib/libxc/testsuite/regression/mgga_x_2d_prhg07.data.bz2 lib/libxc/testsuite/regression/mgga_x_2d_prhg07_prp10.data.bz2 lib/libxc/testsuite/regression/mgga_x_bj06.data.bz2 lib/libxc/testsuite/regression/mgga_x_br89.data.bz2 lib/libxc/testsuite/regression/mgga_x_gvt4.data.bz2 lib/libxc/testsuite/regression/mgga_x_lta.data.bz2 lib/libxc/testsuite/regression/mgga_x_m06l.data.bz2 lib/libxc/testsuite/regression/mgga_x_rpp09.data.bz2 lib/libxc/testsuite/regression/mgga_x_tau_hcth.data.bz2 lib/libxc/testsuite/regression/mgga_x_tb09.data.bz2 lib/libxc/testsuite/regression/mgga_x_tpss.data.bz2 lib/libxc/testsuite/xc-consistency.c lib/libxc/testsuite/xc-get_data.c lib/libxc/testsuite/xc-reference.pl lib/libxc/testsuite/xc-regression.c lib/libxc/testsuite/xc-run_testsuite lib/local/.objects lib/local/.objects.in lib/local/cgemv_omp.f lib/local/dgemv_omp.f lib/local/sgemv_omp.f lib/local/zgemv_omp.f lib/netcdf lib/netcdf/Makefile.loc sbin/make_makefile.sh.in external_c/ct_cptimer.c qp/QP_Green_DOS.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - configure system upgraded to the one used in trunk devel. Code compiles.
    To be tested if it works properly (in particular for fft and xc libs)


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@4705 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug fixed (integer(SP) removed). AF. [Andrea Ferretti]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@4566 76a4dfbf-5f1f-0410-a543-a0282073b526

- RIM map procedure made faster. Fixed compilation problem. [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@4462 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.1. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc common/FREQUENCIES_coarse_grid.F

  Bugs:
  -
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@4420 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  devel/config/configure.ac devel/configure devel/include/version.inc devel/setup/build_spin_sop.F stable/config/configure.ac stable/configure stable/include/version.inc stable/setup/build_spin_sop.F

  Bugs:
  - [yambo] fixed bug in spin-sop appearing when --enable-dp was used
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@4301 76a4dfbf-5f1f-0410-a543-a0282073b526

- Updated gpl generation flags. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@4296 76a4dfbf-5f1f-0410-a543-a0282073b526

- DOS normalization factor fixed. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@4248 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.1. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc ypp/excitons_driver.F

  Bugs:
  - [ypp] plot of excitonic wave-function was always in the "free-hole" configuration
          Bug introduced long time ago ... (same fix as in trunk/devel)
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@4247 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  devel/config/configure.ac devel/configure devel/include/version.inc devel/qp_control/QP_apply.F stable/config/configure.ac stable/configure stable/include/version.inc stable/qp/XCo_driver.F stable/qp_ctl/mod_QP_CTL.F

  Bugs:
  - [ypp & yambo] Fixed bug pointed out by a user in the forum.
                  When QP corrections are imported in a run using the E_RIM (i.e. the double grid)
                  if QP_apply is called in the 'X' mode: (i) the QP_corrections were not extended to the E_RIM energies
                  and (ii) Fermi_en%E_RIM was not allocated. As a consequence call OCCUPATIONS_Fermi(Fermi_en,k,1) was crashing

                  Now the QP_corrections are extended also to the RIM energies in any mode. However I think there should be a check
                  if the RIM energies have been already corrected, as it exist in the case of the standard energies ...

                  Fix released both in the stable and in the devel

  Additions:
  -
  Changes:
  -


  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@4229 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug fixed in real-axis GW. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@4102 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  devel/ypp/QP_DBs_initialize.F stable/p2y/qexml_v4.0.F stable/ypp/QP_DBs_initialize.F

  Bugs:
  - [stable, p2y] fix imported by devel
  Additions:
  -
  Changes:
  - [devel & stable, ypp] output of ypp -q improved

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@3992 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.1. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K.F bse/K_eh_setup.F xc_functionals/XC_libxc_driver.F

  Bugs:
  - Fractional occupations in BSE fixed. Test needed before moving the patch in the GPL
  - Imported bug fix for GGA+spin from trunk devel
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@3915 76a4dfbf-5f1f-0410-a543-a0282073b526

- Small bug fix. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@3834 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.1. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K_output_file.F modules/mod_X_output.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [yambo_kerr] Faraday parameters add ot yambo_kerr (still to be checked)

  Patch sent by: Davide



  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@3780 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.1. [Davide Sangalli]

  *  . config/configure.ac configure driver/yambo_driver.F driver/ypp.h include/version.inc + + bse/K_Haydock.F bse/K_diagonalization.F bse/K_output_file.F bse/K_solvers.F common/.objects common/FREQUENCIES_reset.F + + common/OCCUPATIONS_Extend.F common/OCCUPATIONS_Fermi.F + + communicate/REPORT_Energies.F communicate/REPORT_Occupations.F interface/QP_ctl_load.F interface/init.F interface/init_load.F io/ioBSS_Haydock.F io/ioBSS_diago.F modules/mod_BS.F modules/mod_D_lattice.F + modules/mod_electrons.F modules/mod_magnetic.F modules/std_presets.F parser/Gclose.F parser/mod_itm.F pol_function/X_bare_RIM_GreenF.F pol_function/X_os.F qp/.objects qp/COLLISIONS_IO_store.F + qp/QP_of.F qp/QP_report_and_write.F qp/XCo_driver.F sc/MAG_H_pseudo.F sc/MAG_Hamiltonian.F sc/MAG_common_build_A.F sc/SC_bare_Hamiltonian.F sc/SC_start_and_restart.F setup/.objects setup/QP_state_table_setup.F + setup/check_periodic_directions.F + setup/setup.F + wf_and_fft/WF_load.F wf_and_fft/WF_spatial_invertion.F xc_functionals/.objects + + ypp/.objects + + ypp/electrons_driver.F + + + + + ypp/mod_YPP.F + ypp/ypp_init.F ypp/ypp_init_load.F

  Bugs:
  -
  Additions:
  -
  Changes:
  Merged with devel-davide/stable
  - [yambo_kerr]     Implementation of kerr imported (Diagonalization and Haydock)
  - [yambo_magnetic] Few changes implemented
  - [yambo]          DOS printed in output from yambo -g g run
  - Few other minor changes

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@3779 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  . config/Makefile.in config/configure.ac configure driver/yambo_driver.F include/version.inc p2y/PP_PWscf_driver.F p2y/qexml_v4.0.F bse/.objects_gpl bse/K_inversion.F common/.objects_gpl external_c/cptimer.c interface/barriers.F interface/init.F interface/init_load.F io/ioKB_abinit.F io/ioKB_pwscf.F io/io_RT_components.F io/io_Vnl.F modules/mod_parallel.F modules/mod_real_time.F modules/mod_timing.F modules/std_presets.F parser/mod_itm.F pol_function/Dipole_transverse.F qp/COLLISIONS_IO_compose.F real_time/RT_Collision.F real_time/RT_Integrator.F real_time/RT_current_AND_polarization.F real_time/RT_databases_IO.F real_time/RT_driver.F sc/SC_bare_Hamiltonian.F timing timing/.objects timing/get_clock.F timing/init_clocks.F timing/print_clock.F timing/start_clock.F timing/stop_clock.F wf_and_fft/WF_load.F ypp/electrons_driver.F ypp/symmetries_driver.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - cpu subroutins timing from pwscf
  - merged with trunk

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@2477 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@2438 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  devel-davide/bse/K_inversion.F devel-davide/bse/K_BSmat_by_V.F devel-kerr/bse/K_BSmat_by_V.F devel-kerr/bse/K_inversion.F

  Bugs:
  - fixed bug in the inversion implementatio via K_BSmat_by_V for BSEmod="causal" and BSEmod="coupling"
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@2391 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  devel-davide/common/pert_inversion.F devel-kerr/common/pert_inversion.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Perturbative inversion: inserted a check on the iterations.
    If the loop is unstable it is interrupted

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@2370 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  devel-davide/bse/K_driver.F devel-davide/bse/K_inversion.F devel-davide/common/pert_inversion.F devel-davide/interface/init.F devel-davide/interface/init_load.F devel-davide/modules/mod_BS.F devel-davide/modules/std_presets.F devel-kerr/bse/K_driver.F devel-kerr/bse/K_inversion.F devel-kerr/common/pert_inversion.F devel-kerr/interface/init.F devel-kerr/interface/init_load.F devel-kerr/modules/mod_BS.F devel-kerr/modules/std_presets.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - BSSInvItMax variable created

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@2369 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.1. [Davide Sangalli]

  *  bse/K_BSmat_by_V.F

  Bugs:
  - Implementation of perturbative inversione via
    K_BSmat_by_V for BSEmod=='coupling' was wrong.
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@2353 76a4dfbf-5f1f-0410-a543-a0282073b526

- Forgot svn add of src/bse/K_BSload_diag.F file. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@2347 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  common/pert_inversion.F modules/mod_BS.F bse/.objects bse/K_inversion.F bse/K.F bse/K_Haydock.F bse/K_BSmat_by_V.F bse/K_driver.F

  Bugs:
  - Fixed some errors in the pert_inversion implementation via K_BSmat_by_V
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@2346 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.1. [Davide Sangalli]

  *  bse/K_BSmat_by_V.F bse/K_Haydock.F bse/K_inversion.F common/pert_inversion.F modules/mod_BS.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - perturbative inversion via K_BSmat_byV implemented also for BSE_mode="coupling"

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@2345 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  bse/K.F bse/K_inversion.F common/pert_inversion.F common/full_inversion.F

  Bugs:
  - Fixed bug in restard from ndb.BS
  Additions:
  -
  Changes:
  - Small changes in the new inversion implementation.
    Now for BSEmod="resonant" it works fine

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@2335 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.1. [Davide Sangalli]

  *  bse/K_inversion.F common/.objects + + common/pert_inversion_new.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Fixing new K_inversion.F:
    perturbative inversion now uses K_BSmat_by_V and so allocates BS_mat kpt by kpt
    full inversion instead must still use K_BSload.F and allocates the whole BS_mat

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@2332 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  bse/K_BSmat_by_V.F

  Bugs:
  - Fixed small bug io perturbative inversion via K_BSmat_by_V.F
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@2331 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.1. [Davide Sangalli]

  *  bse/K.F bse/K_BSmat_by_V.F bse/K_driver.F bse/K_inversion.F common/.objects common/pert_inversion_new.F modules/mod_BS.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - use K_BSmat_by_V instead of K_BSload in K_inversion. Perturbative only case.
    Code compiles but not yet tested

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@2328 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. Removed sc and rt code from devel-kerr. [Davide
  Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@2316 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@2310 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@2289 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@2278 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@2275 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@2244 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@2225 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  ypp/electrons_dos_and_charge.F

  Bugs:
  - Fixed bug introduced merging with trunk
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@2217 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  . include/version.inc config/configure.ac configure interface/init_load.F io/ioBSS_diago.F modules/mod_BS.F bse/K_solvers.F bse/K_driver.F bse/K_diagonalization.F ypp/ypp_init_load.F ypp/electrons_dos_and_charge.F ypp/ypp_init.F ypp/mod_YPP.F ypp/excitons_driver.F

  Bugs:
  - Fixed computation of H_Hall in K_diagonalization
  - Does not enter Haydock solver if stop_Haydock=.true.
  - if gauge is ill defined in the input switch to length gauge
  Additions:
  -
  Changes:
  - ioBSS_diago now works also with kerr
  - merged with trunk


  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@2216 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@2209 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@2175 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@2163 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.1. [Davide Sangalli]

  *  bse/K_Haydock.F bse/K_diagonalization.F

  Bugs:
  - Fixed the "-1" introduced with the last commit in K_Haydock
  - Fixed bug in the length gauge in K_diagonalization
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@2121 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.1. [Davide Sangalli]

  *  . configure + modules/mod_BS.F modules/mod_TDDFT.F modules/std_presets.F modules/mod_drivers.F modules/mod_X.F bse/K.F bse/K_IP.F bse/K_driver.F bse/K_solvers.F bse/K_inversion.F bse/K_scattering.F setup/QP_external_corrections.F interface/init.F interface/barriers.F interface/init_load.F real_time/.objects + pol_function/X_os.F pol_function/O_driver.F pol_function/Dipole_dip_dot_field.F sbin/svn2cl.pl config/configure.ac config/Makefile.in config/Makefile.in_gpl ypp/ras_ypp.F ypp/ypp_i.F ypp/mod_YPP.F ypp/ras_trans_ypp.F ypp/ypp_init_load.F ypp/ypp_init.F ypp/reels_ypp.F ypp/ras_generate_epsdb.F ypp/.objects include/version.inc ChangeLog driver/yambo.h driver/yambo.h_gpl driver/yambo_driver.F driver/driver.c driver/ypp.h

  Bugs:
  -
  Additions:
  -
  Changes:
  - Merged with trunk
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@2113 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.1. [Davide Sangalli]

  *  bse/K_Haydock.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Velocity gauge also in K_Haydock.F;
    still not working, velocity gauge is highly unstable


  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@2106 76a4dfbf-5f1f-0410-a543-a0282073b526

- Ecutxx. [Alberto Debernardi]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@2088 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.1. [Davide Sangalli]

  *  . ypp/k_grids.F ypp/ELPH_atomic_amplitude.F ypp/ypp_init_load.F ypp/electrons_dos_and_charge.F ypp/k_random.F ypp/ypp_init.F include/version.inc config/configure.ac configure patch_abinit/patches/patch_abinit_7.2.1 setup/build_spin_sop.F setup/setup.F interface/init_load.F interface/init.F parser/ps_convert.F parser/mod_parser_m.F parser/Gclose.F wf_and_fft/scatter_Bamp.F pol_function/Dipole_kb_pp_comp.F modules/mod_BS.F bse/K_IP.F bse/K_driver.F bse/K_kerr_IP.F bse/K_scattering.F bse/K.F bse/K_Haydock.F bse/K_filling.F qp/ELPH_Sigma_c.F

  Bugs:
  -  spin_sop bug fixed
  -  O_phase bug fixed
  -  pp_kb bug, still to finish fixing
  -  parsing input variables also if input cutoff=0 eV OK
  Additions:
  -
  Changes:
  - some make-up
  - merged with trunk
  - abinit patch, V7.1, added to the repo

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@2077 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.1. [Davide Sangalli]

  *  bse/K_Haydock.F bse/K_IP.F bse/K_diagonalization.F bse/K_driver.F bse/K_eh_setup.F bse/K_inversion.F bse/K_kerr_IP.F bse/K_solvers.F io/ioBSS_invert.F pol_function/X_bare_RIM_GreenF.F

  Bugs:
  - K_diagonalization with BS_not_const_eh_f was wrong
  Additions:
  -
  Changes:
  - now causal X_epsilon can be computed with all solvers.
  - BS_eh_f included in the oscillators. In principles all solvers can now describe metals.
    The Haydock solvers could not work in practice if BSE_mode="coupling". To be checked.
    However should be ok for both BSE_mode="reonant" and BSE_mode="causal".
  - Drude term is now considered in all solvers.

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@2059 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.1. [Davide Sangalli]

  *  . driver/yambo.h include/version.inc p2y/mod_p2y.F p2y/mod_pw_data.F p2y/qexml_v4.0.F sbin/yamboo.pl bse/K_Haydock.F bse/K_IP.F bse/K_driver.F bse/K_eh_setup.F bse/K_kerr_IP.F bse/K_output_file.F bse/K_solvers.F interface/barriers.F interface/init.F interface/init_load.F modules/mod_fields.F qp/QP_newton.F real_time/RT_ELPH_total_Kernel.F real_time/RT_initialize.F real_time/RT_observables.F real_time/RT_relaxation.F ypp/ELPH_atomic_amplitude.F ypp/ELPH_eliashberg_dos.F ypp/electrons_dos_and_charge.F

  Bugs:
  - definition of BS_cpl_mode in init.F, introduced with l_Weh_cpl flag
  - ordering for eel in K_output_file fixed

  Additions:
  -
  Changes:
  - merged with trunk
  - BSE_mode="causal" implemented also for Haydock. To check if this works for metals.
  - removed unused variables

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@2052 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.1. [Davide Sangalli]

  *  patch_abinit/patches/patch_abinit_6.12.3 patch_abinit/original_files/m_commutator_vkbr.F90 patch_abinit/original_files/m_io_kss.F90 patch_abinit/original_files/outkss.F90

  Bugs:
  -
  Additions:
  -
  Changes:
  - patch for version 6.12.3 prepared
  - Updated original sourced to version 7.2.1 (Xavier Gonze non official)

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@2040 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.0. [Davide Sangalli]

  *  patch_abinit patch_abinit/instructions.txt patch_abinit/original_files patch_abinit/original_files/m_commutator_vkbr.F90 patch_abinit/original_files/m_io_kss.F90 patch_abinit/original_files/outkss.F90 patch_abinit/patches interface/init.F pol_function/Dipole_dip_dot_field.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Prepared dir to create abinit patches. Starting here from abinit 6.12.3

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@2036 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.1. [Davide Sangalli]

  *  . setup/setup.F interface/init_load.F communicate/REPORT_Occupations.F common/OCCUPATIONS_Fermi.F parser/Gclose.F parser/mod_itm.F include/version.inc

  Bugs:
  -
  Additions:
  -
  Changes:
  - Improved code for old variables compatibility
  - Ecut_unit introduced. The same units are used to report the
    energy of the shells in the r_setup file
  - merged with trunk

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@2026 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.1. [Davide Sangalli]

  *  . include/version.inc config/netcdf_f90.m4 configure modules/mod_drivers.F modules/std_presets.F bse/K_eh_setup.F interface/init_load.F interface/init.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Merged with trunk
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@2020 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@2015 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.0. [Davide Sangalli]

  *  interface/init_load.F

  Bugs:
  - Fixed compatibility with old inputs. However input cutoff 1 RL / or 0 mHa does not work properly yet.
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@2013 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.0. [Davide Sangalli]

  *  . config/configure.ac configure include/version.inc bse/K_inversion.F interface/init.F interface/init_load.F modules/mod_BS.F parser/Gclose.F parser/mod_itm.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Renamed input variables for cut_off parameters ecut_something, with default
    units mHa, but keeping back_compatibility with old input files
  - merged with trunk

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@2003 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1997 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1987 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.0. [Davide Sangalli]

  *  bse/K_Haydock.F bse/K_IP.F bse/K_diagonalization.F modules/mod_KERR.F modules/mod_X.F pol_function/X_drude.F pol_function/X_os.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Improved description of Drude term within yambo -o b approach

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1982 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.0. [Davide Sangalli]

  *  . bse/K_driver.F interface/init.F interface/init_load.F modules/mod_BS.F modules/mod_drivers.F modules/std_presets.F qp_ctl/QP_load_DB.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Runlevel reorganization ready to be moved in the trunk
  - merged with trunk

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1981 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1979 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. Yambo does not compile but it seems Andrea is still
  working on it...00:45am. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1972 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.0. [Davide Sangalli]

  *  config/Makefile.in driver/driver.c sbin/yamboo.pl bse/.objects + bse/K_BSmat_by_V_Haydock.F bse/K_Haydock.F bse/K_diagonalization.F bse/K_inversion.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - TEST_1 proget definetly removed. It has long been tested as it was the defaul also in the trunk

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1964 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.0. [Davide Sangalli]

  *  bse/K_DISTRIBUTED.F bse/K_IP.F bse/K_diagonalization.F bse/K_driver.F bse/K_eh_setup.F bse/K_kerr_IP.F interface/init.F interface/init_load.F modules/mod_BS.F modules/std_presets.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - The anti-resonant part can be included or not independently from the coupling.
    Indeed the Tamm-Dancoff approximation means no coupling, not no anti-resonant part.
    Thus it is possible to compute metals within the TDA but forcing the anti-resonant part
  - Fixed the K_distributed subroutine

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1962 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.0. [Davide Sangalli]

  *  driver/yambo.h bse/K_driver.F interface/barriers.F interface/init.F interface/init_load.F modules/mod_drivers.F modules/std_presets.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - yambo -o c is now also -o G-space
  - yambo -o b is now also -o eh-space
  - yambo -k (l)fs is now -k td(h)artree

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1952 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1943 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1941 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.0. [Davide Sangalli]

  *  bse/K.F bse/K_IP.F bse/K_driver.F

  Bugs:
  - Fixed missing allocation in K_IP.F
  - l_bss set true in case of IP run
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1935 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.0. [Davide Sangalli]

  *  . config/configure.ac configure interface/init_load.F interface/init.F interface/barriers.F pol_function/X_bare_RIM_GreenF.F pol_function/Dipole_dip_dot_field.F bse/K_eh_setup.F bse/K_solvers.F bse/K_IP.F bse/K_driver.F bse/K_kerr_IP.F include/version.inc

  Bugs:
  -
  Additions:
  -
  Changes:
  - kerr runlevel reorganized
  - live_timing for l_rpa_IP case
  - merged with trunk

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1933 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.0. [Davide Sangalli]

  *  bse/K_solvers.F bse/K_IP.F bse/K_driver.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Some code pieces moved between bse/K_solvers.F, bse/K_IP.F and bse/K_driver.F
    to make the structure more logical

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1918 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.0. [Davide Sangalli]

  *  bse/K_solvers.F bse/K_IP.F bse/K_driver.F bse/K.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - K_driver structure reorganized:
    * K_IP      --> evaluate dipoles, call K_eh_setup and evaluate Xo
    * K         --> build the kernel
    * K_solvers --> call the solvers and use Xo and K to evaluate X

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1916 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.0. [Davide Sangalli]

  *  bse/K_Haydock.F bse/K_IP.F bse/K_driver.F interface/init.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Fixed a couple of problems with the run-levels reorganization

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1913 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.0. [Davide Sangalli]

  *  driver/yambo.h tddft/tddft_do_X_W_typs.F modules/std_presets.F modules/mod_drivers.F bse/K_IP.F bse/K_driver.F bse/K_solvers.F interface/init.F interface/barriers.F interface/init_load.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Run-levels reorganized for optics with the following structure. (Still to be improved)
    A) Select in which space solve the dyason equation for X (-o c or -o b)
    B) Select the approximation for the kernel.
       Commond to g_space and configuration space: -k i (IP*) /l (LF)/ da (tddft/alda)/ db (tddft/bse)
            available only in g             space: -k dl (tddft/lrc)
            available only in configuration space: -k h (tdhf) / w (screened interaction)
       * This is, as usual in yambo, the RPA-IP approximation, i.e. the G=0 term of v is included.
         The real IP approximation is never considered.
    C) For the BSE case select the solver as usual

    The RPA-IP and the RPA-LF approaches in yambo are usually solved only in G-space.
    However when computing the off-diagonal elements of epsilon this is not possible (at least for metals).
    Thus I need to go through the configuration space also with these approximations.
    This is the reason for this reorganization.

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1908 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.0. [Davide Sangalli]

  *  qp/QP_Green_DOS.F setup/build_spin_sop.F setup/free_memory.F xc_functionals/el_density_derivative.F xc_functionals/el_current.F common/OCCUPATIONS_Boltzmann.F modules/mod_KERR.F bse/K_IP.F bse/K_BSmat_by_V_Haydock.F

  Bugs:
  -
  Additions:
  -
  Changes:
  -  Fixed copyright year for subroutins not in the trunk
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1907 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1906 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1893 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1866 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  parser/Gclose.F modules/mod_com.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - If input variables cutoff is in units different from RLs and initialization
    has not yet be performed call error to avoid wrong conversion 5 Ha = 5 RL

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1857 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1849 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  . parser/init_convert.F setup/G_shells_finder.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - merged with trunk
  - init convert can be called with negative arguments. error message removed

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1844 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  parser/mod_itm.F parser/init_convert.F parser/Gclose.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - init_convert splitted into two different subroutines for real and integer arguments,
    because actually it does different thing in the two cases. This also avoids the problem of
    conversion of variables equal to zero

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1838 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  parser/init_convert.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Now the parser correctly translate 0 eV /Ha/Ry/etc.. to 1 RL

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1834 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  ypp/ypp_init.F common/G_rot_grid.F parser/init_convert.F parser/Gclose.F parser/ps_convert.F setup/G_shells_finder.F interface/init_load.F interface/barriers.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Set energy [eV] instead of G-vectors [RL] as the default unit in the input file.
    Only exception is ng_closed=MaxGvecs variable because this is parsed by the input file before
    the setup and yambo is not able to convert from RL --> eV/Ry/Ha/etc..
    To be checked.

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1833 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  common/eval_G_minus_G.F common/G_rot_grid.F

  Bugs:
  - Forgot file from the last commit
  - Fixed bug inserted in G_rot_grid.F
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1828 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  . configure interface/barriers.F communicate/REPORT_Occupations.F common/G_rot_grid.F common/OCCUPATIONS_Fermi.F common/.objects common/ig_index.F bz_ops/bz_samp_indexes.F qp_ctl/QP_merge_DBs.F lib/libxc/configure lib/libxc/config.h.in include/version.inc config/configure.ac

  Bugs:
  -
  Additions:
  -
  Changes:
  - Fast algorithm for eval_G_minus_G. Relavant if one try to do BSE / TDHF with many vectors in the "c" part of the kernel
    Same algorithm is used also for bz_samp_indexes.F
  - merged with trunk

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1827 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1816 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  tddft/tddft_alda_r_space.F bse/K_scattering.F wf_and_fft/WF_apply_symm.F

  Bugs:
  - WF_apply_symm: first symm index, then spin index
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1809 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  tddft/tddft_alda_r_space.F bse/K_scattering.F wf_and_fft/WF_apply_symm.F wf_and_fft/scatter_Bamp.F

  Bugs:
  - fixed another bug introduced in the new implementation of scatter_Bamp
  Additions:
  -
  Changes:
  - WF_apply_symm implementation reorganized

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1808 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  setup/G_shells_finder.F modules/std_presets.F

  Bugs:
  - Reading of "minus_G" table was not done because ioGROT sec=2 was called only by init.F
    when inv_index is not yet defined. Now also G_shells_finder calls ioGROT, sec=2
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1807 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  wf_and_fft/scatter_Bamp.F

  Bugs:
  - two small bug inserted with the last commits fixed
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1803 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  p2y/Vnl_driver.F bse/K_driver.F common/find_G_rot.F common/eval_G_minus_G.F

  Bugs:
  - changed declaration in find_G_rot.F. gfortran with bound check flag was complaining
  Additions:
  -
  Changes:
  - eval_G_minus_G now searches G vectors only within the shell and not within the whole G space.
    In this way it is much faster. The same approach could be used also in bz_samp_index.
    Still to be tested
  - Parallelization of Vnl driver is not only on kpts now

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1801 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  wf_and_fft/scatter_Bamp.F tddft/tddft_alda_r_space.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - WF_apply_symm used also in tddft_alda_r_space
    Same implementation of scatter_Bamp

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1800 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  wf_and_fft/WF_apply_symm.F wf_and_fft/scatter_Bamp.F wf_and_fft/.objects bse/K_scattering.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - symmetries to WFs are now applied via the WF_apply_symm.F subroutine

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1796 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  common/find_G_rot.F common/.objects io/ioGROT.F setup/setup.F setup/eval_minus_G.F ypp/fix_WFs_Gshells.F a2y/a2y_db1.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Same code was in eval_minus_G.F, a2y_db1.F and fix_WFs_Gshells.F .
    This is now in the new subroutine find_G_rot.F
  - Subroutines reverted to the trunk version
    Removed comments from setup/setup.F and io/ioGROT.F


  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1795 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Alberto Debernardi]

  *  setup/eval_minus_G.F

  Bugs:
  -
  Additions:
  -
  Changes:
  -Modified to speed up the subroutine.
  (Now the loop on G vectors is made in an efficient way)
  -
  Patch sent by: Alberto


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1793 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  setup/eval_minus_G.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Speed up of the eval_minus_G subroutine

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1792 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1789 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1784 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  . modules/mod_X_output.F bse/K_output_file.F setup/check_periodic_directions.F config/configure.ac include/version.inc p2y/pw_pseudovelocity_module.F p2y/Vnl_driver.F p2y/qexml_v4.0.F p2y/pw_pseudo_module.F a2y/a2y_db1.F configure

  Bugs:
  -
  Additions:
  -
  Changes:
  - merged with trunk
  - K_output_file plots both the off-diagonal epsilon (off) and the off-diagonal alpha (beta)
    However the latter, differently from the diagonal term, is constructed from the epsilon
    and not from the EELS. Indeed the definitio of the off-diagonal EELS is not trivial.

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1763 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1756 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1722 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  ypp/fix_PPs.F

  Bugs:
  - pp_kbs was not defined in fix_PPs.F when syms are extended
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1720 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  ypp/fix_WFs_Gshells.F ypp/fix_WFs_and_E.F ypp/fix_symmetries.F ypp/fix_PPs.F ypp/symmetries_driver.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Gshell closed when the symmetries are increased

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1718 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  ypp/fix_symmetries.F a2y/a2y_db1.F bse/K_BSmat_by_V_Haydock.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Extend symmetries implementation improved
  - Closing shells in a2y respect inversion only if i_time_rev==1 .or. i_space_inv==1

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1716 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1714 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1711 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  wf_and_fft/scatter_Bamp.F setup/build_spin_sop.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - spin_sop in scatter_Bamp. Tests still to be concluded.

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1704 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Claudio Attaccalite]

  *  config/netcdf_f90.m4 configure

  Changes:
   -The option --with-netcdf-link now overwrites any other option for the NetCDF


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1701 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  ypp/fix_PPs.F ypp/symmetries_driver.F ypp/fix_WFs_and_E.F

  Bugs:
  - fixed string fragment_name also for non-netcdf files
  Additions:
  -
  Changes:
  - removed comments

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1700 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Claudio Attaccalite]

  *  configure config/acx_get_fc_version.m4 config/netcdf_f90.m4 config/acx_fortran_flags.m4

  Bugs:
  -Fixed configure and support for ifort 13


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1699 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Claudio Attaccalite]

  *  ypp/fix_PPs.F ypp/fix_WFs_and_E.F configure

  Bugs:
  -Fixed pseudopotential file names
  -Fixed uninitialized variable Fragmented_IO



  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1698 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1695 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  ypp/ypp_init_load.F ypp/ypp_init.F ypp/fix_WFs_and_E.F ypp/build_kpts_map.F ypp/fix_PPs.F ypp/symmetries_driver.F ypp/fix_symmetries.F ypp/mod_YPP.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - fix_symmetries restyling. Almost finished.

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1693 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  ypp/fix_WFs_and_E.F ypp/build_kpts_map.F ypp/fix_SC_DBs.F ypp/fix_PPs.F ypp/symmetries_driver.F ypp/fix_kpts_and_gvec.F + ypp/fix_symmetries.F ypp/mod_YPP.F ypp/.objects

  Bugs:
  -
  Additions:
  -
  Changes:
  - fix_symmetries restyling.

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1692 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  wf_and_fft/WF_load.F ypp/fix_PPs.F ypp/symmetries_driver.F ypp/fix_WFs_and_E.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Restyling fix_symmetries code.
    Support for bands loaded by groups add. WF_loads is called by groups too to save memory.
    Still more tests needed

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1690 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  ypp/fix_symmetries.F ypp/fix_WFs_and_E.F ypp/ypp_init.F ypp/fix_SC_DBs.F ypp/fix_PPs.F ypp/symmetries_driver.F ypp/fix_kpts_and_gvec.F

  Bugs:
  - fix_symmetries restyling: now codes cworks for selected test case.
    More check needed
  Additions:
  -
  Changes:

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1686 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  . ypp/fix_SC_DBs.F ypp/fix_PPs.F ypp/symmetries_driver.F ypp/fix_kpts_and_gvec.F ypp/electrons_dos_and_charge.F ypp/fix_symmetries.F ypp/.objects ypp/fix_WFs_and_E.F configure include/version.inc config/configure.ac

  Bugs:
  -
  Additions:
  -
  Changes:
  - RT_fix_symmetries rewritten in 5 (6 for _YPP_SC) subroutines:
    symmetries_driver, fix_symmetries, fix_kpts_and_gvec, fix_WFs_and_E, fix_PPs (and fix_SC_DBs for _YPP_SC)
    Implementation compiles but does not work yet
  - merged with trunk

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1684 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  ypp/symmetries_driver.F ypp/ypp_i.F ypp/.objects

  Bugs:
  -
  Additions:
  -
  Changes:
  - RT_fix_symmetries renamed symmetries_driver everywhere

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1680 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  ypp/RT_fix_symmetries.F +

  Bugs:
  -
  Additions:
  -
  Changes:
  - RT_fix_symmetries renamed symmetry_driver

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1679 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  ypp/RT_fix_symmetries.F ypp/ypp_i.F ypp/.objects ypp/ypp_init.F ypp/RT_driver.F ypp/ypp_init_load.F modules/mod_real_time.F driver/ypp.h

  Bugs:
  -
  Additions:
  -
  Changes:
  - RT_fix_symmetries subroutine moved outside of _YPP_RT project.

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1678 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  ypp/RT_fix_symmetries.F

  Bugs:
  - deallocaion had been wrongly removed
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1676 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  bse/K_Haydock.F

  Bugs:
  - [KERR] Now haydock and diagonalization give the same results also for
           eps_xy. I had to change Myrta implementation with some -1 and
           some **2 factors. However these do not affect the implementation
           for eps_xx because in this case they multiply quantities which
           are =0. by symmetry.

  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1667 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  bse/K_Haydock.F bse/K_BSmat_by_V_Haydock.F bse/K_diagonalization.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [Kerr] Haydock implementation improved. Also TDA inserted.
           Results are still different from exact diagonalization
  - bse/K_BSmat_by_V_Haydock.F: used wrapper to remove #if defined _DOUBLES

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1666 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  . configure include/version.inc io/ioBS.F io/ioBS_DISTRIBUTED.F bse/K_BSmat_by_V.F config/configure.ac ypp/RT_fix_symmetries.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - merged with trunk up to rev 1661
  - [YPP_RT] improved algoritm. Now whene wf_ncx is reduced due to symmetry removal

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1663 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1656 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk up to rev 1652. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1653 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  io/ioBSS_Haydock.F modules/mod_BS.F bse/K_diagonalization.F bse/K_Haydock.F bse/K_kerr_IP.F bse/K_solvers.F bse/K_output_file.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [KERR] Kerr via Haydock, first implementation done.
           Only for the full Hamiltonian, both schemes of CMS 50, 2156 (2011) not for TDA.
           Sill to be checked.

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1638 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  interface/init_load.F interface/init.F modules/mod_BS.F bse/K_BSmat_by_V_TEST_1.F bse/.objects bse/K_Haydock.F +

  Bugs:
  -
  Additions:
  -
  Changes:
  - Fast solver for Haydock beyond TDA moved from _TEST_1 to standard yambo with optional flag BSHayFast in input (-V resp)

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1635 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk up to rev 1632. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1634 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk up to rev 1631. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1632 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  wf_and_fft/WF_spatial_invertion.F interface/barriers.F setup/setup.F io/ioDB1.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - removed double occurrence of mag_syms
  - code reporting syms more clear
  - barriers for mag_syms fixed

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1628 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk up to rev 1609. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1610 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  bse/K_kerr_IP.F bse/K_solvers.F bse/K_output_file.F bse/K_diagonalization.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [KERR] output reorganized to prepare Haydock implementation

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1595 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  bse/K_driver.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [KERR] Anomalous Hall effect computed also in systems with a gap

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1594 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  bse/K_diagonalization.F bse/K_kerr_IP.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - K_diagonalization.F: fixed some bugs in the beyond IP Kerr approach

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1593 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  common/OCCUPATIONS_Boltzmann.F xc_functionals/el_current.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Warning comments related to symmetries and current


  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1592 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  . config/Makefile.in config/Makefile.in_gpl config/configure.ac ypp/ypp_init_load.F ypp/electrons_driver.F ypp/RT_fix_symmetries.F ypp/.objects ypp/ypp_init.F ypp/electrons_bands.F configure include/version.inc modules/.objects modules/mod_interpolate.F interpolate/bz_interp_coeff.F interpolate/eval_interpolation_coeff.F interpolate/bz_interpolation.F interpolate/fourier_interpolation.F interpolate/.objects + interpolate/bz_interp_setup.F setup/setup.F driver/ypp.h driver/ypp.h_gpl

  Bugs:
  - [ypp_rt] fixed few bugs in RT_fix_symmetries.F rotating s.Vnl DB
  Additions:
  -
  Changes:
  - merged with trunk up to rev.


  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1558 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  ypp/RT_fix_symmetries.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [ypp_rt] RT_fix_symmetries now rotate also the s.Vnl DB

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1556 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk u to rev 1551. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1552 76a4dfbf-5f1f-0410-a543-a0282073b526

- Add README and make_makefile.sh.in from devel-fabio to compile on
  cineca-fermi. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1550 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  pol_function/X_drude.F modules/mod_BS.F modules/mod_X.F modules/mod_X_output.F bse/K_diagonalization.F bse/K_eh_setup.F bse/K_solvers.F bse/K_output_file.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - improved treatment of Drude term within src/bse
  - filename o.kerr renamed o.moke.
    For some reason o.kerr was not correctly handled by the msg subroutine...

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1547 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fake merge with trunk to make simple svn merge to work from now on.
  [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1545 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk up to rev 1543. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1544 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  bse/K_kerr_output.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - removen bse/K_kerr_output.F

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1541 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  . modules/mod_X_output.F modules/mod_units.F bse/.objects bse/K_diagonalization.F bse/K_kerr_output.F bse/K_kerr_IP.F bse/K_solvers.F bse/K_output_file.F configure include/version.inc p2y/qexml_v4.0.F config/configure.ac

  Bugs:
  -
  Additions:
  -
  Changes:
  - merged with trunk up to rev 1539
  - improved kerr output. Anomalous Hall effect also in e^2/hBAR units (to be checked)

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1540 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  p2y/Vnl_driver.F

  Bugs:
  - [p2y] small bug in the implementation of the relativistic part of [r,Vnl]
          (this term is not included in the trunk which, thus, is not affected)
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1534 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1524 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  io/io_Vnl.F pol_function/X_drude.F interface/init.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Checks on electronic temperature for Drude and io_Vnl

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1521 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  pol_function/X_drude.F bse/K_driver.F bse/K_eh_setup.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Check for Anomalous Hall effect moved in K_driver.F
  - Also checks in X_drude inserted

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1519 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  bse/K_diagonalization.F bse/K_solvers.F

  Bugs:
  - [KERR] Error in the expression of BS_R_kerr used to construct eps_xy
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1517 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  modules/std_presets.F modules/mod_KERR.F modules/mod_drivers.F bse/K_diagonalization.F bse/K_eh_setup.F bse/K_kerr_output.F bse/K_kerr_IP.F bse/K_driver.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - l_anomalous_Hall logical moved in drivers and initialized.
    Anomalous Hall effect computed only for metallic systems

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1516 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  bse/K_solver_IP.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [KERR] removed old file now useless

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1515 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1511 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  io/io_Vnl.F pol_function/Dipole_transverse.F p2y/Vnl_driver.F p2y/pw_pseudovelocity_module.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Also the off-diagonal spin part of the psp is included in the commutator.
    The effect is almost zero. Thus this term will not moved in the trunk.
    It could be bigger for very heavy ions(?)

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1508 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  . interface/init_load.F interface/init.F bse/K_kerr_output.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [KERR] kerr output improved
  - [KERR] removed old KrmKrn flag from input
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1507 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  p2y/pw_pseudovelocity_module.F

  Bugs:
  - If Vnl contains l=0 component and SO then the computed number
    of spherical armonics was wrong
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1505 76a4dfbf-5f1f-0410-a543-a0282073b526

- Wrong merge with trunk in src/pol_functions/.objects. [Davide
  Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1500 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk up to rev 1498. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1499 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  p2y/pw_pseudovelocity_module.F

  Bugs:
  - wrong bounds for spin-angel wave-functions in p2y/pw_pseudovelocity_module.F if n_spinor=2
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1498 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  p2y/pw_pseudovelocity_module.F p2y/qexml_v4.0.F

  Bugs:
  - fixed a bug in qexml_v4.0.F when reading psps with SO
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1495 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  p2y/pw_pseudovelocity_module.F p2y/qexml_v4.0.F p2y/Vnl_driver.F

  Bugs:
  - qexml must scun for PP_SPIN_ORB only if SO is included in the psp
    check on SO inserted
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1487 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  pol_function/Dipole_transverse.F io/io_Vnl.F configure p2y/pw_pseudovelocity_module.F p2y/qexml_v4.0.F p2y/Vnl_driver.F p2y/pw_pseudo_module.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [p2y] implementation of the commutator for the case n_spinor=2 fixed,
          with the insertion of the spin-angle wave--functions (PRB71 115106, Eqs.(2-4) used).
          The results must still be checked.

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1486 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  p2y/qexml_v4.0.F p2y/Vnl_driver.F pol_function/Dipole_transverse.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - p2y: support to the commutator for the cases
    n_sp_pol==2 and n_spinor=2  (still to be tested)

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1485 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  int_modules/mod_com2y.F p2y/qexml_v4.0.F p2y/mod_p2y.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Added support to read psps V2.0. Tests on silicon seems ok.

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1484 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  qp/QP_of.F qp/QP_report_and_write.F qp/QP_secant.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Small change to the secant solver

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1483 76a4dfbf-5f1f-0410-a543-a0282073b526

- Forgot declaration of idt_index. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1476 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1475 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  lib/pwdiago/ptoolkit.F lib/pwdiago/mp_base.F lib/pwdiago/mp.F io/ioGROT.F modules/std_presets.F modules/mod_KERR.F modules/mod_BS.F bse/K_driver.F bse/K_kerr_IP.F bse/K_solvers.F bse/K_IP.F bse/.objects bse/K_eh_setup.F bse/K_diagonalization.F bse/K.F bse/K_kerr_output.F qp/XCo_local.F qp/QP_Green_DOS.F qp/secant.F qp/QP_secant.F pol_function/KERR_shadow.F pol_function/Dipole_dip_dot_field.F pol_function/O_kerr.F pol_function/.objects pol_function/Dipole_driver.F pol_function/Dipole_transverse.F interface/init_load.F interface/init.F setup/setup.F ypp/electrons_dos_and_charge.F ypp/RT_fix_symmetries.F ypp/ypp_init.F ypp/mod_YPP.F ypp/ypp_init_load.F

  This commit is the sum of a series of commit I did in the qeforge-bis repository which presently is still online
  Still to be checked

  Bugs:
  - Fixed typo lenght / length
  - eval_minus_G is called also even there is no Tr nor Inv. This is ok as ng_closed are correctly reduced
  - k%weight in Green_dOS fixed
  - [RT_fix_symmetries]: small fix to work properly with extended symmetries (sperimental)

  Additions:
  -
  Changes:
  - [KERR]: kerr impleemntation reorganized
  - [KERR]: Also the anomalous Hall effect is computed
  - secant solver improved (also in the trunk)
  - [YPP]: the DOS can be plotted with inly valence states or with all states (unit fixed)

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1421 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1412 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1405 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1372 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  ypp/ypp_init_load.F ypp/ypp_init.F ypp/RT_fix_symmetries.F

  Bugs:
  - Rotation of pp_kb
  Additions:
  -
  Changes:
  - Add input option to increase the symmetries.
    Now ypp_rt is almost 1000 lines. It should be "fragmeted"

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1359 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  pol_function/Dipole_transverse.F sc/MAG_H_pseudo.F

  Bugs:
  - Fixed bug introduced in the previous commit
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1357 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  a2y/a2y_wf.F e2y/e2y_kb_pp.F pol_function/Dipole_transverse.F sc/MAG_H_pseudo.F io/ioKB_PP.F modules/mod_pseudo.F ypp/RT_fix_symmetries.F

  Bugs:
  - g_rot constructed starting with ng_closed=ng_vec not wf_ncx
  Additions:
  -
  Changes:
  - pp_kb must be dimensioned all to ng_vec now that also in abinit ng_vec/=wf_ng

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1356 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1355 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  io/ioKB_PP.F ypp/RT_fix_symmetries.F a2y/a2y_wf.F a2y/a2y_db1.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Also a2y write wfs in components.
    This  can save disk space and memory when doing operations up to wf_ncx

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1354 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  ypp/RT_fix_symmetries.F

  Bugs:
  - Also pp_kb and pp_kbd must be rotated

  Additions:
  -
  Changes:
  - RT_fix symmetries add, if possible, the magnetic symmetries and or the spatial
    inversion in systems with spin-orbit

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1352 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  configure include/version.inc config/configure.ac io/.objects io/.objects_gpl io/ver_is_gt_or_eq.F io/ioE_RIM.F modules/mod_IO.F modules/mod_electrons.F modules/mod_vec_operate.F bse/.objects_gpl bse/K_diagonalization.F bse/K_BSmat_by_V.F qp/QP_Green_Function.F qp/QP_Green_DOS.F pol_function/.objects_gpl pol_function/X_bare_RIM_GreenF.F interface/init.F tddft/tddft_BSK_disk_2_FXC.F ypp/ypp_i.F ypp/.objects ypp/.objects_gpl ypp/k_random.F ypp/ypp_init.F ypp/mod_YPP.F + ypp/ypp_init_load.F + ypp/electrons_dos_and_charge.F driver/ypp.h driver/ypp.h_gpl

  Bugs:
  -
  Additions:
  -
  Changes:
  - merged with trunk
  - qp/QP_Green_DOS.F: works also with GF_zoom
  - ypp/electrons_dos_and_charge.F: fixed units

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1321 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  qp/QP_of.F qp/QP_Green_DOS.F qp/.objects ypp/electrons_driver.F ypp/RT_fix_symmetries.F

  Bugs:
  -
  Additions:
  - Compute the DOS as the sum of the Green functions
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1311 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1310 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1305 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1302 76a4dfbf-5f1f-0410-a543-a0282073b526

- [KERR] Bug in call to K_eh_setup. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1295 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  wf_and_fft/scatter_Bamp.F pol_function/Dipole_dip_dot_field.F setup/build_spin_sop.F modules/mod_D_lattice.F bse/K_solvers.F bse/K_scattering.F bse/K_diagonalization.F bse/K_eh_setup.F xc_functionals/el_magnetization.F ypp/RT_fix_symmetries.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - with n_sp_pol=2, spin is indepedent from space degrees of freedom, thus it does not change under
    symmetry operations, Trev included. --> flip_spin function removed

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1287 76a4dfbf-5f1f-0410-a543-a0282073b526

- Erased spin_density.F. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1284 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  xc_functionals/spin_density.F xc_functionals/.objects xc_functionals/XC_libxc_driver.F qp/XCo_local.F setup/setup.F sc/SC_driver.F modules/mod_SC.F modules/mod_xc_functionals.F ypp/electrons_driver.F ypp/electrons_angular_momentum.F ypp/electrons_dos_and_charge.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - two_spin_density renamed magn
  - subroutine spin_density renamed el_magnetization

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1283 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1282 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  p2y/Vnl_driver.F int_modules/mod_xc2y.F int_modules/mod_com2y.F wf_and_fft/scatter_Bamp.F
     pol_function/X_drude.F modules/.objects bse/K_eh_setup.F bse/K.F ypp/RT_fix_symmetries.F

  Bugs:
  - Removed bug inserted in BSE on metals when drude pole is not used
  Additions:
  -
  Changes:
  - merged with trunk
  - spin_sop implementation. Work in progress

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1272 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  bse/K_scattering.F bse/K_eh_setup.F tddft/tddft_alda_r_space.F

  Bugs:
  - bse/K_scattering.F: t-rev was not checked and wf not conjg in the construction of O_phase
  Additions:
  -
  Changes:
  - bse/K_scattering.F bse/K_eh_setup.F: implmentation of spin symmetries. To be checked
  - tddft/tddft_alda_r_space.F: removed useless definition

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1271 76a4dfbf-5f1f-0410-a543-a0282073b526

- Subroutine free_memory. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1268 76a4dfbf-5f1f-0410-a543-a0282073b526

- Erased RT_build_spin_sop subroutine. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1267 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  wf_and_fft/scatter_Bamp.F pol_function/Dipole_dip_dot_field.F pol_function/Dipole_driver.F setup/setup.F setup/.objects setup/build_spin_sop.F modules/mod_D_lattice.F ypp/RT_fix_symmetries.F ypp/RT_build_spin_sop.F ypp/.objects driver/yambo_driver.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - build_spin_sop moved in src/setup, t_rev is now applyed after symmetry rotation
  - symmetrize_spin function in src/modules/mod_D_lattice.F for n_sp_pol=2 case
  - free memory subroutine which deallocates allocs before game_over
  - implemented spin_sop (n_spinor=2) and symmetrize_spin(n_sp_pol=2) in Dipole_dip_dot_field and scatter_Bamp

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1266 76a4dfbf-5f1f-0410-a543-a0282073b526

- Spin sop defined for every value of n_spin. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1264 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1259 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1252 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  modules/mod_vec_operate.F ypp/RT_fix_symmetries.F

  Bugs:
  - rotations on wfs in g_space works also from abinit
  Additions:
  -
  Changes:
  - i_sort subroutine added

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1247 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  xc_functionals/spin_density.F pol_function/X_os.F pol_function/O_driver.F pol_function/X_s.F

  Bugs:
  - t_rev flips spin in spin_density when n_sp_pol=2
  Additions:
  -
  Changes:
  - removed old kerr implementation in G space. Kerr must be computed via BSE

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1246 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  xc_functionals/spin_density.F qp/XCo_driver.F wf_and_fft/fft_setup.F pol_function/Dipole_driver.F io/ioDB1.F modules/std_presets.F ypp/RT_fix_symmetries.F ypp/RT_build_spin_sop.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - RT_fix_symmetries rotates wf in g space
  - spin_orbit removed from DB1
  - mag_syms in std_preset
  - fixed RT_build_spin_sop

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1243 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1242 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  int_modules/mod_com2y.F xc_functionals/el_density.F setup/setup.F ypp/RT_fix_symmetries.F ypp/RT_build_spin_sop.F

  Bugs:
  - spin_sop contruction was using different conventions for rotation angles
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1232 76a4dfbf-5f1f-0410-a543-a0282073b526

- Removed debug write from previous commit. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1230 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  xc_functionals/el_density.F wf_and_fft/fft_setup.F wf_and_fft/scatter_Bamp.F wf_and_fft/WF_spatial_invertion.F interface/barriers.F sc/OEP_driver.F sc/OEP_iterative.F sc/OEP_ApplySigmaX.F sc/OEP_Weighted_Density.F sc/OEP_app_inversion.F sc/OEP_ApplySigmaCSX.F sc/OEP_Hole.F tddft/tddft_alda_r_space.F modules/mod_wave_func.F modules/mod_FFT.F ypp/excitons_non_collinear.F ypp/excitons_driver.F ypp/RT_fix_symmetries.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - fft_rot_r are constructed from the spatial part only of the symmetries


  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1229 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1226 76a4dfbf-5f1f-0410-a543-a0282073b526

- Restored _KERR in driver.c. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1222 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  int_modules/mod_xc2y.F p2y/p2y_i.F lib/libxc/config.h.in xc_functionals/el_density.F qp/QP_real_axis.F qp/QP_ppa_cohsex.F wf_and_fft/fft_setup.F wf_and_fft/scatter_Bamp.F wf_and_fft/WF_spatial_invertion.F interface/barriers.F tddft/tddft_alda_r_space.F modules/mod_wave_func.F modules/mod_xc_functionals.F

  Bugs:
  -
  Additions:
  - use of mag_syms implemented
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1218 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  int_modules/mod_com2y.F wf_and_fft/fft_setup.F interface/barriers.F setup/setup.F io/ioDB1.F modules/mod_FFT.F modules/mod_D_lattice.F ypp/RT_fix_symmetries.F

  Bugs:
  -
  Additions:
  - Prepared implementation to use magnetic symmetries.
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1213 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1212 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk up to rev 1206. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1207 76a4dfbf-5f1f-0410-a543-a0282073b526

- Report HF energies for simple HF run. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1200 76a4dfbf-5f1f-0410-a543-a0282073b526

- Removed old construct_spin_sop. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1198 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1196 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fixed bug: variable was not initialized in RT_fix_symm. [Davide
  Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1178 76a4dfbf-5f1f-0410-a543-a0282073b526

- Moved barrier fos SO and magnetization at the end of the file. [Davide
  Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1177 76a4dfbf-5f1f-0410-a543-a0282073b526

- Barriers and warning for SO and trev. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1176 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fixed error created merging with trunk. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1175 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1174 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1171 76a4dfbf-5f1f-0410-a543-a0282073b526

- Cycle, not continue. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1169 76a4dfbf-5f1f-0410-a543-a0282073b526

- Improved name variables in RT_fix_symm. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1168 76a4dfbf-5f1f-0410-a543-a0282073b526

- Merged with trunk. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1167 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  xc_functionals/spin_density.F setup/construct_spin_sop.F setup/.objects ypp/RT_fix_symmetries.F

  Bugs:
  - xc_functionals/spin_density.F
    The magnetization is a pseudo-vector (or axial vector)
    It is invarianta under space-inv and flips under t-rev

  Additions:
  -
  Changes:
  - for nspin=2 RT_fix_symmetry construct the spin_sop associated to the dl_sop
    I still have a small decrease in the magnetization (~10^-4) and
    a problem with the MOKE

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1166 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  configure include/version.inc config/configure.ac xc_functionals/spin_density.F setup/check_periodic_directions.F setup/setup.F interface/init_load.F interface/init.F communicate/REPORT_Occupations.F sc/SC_driver.F sc/SC_bare_Hamiltonian.F modules/mod_electrons.F modules/std_presets.F modules/mod_matrix_operate.F modules/mod_magnetic.F ypp/RT_fix_symmetries.F driver/ypp.h_gpl

  Bugs:
  - Fixed RT_fix_symm with spinors
  Additions:
  -
  Changes:
  - Magnetization can be computed in the setup using -i -V gen
  - Merge with trunk 1163


  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1164 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  configure include/version.inc int_modules/mod_com2y.F config/Makefile.in config/configure.ac + + + + + + + + + + + + + + + lib/blas/.objects + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + lib/lapack/.objects qp/COLLISIONS_IO_compose.F pol_function/X_drude.F io/ioDB1.F modules/mod_matrix_operate.F modules/mod_D_lattice.F bse/K_diagonalization.F ypp/ypp_init.F ypp/RT_fix_symmetries.F driver/yambo.h_gpl driver/ypp.h_gpl sbin/make_makefile.sh.in

  Bugs:
  -
  Additions:
  -
  Changes:
  - Merged with trunk
  - Removed check for flip-spin symmetries

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1161 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  pol_function/KERR_shadow.F pol_function/Dipole_dip_dot_field.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - with pwscf trev symmetries are included also with spin_orbit interaction
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1152 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  pol_function/Dipole_dip_dot_field.F io/ioDB1.F modules/mod_D_lattice.F ypp/RT_fix_symmetries.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - First implementation of symmetries which flip spin. Only for BSE-IP

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1145 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  int_modules/mod_com2y.F p2y/mod_p2y.F ypp/RT_fix_symmetries.F

  Bugs:
  - int_modules/mod_com2y.F p2y/mod_p2y.F: position of optional argument t_rev
  Additions:
  -
  Changes:
  - ypp/RT_fix_symmetries.F: not all t-rev syms flip spin
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1144 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  int_modules/mod_com2y.F p2y/mod_p2y.F p2y/mod_pw_data.F

  Bugs:
  -
  Additions:
  -
  Changes:
  -  Read T-rev combined symmetries in magnetic systems with SO
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1143 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  setup/setup.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Report also T-rev symmetries in report file
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1142 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  configure include/version.inc config/configure.ac io/ioDB1.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - io of spin_orbit flag in DB1

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1141 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  ypp/ypp_init.F ypp/mod_YPP.F ypp/ypp_init_load.F ypp/RT_fix_symmetries.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - RT_fix_symmetries handles systems with ground-state magnetization

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1140 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  sc/MAG_Hamiltonian.F ypp/ypp_init.F ypp/ypp_init_load.F ypp/RT_fix_symmetries.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Ypp_rt remove symmetries which flip the spin in magnetic sistems
    with and without SO as these are not properly accounted for by yambo.

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1133 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  p2y/mod_p2y.F ypp/electrons_driver.F ypp/RT_fix_symmetries.F

  Bugs:
  - ypp/electrons_driver.F : in if() check ib index went over the maximum value
  Additions:
  -
  Changes:
  - ypp/RT_fix_symmetries.F: now works also for spin_orbit
  - p2y/mod_p2y.F: p2y reads spin_orbit flag to remove t-rev

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1128 76a4dfbf-5f1f-0410-a543-a0282073b526

- Commi test. [Alberto Debernardi]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1123 76a4dfbf-5f1f-0410-a543-a0282073b526

- Commit test. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1122 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  interface/QP_ctl_load.F

  Bugs:
  - [BSE] Fixed too long descriptor in QP correction
          application for systems with nsppol=2
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1111 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  interface/init.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Merged with trunk up to revision 1105

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1106 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  bse/K_diagonalization.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [KERR] fixed K_diagonalization beyond TDA

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1079 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  bse/K_kerr_output.F bse/K_kerr_IP.F bse/K_solvers.F bse/K_solver_IP.F bse/K_diagonalization.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [KERR] In the approach based on the density-density correlation function
           an additiona term need to be included in the off-diagonal part of the epsilon
           Fixed divergences at w=0 for terms proportional to 1/w^n
  - [KERR] Drude term causal for KK transformation

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1078 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  bse/K_solvers.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [KERR] Drude term causal
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1073 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  bse/K_kerr_IP.F bse/K_solvers.F bse/K_solver_IP.F bse/K_diagonalization.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [KERR] fixed Kramers--Kronig relations for velocity gauge
  - [KERR] removed eta factor for drude pole at w=0 for velocity gauge

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1072 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  xc_functionals/el_current.F sc/MAG_H_pseudo.F ypp/electrons_current.F

  Bugs:
  -
  Additions:
  - The contribution of the commutator [x,Vnl] is included in the current
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1060 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  sc/MAG_common_build_A.F sc/SC_start_and_restart.F sc/SC_bare_Hamiltonian.F sc/MAG_Hamiltonian.F modules/mod_magnetic.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [MAG] yambo_magnetic can run also if MAG_B=0 to do a standard yambo_sc run
  - [MAG] updated unit of magnetic field and comments in MAG subroutines

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1059 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  modules/std_presets.F

  Bugs:
  -
  Additions:
  - [KERR] presets for logicals chi_jj and chi_nn defined
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1057 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  qp/QP_of.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - output spin up and spin down QP corrections on two files with different names

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1056 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  bse/K_driver.F

  Bugs:
  - bug in the computation of the IP spectra introduced in previous commit
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1050 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  bse/K_solver_IP.F bse/K_IP.F

  Bugs:
  -
  Additions:
  - New subroutines for the yambo -o b -y n scheme
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1049 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  interface/init_load.F interface/init.F bse/K_solvers.F bse/.objects driver/yambo.h

  Bugs:
  -
  Additions:
  - yambo and yambo_kerr can compute the RPA-IP eps, eps off-diagonal
    and the kerr parameters using the the bse subroutines: yambo -o b -y n (n="none")
  - It is also possible to check the dispersive part of the dielectric tensor
    using the Kramers Kroenin relations
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1048 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  configure include/version.inc config/configure.ac interface/init_load.F io/io_elemental.F ChangeLog

  Bugs:
  -
  Additions:
  -
  Changes:
  - my branch merged with trunk revisions 1011:1046

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1047 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.4. [Davide Sangalli]

  *  bse/K_solvers.F

  Bugs:
  - Search for w closest to 0 for velocity gauge
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1039 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.4. [Davide Sangalli]

  *  bse/K_solvers.F

  Bugs:
  - Search for w closest to 0 for velocity gauge
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1038 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.4. [Davide Sangalli]

  *  modules/mod_KERR.F bse/K_kerr_IP.F bse/K_solvers.F bse/K_diagonalization.F

  Bugs:
  - The antiresonant part of the off-diagonal contribution to
    the response function is now exact. Results checked for Iron

  Additions:
  -
  Changes:
  - Removed useless comments
  - Removed a non influent minus in the definition of BSS_rhoq0 for chi_jj approach
  - improved computation of factor_jj in K_solvers

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1037 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.4. [Davide Sangalli]

  *  io/.objects modules/mod_BS.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Changes I forgot in commit 1026

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1028 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.4. [Davide Sangalli]

  *  pol_function/KERR_shadow.F pol_function/Dipole_dip_dot_field.F interface/init_load.F interface/init.F modules/mod_KERR.F bse/K_kerr_output.F bse/K_kerr_IP.F bse/K_solvers.F bse/K_output_file.F bse/.objects bse/K_eh_setup.F bse/K_diagonalization.F bse/K.F

  Bugs:
  -
  Additions:
  - kerr effect is computed also within the bse approach
  - it is possible to choose between the lenght gauge (chi_jj) and the velocity gauge (chi_nn)
    The related changes to Dipole_driver and Dipole_transverse have been already inserted
    in commit 1022
  - the drude term has been inserted also in the bse approach.
    To check how it works beyond the IP approach
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1027 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.4. [Davide Sangalli]

  *  pol_function/O_kerr_shadow.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - deleted empty file

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1026 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.4. [Davide Sangalli]

  *  pol_function/KERR_shadow.F pol_function/X_os.F pol_function/O_driver.F pol_function/O_kerr.F pol_function/Dipole_dip_dot_field.F pol_function/.objects pol_function/O_kerr_shadow.F pol_function/Dipole_driver.F pol_function/Dipole_transverse.F pol_function/X_s.F pol_function/X_drude.F modules/mod_KERR.F modules/mod_X.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - subroutine O_kerr_shadow.F renamed KERR_shadow.F
  - updated kerr implementation in G space.
    X_s is a ((NG-1)+3) x ((NG-1)+3) matrix as the G=0 component is a 3x3 matrix
  - evaluation of Drude term moved outside the subroutine X_os.F

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1025 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.4. [Davide Sangalli]

  *  ypp/RT_fix_symmetries.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - B_field or E_field related symmetries and T_rev symmetries are removed independently.
    It is so possible to remove the symmetries related to the B_field keeping the T_rev,
    although yambo is not yet able to handle the resulting database.

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1024 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.4. [Davide Sangalli]

  *  pol_function/Dipole_kb_sum_SO.F

  Bugs:
  -
  Additions:
  - Subroutine forgotten in last commit
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1023 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.4. [Davide Sangalli]

  *  pol_function/Dipole_kb_pp_comp.F pol_function/Dipole_kb_sum.F pol_function/.objects pol_function/Dipole_transverse.F io/ioKB_PP.F modules/mod_pseudo.F

  Bugs:
  -
  Additions:
  - For nspinor=2 and spin_orbit also the contribution from
    the SO part of the psp to [x,Vnl] is computed
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1022 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.4. [Davide Sangalli]

  *  a2y/a2y_wf.F

  Bugs:
  - reading HGH pp_table for systems with more than one atomic specie
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1020 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.4. [Davide Sangalli]

  *  qp/QP_real_axis.F qp/QP_life_transitions.F qp/QP_W2Sc.F interface/barriers.F modules/mod_functions.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Extended GW on real axis for spin polarized systems

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1019 76a4dfbf-5f1f-0410-a543-a0282073b526

- New branches added. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/branches/devel-davide@1012 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.1. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc p2y/mod_p2y.F bse/K_output_file.F

  Bugs:
  - Fixed inverted coulumn data / header in output of kerr parameters.
  Additions:
  -
  Changes:
  - In case of metallic systems, by default p2y sets the temperature at 300 K
    instead of using the pwscf temperature, which may be very high due to the
    use of different smearing techniques.

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@3774 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.1. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K_Haydock.F interpolate/bz_interp_coeff.F modules/mod_fields.F modules/mod_matrix_operate.F

  Bugs:
  - small bug fixes to allow compilation of yambo on Cray system (same commit done in trunk/devel and in GPL stable)
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@3736 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bz_ops/bz_samp_indexes.F bz_ops/k_reduce.F interpolate/grid_generator.F ypp/build_kpts_map.F ypp/k_grids.F ypp/symmetries_driver.F

  Bugs:
  - [ypp] symmetries are correctly removed also when there are points on the border of the BZ
          (patch imported from trunk devel)
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@3673 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 4.0.0. [Davide Sangalli]

  *  devel devel/config/configure.ac devel/configure devel/include/version.inc devel/collisions/COLLISIONS_load.F devel/sc/MAG_common_build_A.F devel/ypp/electrons_dos_and_charge.F stable/sc/MAG_common_build_A.F of conflicts:

  Bugs:
  - [yambo_magnetic] fixed SPEED_OF_LIGHT factor (both devel and stable)
  - [yambo_rt]       fixed mem_est for collisions
  Additions:
  -
  Changes:
  - merged trunk devel with trunk stable (spin projected dos implemented for n_spinor=2)

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@3570 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.1. [Davide Sangalli]

  *  devel/wf_and_fft/WF_load.F stable/config/configure.ac stable/configure stable/include/version.inc stable/wf_and_fft/WF_load.F stable/ypp/electrons_dos_and_charge.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - if nspinor=2 Dos can be projected along +S_z and -S_z (trunk/stabel)
  - FFT message switched off if WFs are loaded kpt by kpt (both trunk stable and trunk devel)

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@3565 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.1. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc p2y/qexml_v4.0.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Avoids that p2y trys to write on the component of a vector of dimension zero
    when a pseudo-potential does not have non-local components

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@3544 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug in cohsex when TR is not presented corrected. [Daniele Varsano]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@3540 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.1. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc ypp/excitons_driver.F

  Bugs:
  - Fixed bug in computation of excitons weight with DipWeight option
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@3520 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.1. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc pol_function/O_select_q_and_G.F

  Bugs:
  - [yambo]: yambo -o c calculations with q=0 out of the fist IBZ where wrong
             Bug pointed out by P. Cudazzo. There are still problems on metals however
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@3475 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.1. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc pol_function/Dipole_driver.F ypp/excitons_driver.F ypp/ypp_init.F ypp/ypp_init_load.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [YPP] Computing the contribution of each transition to a pole of the BSE (amplitude)
          it is now possible to chose wheter to use:
          A) Only the BSE eigenvectors: this gives the contribution to the poles of
             the density-density reponse function
          B) The BSE eigenvectors weighted with the dipoles: this gives the contribution
             to the poles of the dielectric function in the direction used to compute it

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@3424 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.1. [Davide Sangalli]

  *  configure include/version.inc p2y/qexml_v4.0.F config/configure.ac

  Bugs:
  - [p2y] units were not properly opened and closed with iotk_open and iotk_close calls
          or open(unit) and close(unit). Calls were  mixed before giving problems ...

  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@3415 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.1. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc p2y/qexml_v4.0.F common/FREQUENCIES_coarse_grid.F

  Bugs:
  - Fixed bug pointed out by a user on the forum
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@3397 76a4dfbf-5f1f-0410-a543-a0282073b526

- Copiright year updated in stable. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@3364 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.1. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc int_modules/mod_xc2y.F ypp/excitons_driver.F

  Bugs:
  - [p2y] Bug-fix imported from gpl (thanks to Myrta)
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@3362 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.1. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc

  Bugs:
  - Fix to libxc configure imported from trunk devel
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@3334 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.1. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc qp/QP_secant.F

  Bugs:
  - If system has just 1 kpt/qpt QP_secant was crashing
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@3331 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.1. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc pol_function/Dipole_transverse.F

  Bugs:
  - Fixed bug in parallel version of yambo_kerr introduced with commit 2007 (merge with devel-andrea)
    Bug was pointe out by a user on the forum
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@3316 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.1. [Davide Sangalli]

  *  ChangeLog config/configure.ac configure include/version.inc p2y/qexml_v4.0.F

  Bugs:
  - [p2y] With pseudopotentials of kind V2, with just 1 projector pseudo%d
          was not correctly set. This bug was introduced with the bug-fix of commit r2441
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@3313 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.1. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc io/io_HF_and_locXC.F qp/QP_report_and_write.F

  Bugs:
  - Restart from ndb.QP with different number of QP_nstates fixed
  - QP_report works properly if l_life
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@3186 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc io/ioKB_abinit.F io/ioKB_pwscf.F

  Bugs:
  - ioKB, in reading mode, was not reading pp_table if it was already allocated
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@3184 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  devel/config/configure.ac devel/configure devel/include/version.inc stable/config/configure.ac stable/configure stable/include/version.inc

  Bugs:
  -
  Additions:
  -
  Changes:
  - Updating versions in the trunk for the release of the new GPL.
    STABLE: 3.4.0 --> 3.4.1  will be the new stable GPL
    DEVEL:  3.4.0 --> 4.0.0  will be the new devel GPL

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@3152 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fixed imposed order in command line for BS solver. Removed bug in
  evaluation of non-collinear excitonic spin. Still nonsense numbers
  tough. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@3112 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc wf_and_fft/WF_states_setup.F

  Bugs:
  - Fixed a bug in WF_states_setup affecting runs with -M option and n_spinor=2
    (Bug pointed out by a user)
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@3087 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc ypp/electrons_driver.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - ypp can now plot the WFs also in case nspinor=2

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@3041 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc io/ioKB_abinit.F io/ioKB_pwscf.F

  Bugs:
  - Reverted changes introduced with commit 2440 in ioKB and which are clearly wrong
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@2953 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  include/version.inc xc_functionals/XC_libxc_driver.F config/configure.ac configure

  Bugs:
  - xc_functionals/XC_libxc_driver.F was returning a wrong V_xc for systems with
    a somewhere negative local magnetization and n_sp_pol=2. Bugs pointed out by AF.
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@2900 76a4dfbf-5f1f-0410-a543-a0282073b526

- Add forgot file e2y_wf_components.F. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@2767 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  e2y/e2y_kb_pp.F e2y/etsf_data.F e2y/e2y_wf.F e2y/e2y_i.F e2y/.objects e2y/e2y_db1.F include/version.inc driver/e2y.h configure modules/mod_vec_operate.F config/configure.ac

  Bugs:
  -
  Additions:
  -
  Changes:

  - e2y interface from KSS-etsf file know writes wfs on components.
    Used same trick of a2y. Still to be checked the cases nspin>1.

  - e2y now can read also WFK-etsf files. However
    1) the kb form factors are not present (i.e. ns.kb_pp DBs is not created).
       Need work from the abinit group, for the creation of a NETCDF-etsf file
       containing this infos.
    2) The generation of the complete gvectors-grid is very slow.
       Nsym times double loop on ng_vec.
       Also (this is not an issue) the resulting wf_ng is different from wf_ng
       obtained from the KSS file, simply because the ordering of the gvectors
       inside the last shell is different.

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@2750 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  configure e2y/e2y_db1.F include/version.inc config/configure.ac

  Bugs:
  -
  Additions:
  -
  Changes:
  - e2y is now working again, at least for Si with nspin=1.
    Test with abinit-7.4.1

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@2749 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  configure io/ioDB1.F modules/std_presets.F pol_function/Dipole_shifted_grids.F sbin/make_makefile.sh.in config/configure.ac int_modules/mod_xc2y.F e2y/e2y_i.F include/version.inc

  Bugs:
  -
  Additions:
  -
  Changes:
  - Fixed few bugs in Dipole_shifted grids. However, as pointed out also by Myrta, dipoles with this procedure are wrong,
    because of phase problems with the WFs. Only RPA-IP spectra are OK when all degenerate bands are included.
  - Fixed e2y compilation fixed. To be checked if it works.

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@2748 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  configure qp/COLLISIONS_IO_cohsex.F include/version.inc config/configure.ac

  Bugs:
  - Two small bug-fix
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@2733 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  parser/mod_itm.F interface/QP_init.F config/configure.ac ypp/ypp_i.F ypp/ypp_init.F include/version.inc configure

  Bugs:
  -
  Additions:
  -
  Changes:
  - Bug fix imported from trunk/devel

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@2726 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  configure io/ioBSS_invert.F config/configure.ac ypp/k_random.F ypp/fix_PPs.F include/version.inc

  Bugs:
  - io/ioBSS_invert.F: fixed old bug due to a non correct merge with my branch which prevented
    the inversion solver from working properly
  - ypp/k_random.F: when we have a fine grid we need to redefine the zeros on the kpts
  - ypp/fix_PPs.F: fixed small bug

  Additions:
  -
  Changes:
  - ypp/k_random.F: also other small improvements

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@2706 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  qp/ELPH_Hamiltonian.F ypp/k_random.F include/version.inc config/configure.ac configure

  Bugs:
  - Fixed long line in ELPH_Hamiltonian.F
  - Fixed small bug in RIM with spin
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@2704 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Myrta Gruning]

  *   qp/ELPH_Hamiltonian.F

  Bugs: Wrong type in array aborted compilation
  -
  Additions:
  -
  Changes:
  -


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@2611 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fixed wrong logicals in external QP database I/O. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@2608 76a4dfbf-5f1f-0410-a543-a0282073b526

- Wrong stop in OCCUPATIONS load fixed during a simple _sc run. [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@2607 76a4dfbf-5f1f-0410-a543-a0282073b526

- Hiroki bug-fix aded to ELPH_Sigma_c.F. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@2582 76a4dfbf-5f1f-0410-a543-a0282073b526

- E-p Hamiltonian: added e-p states analysis and residual treshold.
  [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@2579 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Andrea Marini]

  *  configure include/version.inc config/configure.ac qp/QP_driver.F qp/ELPH_Sigma_c.F qp_ctl/QP_apply_global_stretch.F qp_ctl/mod_QP_CTL.F interface/init.F setup/QP_external_corrections.F io/ioELPH.F modules/mod_ELPH.F

  Additions:
  - [ELPH] Added external QP corrections and stretching  on the k+q levels read
    from PW

  Changes:
  - [ELPH] Added partial DW and Fan components of the self-energy corrections (to code)
  - [ELPH] Tad-Pole diagram started.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@2550 76a4dfbf-5f1f-0410-a543-a0282073b526

- OLD trunk now in trunk/stable. Andrea's devel (with new MPI support)
  now in trunk/devel. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk/stable@2491 76a4dfbf-5f1f-0410-a543-a0282073b526

- Temporary trunk-stable added. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk-stables@2490 76a4dfbf-5f1f-0410-a543-a0282073b526

- Added option to use external (PW-compatible) interpolated modes file.
  [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2488 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Claudio Attaccalite]

  *  qp/XCo_Hartree_Fock.F qp/COLLISIONS_IO_eval.F qp/COLLISIONS_IO_cohsex.F qp/COLLISIONS_IO_HF.F qp/.objects qp/COLLISIONS_IO_compose.F real_time/RT_start_and_restart.F real_time/RT_initialize.F

  Bugs:
   -[RT] Fixed COLLISIONS when l_carrier_dynamics=.false.

  Changes:
   -[RT] XC0_and_HARTREE0 not allocated anymore
   -[RT] Hartree-Fock Collisions calculated in a separed file COLLISION_IO_HF.F


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2479 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Claudio Attaccalite]

  *  sc/SC_bare_Hamiltonian.F modules/std_presets.F modules/mod_real_time.F qp/COLLISIONS_IO_compose.F

  (forgot the message in previous commit)

  Bugs:
   -[RT] QP_Vnl_xc not allocated at the first call of RT_observable.F
   -[RT] l_NSC_shot undefined in IO

  Changes:
   -[RT/SC] SC_bare_hamiltonian.F parallalized


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2467 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Claudio Attaccalite]

  *  lib/libxc/build/Makefile.in lib/libxc/aclocal.m4 lib/libxc/configure lib/libxc/Makefile.in lib/libxc/Makefile.in lib/libxc/testsuite/Makefile.in sc/SC_bare_Hamiltonian.F modules/std_presets.F modules/mod_real_time.F qp/COLLISIONS_IO_compose.F

  Bugs:
  -
  Additions:
  -
  Changes:
  -


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2466 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc interface/init.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Command line improved
    * error message if -k option given before -o option
    * yambo -y ? activate SEX option by default with Hartree screening

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2463 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K_inversion.F

  Bugs:
  - small bug in K_inversion for causal mode.
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2446 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc p2y/PP_PWscf_driver.F p2y/qexml_v4.0.F

  Bugs:
  - [p2y] Fixed bug for pseudo without non-local components
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2441 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  branches/gpl/config/configure.ac branches/gpl/configure branches/gpl/include/version.inc branches/gpl/interface/init_load.F branches/gpl/io/ioKB_abinit.F branches/gpl/io/ioKB_pwscf.F branches/gpl/ypp/symmetries_driver.F trunk/config/configure.ac trunk/configure trunk/include/version.inc trunk/interface/barriers.F trunk/interface/init_load.F trunk/io/ioKB_abinit.F trunk/io/ioKB_pwscf.F trunk/ypp/symmetries_driver.F

  Bugs:
  - fixed ypp/symmetry_driver for the extend_symmetries mode
  - fixed GPL flags for yambo_surf
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2440 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/.objects_gpl common/.objects_gpl ypp/electrons_driver.F

  Bugs:
  - ypp compilation issue fissed
  - .object_gpl fixed
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2433 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Claudio Attaccalite]

  *  io/io_RT_components.F ypp/electrons_driver.F

  Bugs:
  -
  Additions:
  -
  Changes:
  -


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2429 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Claudio Attaccalite]

  *  io/io_Vnl.F io/io_RT_components.F modules/mod_parallel.F wf_and_fft/WF_load.F pol_function/Dipole_transverse.F

  Bugs:
  -
  Additions:
  -
  Changes:
  -


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2423 76a4dfbf-5f1f-0410-a543-a0282073b526

- Polaronic WFs normalized and taken the abs. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2419 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/.objects bse/K.F bse/K_BSload_diag.F bse/K_BSmat_by_V.F bse/K_Haydock.F bse/K_inversion.F common/.objects common/full_inversion.F common/pert_inversion.F modules/mod_BS.F pol_function/Dipole_kb_init.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Perturbative inversion now uses (a modified version of) K_BSmat_by_V.F so that
    the whole BS_mat is not allocated, as for the Haydock solver.
    Implementation from my branch.

    To be checked if yambo_distributed works with this implementation.


  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2417 76a4dfbf-5f1f-0410-a543-a0282073b526

- Added treshold for polaronic residuals processing and fixed few bugs.
  [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2416 76a4dfbf-5f1f-0410-a543-a0282073b526

- Plot of polaronic wf's re-implemented. Improved I/O and fixed several
  bugs. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2414 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Claudio Attaccalite]

  *  configure include/version.inc config/configure.ac modules/mod_IO.F sbin/make_makefile.sh.in

  Additions:
   -New option --enable-keep-src to keep .f90 files during compilation


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2412 76a4dfbf-5f1f-0410-a543-a0282073b526

- Git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-
  devel/trunk@2411 76a4dfbf-5f1f-0410-a543-a0282073b526. [Andrea Marini]

- Bug fixed in ELPH_Hamiltonian.F. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2409 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K_driver.F bse/K_eh_setup.F bse/K_inversion.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - BSEmod="causal" implemented also in the inversion solver
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2378 76a4dfbf-5f1f-0410-a543-a0282073b526

- Added more fields in QP of to monitor the energy spread of the
  spectral functions in order ro easily identify non-QP structures.
  [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2376 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Claudio Attaccalite]

  *  common/G_index.F pol_function/X_os.F ypp/symmetries_driver.F

  Bugs:
   -Fixed G_index for the case of energy degenerate shells

  Changes:
   -Wave-function is not loaded anymore for the IP case


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2363 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc ypp/fix_PPs.F ypp/fix_WFs_and_E.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - ypp now rotates also the ns.kb_pp_pwscf DBs when removing symmetries
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2362 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  config/configure.ac configure driver/p2y.h include/version.inc int_modules/mod_com2y.F p2y/PP_PWscf_driver.F p2y/p2y_db1.F p2y/p2y_i.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - removed -g option from p2y

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2357 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Claudio Attaccalite]

  *  common/G_index.F

  Bugs:
   -Fixed bug with G_index for particular systems


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2355 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Claudio Attaccalite]

  *  config/configure.ac interpolate/grid_generator.F ypp/electrons_bands.F configure include/version.inc

  Changes:
   -Fixed k-grid generator


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2339 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Claudio Attaccalite]

  *  ypp/k_grids.F

  Bugs:
   -Small bug in output


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2330 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc p2y/PP_PWscf_driver.F

  Bugs:
  - Fixed ns.kb_pp_pwscf in p2y for parallel runs
    I/O is fragmented, not parallelized
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2326 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Claudio Attaccalite]

  *  qp_ctl/OCCUPATIONS_IO_and_interpolate.F wf_and_fft/WF_apply_symm.F interface/init.F real_time/RT_databases_IO.F real_time/RT_start_and_restart.F + io/.objects io/io_SC_components.F ypp/ypp_init.F ypp/RT_databases.F

  Changes:
   -I/O separated for SC and RT


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2321 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Claudio Attaccalite]

  *  real_time/RT_databases_IO.F real_time/RT_initialize.F io/io_SC_components.F

  Bugs:
   -[RT] Bug reading and writing current and polarization, now yambo_rt reproduces
         the results of rev  2000


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2317 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Claudio Attaccalite]

  *  pol_function/X_bare_RIM_GreenF.F real_time/RT_initialize.F

  Bugs:
   -[RT] Fixed the right size NE_steps when RT_IO_time < 0


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2315 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  include/version.inc config/configure.ac configure bse/K_inversion.F pol_function/X_bare_RIM_GreenF.F pol_function/X_simple_GreenF.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - BSE computes the causal L, not the T-ordered. Thus I need the antiresonant term of the causal Green ('ca'),
    not the antiresonant term of the T-ordered Green function ('a'). Compare also with the definition of 'sa'.

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2313 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug fix in BSE inversion using GF's (including also Davide's comment)
  [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2312 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  configure setup/setup.F communicate/REPORT_Energies.F bz_ops/bz_samp_indexes.F pol_function/Dipole_kb_init.F config/configure.ac ypp/symmetries_driver.F include/version.inc

  Bugs:
  - Commented lines computing the magnetization in ypp/symmetries_driver.F
    There is a bug to be fixed there.

  Additions:
  -
  Changes:
  - q-points, k-points, DL vectors and RL vectors now are written in the report file
    also in cartesian coordinates (cc) which are more physical than the internal
    k units (iku). The latter however are kept for consistency with previous report files.

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2308 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.1. [Claudio Attaccalite]

  *  ypp/RT_X_effective.F

  Changes:
   -Changed X2 output to be plotable with gnuplot


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2306 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Andrea Marini]

  *  configure include/version.inc config/configure.ac bse/K_inversion.F

  Bugs:
  - Bug fixed in K_inversion

  Changes:
  - K_inversion "f" mode forced to invert all not-converged frequencies instead of using
    a recursive procedure (see old value of max_freqs_full_inv_ratio)

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2304 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  configure wf_and_fft/WF_apply_symm.F config/configure.ac include/version.inc

  Bugs:
  -
  Additions:
  -
  Changes:
  - WF_apply_symm reverted to last version. New version was very slow.
    Presently WF_symm and WF_apply_symm contains almost the same code however.

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2303 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  pol_function/Dipole_kb_pwscf_comp.F interface/init.F config/configure.ac include/version.inc configure

  Bugs:
  - If MaxGvecs is reduced below wf_ng a check is needed [ wf_igk(ic,ik)=ig<wf_ng ]
    in loops on component.
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2301 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Claudio Attaccalite]

  *  ypp/electrons_bands.F modules/mod_fields.F modules/mod_parallel.F qp_ctl/QP_load_DB.F

  Bugs:
   -Fixed bug reading quasi-particle databases
   -Fixed bug ploting the interpolated band structure


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2298 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  configure config/configure.ac ypp/fix_PPs.F include/version.inc

  Bugs:
  - bug fixed in ypp/fix_PPs.F:
    ioKB_PP is now ioKB_abinit and PP_alloc is now PP_alloc_abinit.
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2294 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  config/configure.ac configure pol_function/.objects_gpl io/.objects_gpl include/version.inc

  Bugs:
  -
  Additions:
  -
  Changes:
  - Fixed gpl files

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2292 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  configure pol_function/Dipole_kb_init.F pol_function/Dipole_transverse.F config/configure.ac include/version.inc

  Bugs:
  - Fixed bug in ns.kb_pp I/O introduced with last commit
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2288 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  config/configure.ac configure int_modules/mod_com2y.F p2y/pw_atoms_module.F + p2y/.objects p2y/pw_pseudovelocity_module.F + p2y/Vnl_driver.F p2y/p2y_i.F a2y/a2y_wf.F a2y/a2y_i.F pol_function/Dipole_transverse.F pol_function/Dipole_kb_pp_comp.F pol_function/Dipole_kb_Ylm.F pol_function/Dipole_kb_init.F pol_function/.objects + pol_function/Dipole_kb_pwscf_comp.F + io/ioKB_pwscf.F io/ioKB_PP.F io/.objects modules/mod_pseudo.F interface/init.F driver/p2y.h lib/libxc/config.h.in lib/libxc/configure include/version.inc

  Bugs:
  -
  Additions:
  -
  Changes:
  - [x,Vnl] commutator via KB form factor for p2y included.
    Old implementation in p2y erased. However yambo is still able to read ns.Vnl DB.
    The new implementation is identical to one in a2y for n_spin=1 .
    However for n_spin=2 the two implementations are slightly different. Thus now a2y
    creates the ns.kb_pp DBs while p2y creates the ns.kb_pp_pwscf DB
    The CPU-time-consuming subroutine "src/pol_function/Dipole_kb_sum.F" is common
    and it did not change with the present commit.


  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2287 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  config/configure.ac include/version.inc configure common/OCCUPATIONS_Fermi.F

  Bugs:
  - E%f was allocated n_spin instead of n_sp_pol in common/OCCUPATIONS_Fermi.F
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2279 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Conor Hogan]

  *  config/Makefile.in_gpl

  Bugs:
  - Took branches/gpl version, now everything compiles (!)


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2277 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Conor Hogan]

  *  surf_modules/.objects surf_modules/.objects_gpl io/.objects_gpl modules/.objects_gpl wf_and_fft/.objects_gpl pol_function/.objects_gpl ypp/.objects_gpl sbin/yamboo_new.pl config/Makefile.in_gpl

  Bugs:
  - Corrected more bugs in new yamboo script.
  - Corrected several missing objects in .objects_gpl files. Check that this is what you intend in the GPL!
  Additions:
  - Ready to test the new GPL ++ source, try with
    ./sbin/yamboo_new.pl -p="KERR SURF YPP_SURF ELPH YPP_ELPH"

  - yambo_kerr, yambo_ph, ypp_ph compile after yamboo.pl
  - yambo_surf, ypp_surf don't compile, to be fixed


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2276 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Andrea Marini]

  *  configure include/version.inc config/configure.ac pol_function/X_bare_RIM_GreenF.F pol_function/X_os.F io/ioELPH.F ypp/ypp_init.F ypp/ypp_init_load.F

  Bugs:
  - bug in ioELPH fixed
  - Old fr argument of X_bare_RIM_GreenF removed

  Additions:
  - Electronic/Bosonic temperatures input variables added

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2274 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Claudio Attaccalite]

  *  modules/.objects modules/.objects_gpl

  Bugs:
   -Changed modules order to fix compilation issues



  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2268 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  wf_and_fft/.objects wf_and_fft/WF_symm.F wf_and_fft/WF_apply_symm.F modules/mod_wave_func.F config/configure.ac ypp/excitons_driver.F ypp/ypp_init_load.F include/version.inc configure

  Bugs:
  -
  Additions:
  -
  Changes:
  - WF_symm rotates WFs point by point. Needed by excitons_driver.

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2265 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Conor Hogan]

  *  include/latest_info.inc sbin/yamboo.pl sbin/yamboo_new.pl

  Additions:
  - Improved yamboo.pl script for multiple projects, needs complete testing


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2263 76a4dfbf-5f1f-0410-a543-a0282073b526

- Trying again. [Conor Hogan]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2256 76a4dfbf-5f1f-0410-a543-a0282073b526

- Revision set automatically by subversion in file
  include/latest_info.inc. [Conor Hogan]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2254 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  ypp/excitons_driver.F

  Bugs:
  - Forgot ikibz index fix in previous commit
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2252 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  pol_function/Dipole_transverse.F pol_function/Dipole_kb_Ylm.F config/configure.ac ypp/excitons_driver.F include/version.inc configure

  Bugs:
  - Fixed a bug in excitons_driver. Bug pointed by a user.
    Forum message: "ypp excitons wave plot :: Segmentation fault :: ver 3.4.0"

  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2251 76a4dfbf-5f1f-0410-a543-a0282073b526

- Working on new yamboo.pl script (not working yet) [Conor Hogan]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2248 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bz_ops/k_expand.F

  Bugs:
  - wrong dimensions in mem_est call
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2238 76a4dfbf-5f1f-0410-a543-a0282073b526

- Second frequency removed in response to make the merge with the
  parallel branch easier. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2237 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.1. [Claudio Attaccalite]

  *  interface/init.F

  Changes:
   -[RT] IOtime moved in the input flags


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2227 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc pol_function/Dipole_shifted_grids.F wf_and_fft/WF_apply_symm.F

  Bugs:
  - Finally fixed bug in WF_apply_symm with spinors
  Additions:
  -
  Changes:
  - Wrapper used also in Dipoles_shifted_grids

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2224 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.1. [Claudio Attaccalite]

  *  modules/mod_timing.F common/G_index.F

  Bugs:
   -Fixed bug in particular case, G_index simplified.
   -Fixed bug for more than 100 processors in mod_timing.F


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2221 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  configure bse/K_kerr_IP.F bse/K_Haydock.F bse/K_IP.F bse/K_diagonalization.F bse/K_driver.F bse/K_solvers.F bse/K_eh_setup.F bse/K_inversion.F config/configure.ac include/version.inc

  Bugs:
  -
  Additions:
  -
  Changes:
  - BSEmod="causal" now supported also by Haydock solver
  - Occupations moved inside BSS_rhoq0 and also supported by Haydock
    solver for the Hermetian case (i.e. BSEmod="causal")
  - Drude term in bse now included also via the Haydock solver

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2219 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  config/configure.ac include/version.inc configure interface/init_load.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Haydock_treshold input variable is now a standard variable

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2214 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Claudio Attaccalite]

  *  ypp/ypp_init_load.F ypp/electrons_dos_and_charge.F ypp/ypp_init.F

  Changes:
   -ypp -s s now plots the full DOS
   -Added new flag PrtOccOnly to plot DOS multiplied by the occupation


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2210 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.4.0. [Davide Sangalli]

  *  configure wf_and_fft/WF_apply_symm.F config/configure.ac include/version.inc

  Bugs:
  -
  Additions:
  -
  Changes:
  - Fixed revision numbering

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2208 76a4dfbf-5f1f-0410-a543-a0282073b526

- Updated version to: 3.4.0. [Claudio Attaccalite]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2204 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fixed GPL generation. [Claudio Attaccalite]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2203 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.1. [Davide Sangalli]

  *  include/version.inc p2y/pw_pseudovelocity_module.F setup/build_spin_sop.F wf_and_fft/WF_apply_symm.F bse/K_driver.F config/configure.ac

  Bugs:
  - p2y -c works also if not all psp contains SO
  - BS_bands boundaries fixed
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2200 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.1. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K_eh_setup.F

  Bugs:
  - BS_bands check moved from K_eh_setup to K_driver
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2196 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.1. [Andrea Marini]

  *  include/version.inc config/configure.ac qp_ctl/QP_apply_DB_interpolation.F qp_ctl/QP_merge_DBs.F parser/mod_parser_m.F parser/mod_itm.F bz_ops/k_the_nearest.F interface/init.F modules/mod_R_lattice.F ypp/ypp_init.F + ypp/ypp_init_load.F ypp/read_bxsf.F ypp/qpdb_setup.F ypp/qpdb_init.F ypp/mod_YPP.F ypp/ypp_i.F ypp/.objects ypp/.objects_gpl ypp/QP_DBs_merge.F + ypp/k_random.F driver/ypp.h

  Additions:
  - Added options to ">ypp -q" to merge QP databases.
  - Added utility in ypp to merge QP databases.
  - Added to the parser matrix-like character variables.

  Changes:
  - k_the_nearest moved as interface in the RL module
  - Switched off automatic em1s runlevel with "-o b" to allow the post-inversion of the
    BSE using the RIM without that the em1s database is rebuild again.
  - ypp/qpdb_setup.F and ypp/qpdb_init.F renamed.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2192 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.1. [Conor Hogan]

  *  include/version.inc config/configure.ac surf_modules/mod_ras.F surf/Write_RAS.F surf/Surface_driver.F ypp/ras_ypp.F ypp/reels_ypp.F

  Changes:
  - [SURF] Tidying labels of output files

  Patch sent by: Conor


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2181 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.1. [Claudio Attaccalite]

  *  interpolate/grid_generator.F interpolate/eval_interpolation_coeff.F interpolate/.objects ypp/ypp_init_load.F ypp/ypp_init.F ypp/electrons_bands.F ypp/mod_YPP.F

  Changes:
   -Fixed interpolation input and interpolation on regular grids


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2180 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.1. [Claudio Attaccalite]

  *  interface/init_load.F

  Changes:
   -Changed verbosity for QpntsRXs QpntsRXp QpntsRXx


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2176 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.1. [Davide Sangalli]

  *  config/configure.ac configure common/G_index.F include/version.inc

  Bugs:
  - Fixed bug in G_index.F for systems with many shells
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2170 76a4dfbf-5f1f-0410-a543-a0282073b526

- Move to web. [Claudio Attaccalite]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2166 76a4dfbf-5f1f-0410-a543-a0282073b526

- Removed useless commented line. [Davide Sangalli]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2165 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.1. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc pol_function/Dipole_kb_Ylm.F pol_function/Dipole_kb_pp_comp.F pol_function/Dipole_kb_sum.F pol_function/Dipole_transverse.F

  Bugs:
  - Fixed old bug in Dipole_kb_Ylm.F which affected [x,Vnl] abinit
    for all calculations if the projectors of Vnl had l>0
    Now runs with different symmetries gives exactly the same result.
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2164 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.1. [Davide Sangalli]

  *  include/version.inc configure common/G_rot_grid.F

  Bugs:
  - Fixed G_rot_grid bug in trunk. Affected ypp when grids were rotated
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2162 76a4dfbf-5f1f-0410-a543-a0282073b526

- Hartree is default Chi_mode in em1s/em1d. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2155 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.1. [Davide Sangalli]

  *  interface/init_load.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Double commit GPL and trunk:
    removed bsfxc option in the GPL

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2152 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.1. [Davide Sangalli]

  *  driver/yambo.h_gpl driver/ypp.h_gpl

  Bugs:
  -
  Additions:
  -
  Changes:
  - Double commit trunk and GPL
    yambo.h and ypp.h for GPL fixed

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2149 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.1. [Davide Sangalli]

  *  common/G_index.F ypp/fix_WFs_Gshells.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Double commit in GPL and trunk:
    Code which closes the shells against general symemtries is not yet ready.
    Removed from GPL

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2145 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.1. [Claudio Attaccalite]

  *  io/ioQP.F

  Bugs:
   -Yambo checks the ndb.QP type, if it is different it recalculates it


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2142 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.1. [Davide Sangalli]

  *  ypp/ypp_i.F ypp/ypp_init.F ypp/ypp_init_load.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Double commit trunk+GPL
  - ypp fix symmetries now also included in the GPL

  Patch sent by: Davide



  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2141 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.1. [Davide Sangalli]

  *  interface/init_load.F setup/setup.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Double commit trunk+GPL
  A) init_load DrudeWBS moved. Now it is correctly loaded in the GPL
  B) Mag symmetries included also in GPL

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2140 76a4dfbf-5f1f-0410-a543-a0282073b526

- _SURF copyright year updated. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2130 76a4dfbf-5f1f-0410-a543-a0282073b526

- Minor changes to extract the gpl source. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2127 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.1. [Davide Sangalli]

  *  interface/init_load.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - eh-interaction also in coupling logial is a default variable

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2107 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.1. [Claudio Attaccalite]

  *  interface/init_load.F

  Bugs:
   -Fixed bug with verbosity -V QP


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2104 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.1. [Claudio Attaccalite]

  *  driver/yambo.h driver/yambo.h_gpl

  Changes:
   -Added some comments on BSE solvers


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2099 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.1. [Myrta Gruning]

  *  interface/init.F

  Bugs: -o b -y <solver> was producing and input that produced a segfault
        now in this case bss runlevel is switched off
  -
  Additions:
  -
  Changes:
  -


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2096 76a4dfbf-5f1f-0410-a543-a0282073b526

- Few conflicts fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2094 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.1. [Andrea Marini]

  *  include/version.inc interface/init_load.F interface/init.F bse/K_driver.F bse/K_IP.F bse/K.F

  BS-based Fxc works when launnched on the fly (-k BSfxc -y t). It does not work when used
  as a simple post-solved (-k sex -y t). This part must be fixed. Moreover I am not sure anymore
  about the correct removal of the exchange part.

  All this section will be revisioned after the school.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2093 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.1. [Davide Sangalli]

  *  driver/yambo.h include/version.inc bse/K_IP.F bse/K_driver.F bse/K_solvers.F interface/barriers.F interface/init.F interface/init_load.F modules/mod_BS.F modules/mod_TDDFT.F modules/mod_X.F modules/mod_drivers.F modules/std_presets.F pol_function/O_driver.F real_time/.objects

  Bugs:
  -
  Additions:
  -
  Changes:
  - Input command line reorgainzation improved. (patch by Myrta and Davide)

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2092 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.1. [Conor Hogan]

  *  surf_modules/mod_surface_geometry.F surf/Extract_eps_surf.F surf/Write_REELS.F interface/init.F ypp/ypp_i.F ypp/ypp_init_load.F ypp/ypp_init.F ypp/ras_ypp.F driver/ypp.h include/version.inc

  Additions:
  - [SURF] ypp_surf routines fixed, output tidied up

  Patch sent by: Conor


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2091 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.1. [Conor Hogan]

  *  include/version.inc config/Makefile.in_gpl config/Makefile.in surf surf/Write_eps_tensor.F surf/Calc_REELS.F surf/Write_RAS.F surf/Extract_eps_surf.F surf/io_DIPOLES_cut.F surf/Dipole_driver_cut.F surf/Dipole_transverse_cut.F surf/Surface_driver.F surf/.objects surf/Write_REELS.F pol_function/X_os.F pol_function/Dipole_dip_dot_field.F setup/QP_external_corrections.F interface/init_load.F interface/init.F surf_modules surf_modules/mod_reels.F surf_modules/ras_presets.F surf_modules/mod_convolute.F surf_modules/mod_optcut.F surf_modules/mod_eels_kinematics.F surf_modules/mod_eels_detector.F surf_modules/mod_numerical_integration.F surf_modules/mod_surface_geometry.F surf_modules/.objects surf_modules/mod_model_loss_function.F surf_modules/mod_ras.F surf_modules/io_loc.F surf_modules/mod_bulkeps.F surf_modules/.objects_gpl ChangeLog ypp/reels_ypp.F ypp/mod_YPP.F ypp/ras_generate_epsdb.F ypp/.objects ypp/ras_trans_ypp.F ypp/ras_ypp.F driver/yambo_driver.F driver/driver.c driver/yambo.h driver/ypp.h

  Additions:
  - [SURF] Surface spectroscopy project re-inserted into trunk. Some basic tests passed but needs more checking.
    Executables/projects renamed as yambo_surf and ypp_surf; D_SURF precompilation flag.

  Patch sent by: Conor


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2087 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Conor Hogan]

  *  sbin/svn2cl.pl include/version.inc

  Changes:
  - Updated Changelog generator. Testing commit to trunk!


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2085 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.1. [Davide Sangalli]

  *  configure parser/ps_convert.F parser/mod_parser_m.F setup/build_spin_sop.F interface/init_load.F modules/mod_BS.F bse/K_scattering.F include/version.inc config/configure.ac

  Bugs:
  - Fixed bug in build_spin_sop, introduced with the last commit
  - Fexed bug in O_phase for n_spinor=2
  Additions:
  -
  Changes:
  - Drude input variable moved under -V resp from -V RL
  - ps_convert correctly pars also input cut-off variables at zero eV. Now should finally work

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2083 76a4dfbf-5f1f-0410-a543-a0282073b526

- BSSInvMode introduced from devel-andrea was not initialized correctly.
  K_inversion was not working. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2078 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.1. [Davide Sangalli]

  *  include/version.inc config/configure.ac configure wf_and_fft/scatter_Bamp.F setup/build_spin_sop.F setup/setup.F interface/init_load.F interface/init.F

  Bugs:
  - init.F: BSE with screened interaction kernel had always exchange coupling on.
  - Spin_sop, fixed old bug
  Additions:
  -
  Changes:
  - Renamed BSE drude varaible from DrudeW to DrudeWBS to avoid the latter to appear in
    calculations in G-space
  - setup, warning message fot mag_syms moved in the GPL

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2071 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fixed BUG in random k-points generation. The points were NOT shifted
  in the IBZ after the random generation. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2068 76a4dfbf-5f1f-0410-a543-a0282073b526

- Internal version counter updated. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2067 76a4dfbf-5f1f-0410-a543-a0282073b526

- Added ypp option to print internal Q/K points. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2066 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fixed a bug in rim_spherical (yambo_ph) and added indirect gap states
  in Silicon test. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2060 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.1. [Davide Sangalli]

  *  include/version.inc bse/K_IP.F interface/init.F

  Bugs:
  - Fixed bug which was redefining BS_identifier in K_IP, preventing restart
  - Fixed bug in init.F which was erroneusly defining BS_cpl_mode in some cases
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2055 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.1. [Davide Sangalli]

  *  include/version.inc p2y/mod_p2y.F p2y/mod_pw_data.F p2y/qexml_v4.0.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - p2y reads WFs from LDA+U ground-state, however a warning message is printed.
    The Hubbard U correction is presently not implemented neither in the computation
    of the QP-corrections, not in the commutator [x,H_nl] of x with the non
    local part of the Hamiltonian


  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2051 76a4dfbf-5f1f-0410-a543-a0282073b526

- Minor style changes and ELPH/GPL barriers removed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2048 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.1. [Davide Sangalli]

  *  include/version.inc ypp/electrons_dos_and_charge.F

  Bugs:
  - RT_output calls moved inside _RT project
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2041 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.1. [Claudio Attaccalite]

  *  modules/mod_fields.F

  Bugs:
   -[RT] Fixed bug due to the use of "nint" on some systems, substituted with "floor"


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2037 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.1. [Claudio Attaccalite]

  *  ypp/ELPH_atomic_amplitude.F ypp/ELPH_eliashberg_dos.F driver/yambo.h

  Bugs:
   -[RT] Fixed compilation issues

  Changes:
   -[RT] Real-time input changed in -q to be compatible with -k of the Kernels
   -[RT] Probe_Tstart can be defiend also with the probe only



  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2031 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.1. [Davide Sangalli]

  *  config/Makefile.in driver/driver.c include/version.inc sbin/yamboo.pl bse/.objects bse/K_driver.F bse/K_kerr_IP.F bse/K_output_file.F interface/barriers.F interface/init.F interface/init_load.F io/.objects modules/.objects modules/mod_KERR.F modules/mod_X_output.F modules/mod_drivers.F modules/mod_units.F pol_function/Dipole_dip_dot_field.F pol_function/Dipole_driver.F pol_function/Dipole_transverse.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - KERR project moved in the trunk. Only IP-RPA part.

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2030 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.1. [Claudio Attaccalite]

  *  real_time/RT_observables.F real_time/RT_ELPH_total_Kernel.F real_time/RT_initialize.F real_time/RT_relaxation.F

  Bugs:
   -[RT] Fixed segmentation fault when RT_is_dumped=.false.
   -[RT] Fixed compilation issues


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2027 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.1. [Davide Sangalli]

  *  include/version.inc common/OCCUPATIONS_Fermi.F communicate/REPORT_Occupations.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Fixed REPORT_occupations messages to avoid double messages.
    Now both "n met el" and  "f_occ met" are reported

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2025 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.1. [Davide Sangalli]

  *  include/version.inc interface/init.F interface/init_load.F modules/std_presets.F modules/mod_drivers.F bse/K_eh_setup.F

  Bugs:
  - BS_bands check in K_eh_setup fixed
  Additions:
  -
  Changes:
  - By default the correlation part of the kernel is included only in the resonant/anti-resonant term
    It can be inserted in the coupling with the flag "WehCpl

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2019 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.1. [Claudio Attaccalite]

  *  configure config/acx_fortran_flags.m4 config/acx_get_fc_version.m4

  Bugs:
   -Fixed compilation with intel fortran 13



  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2018 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.1. [Claudio Attaccalite]

  *  configure config/netcdf_f90.m4

  Changes:
   -The option --with-netcdf-link now overwrites the nc-config parameters


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2017 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.1. [Davide Sangalli]

  *  pol_function/Dipole_driver.F include/version.inc

  Bugs:
  - Fixed bug introduced removing MANYK project

  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2009 76a4dfbf-5f1f-0410-a543-a0282073b526

- Devel-andrea and trunk merged. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2007 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc interface/init_load.F parser/Gclose.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Fixed small bug in the initialization
  - Erased duplicate bs_xc runlevel

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@2002 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.0. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc bse/K.F bse/K_diagonalization.F bse/K_driver.F bse/K_eh_setup.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - BSE_mode="causal" works only at the IP-RPA level or with the diagonalization solver
  - Check on the correlation fft-size done only if BS_res_K_corr or BS_cpl_K_corr=.true.

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@1996 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.0. [Davide Sangalli]

  *  include/version.inc configure interface/init_load.F interface/init.F modules/std_presets.F modules/mod_BS.F bse/K_driver.F bse/K_eh_setup.F bse/K_IP.F config/configure.ac

  Bugs:
  -
  Additions:
  -
  Changes:
  - BS_Eq_mode renamed BSE_mode
  - Improved messages

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@1990 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.0. [Andrea Marini]

  *  configure include/version.inc config/configure.ac qp_ctl/QP_load_DB.F modules/mod_BS.F bse/K_IP.F bse/K_eh_setup.F

  Bugs:
  - In multiple QP dbs reading in src/qp_ctl/QP_load_DB.F. Note that to read different quantites
    from different DBs' one should use spaces like
    " E < DB1 E W < DB2 Z < DB3"

  Changes:
  - Added support to complex (Fano like) renormalization factors

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@1988 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.0. [Davide Sangalli]

  *  include/version.inc driver/yambo.h configure interface/init.F config/configure.ac

  Bugs:
  -
  Additions:
  -
  Changes:
  - Fixed few inconsistencies

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@1985 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.0. [Davide Sangalli]

  *  config/configure.ac configure driver/yambo.h include/version.inc bse/.objects bse/K.F bse/K_BSload.F bse/K_BSmat_by_V.F bse/K_DISTRIBUTED.F bse/K_IP.F bse/K_diagonalization.F bse/K_driver.F bse/K_eh_setup.F bse/K_output_file.F bse/K_solvers.F interface/barriers.F interface/init.F interface/init_load.F modules/mod_BS.F modules/mod_X.F modules/mod_drivers.F modules/std_presets.F pol_function/X_drude.F pol_function/X_os.F tddft/tddft_do_X_W_typs.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Reorganization of optical runlevels in view of the introduction of the _KERR project in the trunk.
    See new yambo -H output. Still to be more deeply tested.

  - yambo -o ? -k ? (-y ?)
      1)  -o option : choose the space where the dyson equation for optics is solved
             c(/g)   --> solve the dyson equation for chi in the  g-space
             b(/eh)  --> solve the dyson equation for L   in the eh-space
      2)  -k choose the approximation for the kernel of the dyson equation
               i=IP-RPA; h =td_hartree; da=tddft/alda; dl=tddft/lrc(only g-space); db=tddft/bs_fxc
                         hf=tdhf (only eh-space) ; w= screened (W) eh interaction (only eh-space)
      3) -y choose the solver. Only for the eh-space. As before d/h/i/t
          (not sure about the "t" solver bat it will not enter the GPL for the moment)

  - New input variable BSEqmode. This replaces the two old variables BSresmode and BScplmode
         resonant = only the resonant term is used
         causal   = both resonant and anti-resonant term are used (This is the TDA)
         coupling = resonant + anti-resonant + coupling term used (This is the full BSE)
    For metals causal option must be used, while it is not needed to force coupling any-more

  - Also now the Drude term can be included in the eh-space (only IP and after diagonalization solver)


  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@1983 76a4dfbf-5f1f-0410-a543-a0282073b526

- Other bug fixes in QP db loading. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@1980 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug fix. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@1977 76a4dfbf-5f1f-0410-a543-a0282073b526

- Created compiling version of gpl+open-mp. Still to be tested. [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@1974 76a4dfbf-5f1f-0410-a543-a0282073b526

- File missing was preventing the compilation. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@1973 76a4dfbf-5f1f-0410-a543-a0282073b526

- Init_convert splitted in two. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@1967 76a4dfbf-5f1f-0410-a543-a0282073b526

- Global variable renaming and moving in order to reduce conflicts
  during the mergering procedure of the devel-open-mp branch. [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@1966 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.0. [Davide Sangalli]

  *  config/Makefile.in config/configure.ac configure driver/driver.c include/version.inc sbin/yamboo.pl bse/.objects + bse/K_BSmat_by_V_TEST_1.F bse/K_Haydock.F bse/K_diagonalization.F bse/K_inversion.F modules/mod_BS.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - TEST_1 proget definetly removed. It has long been tested as it was the defaul also in the trunk

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@1963 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug in external QP I/O fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@1957 76a4dfbf-5f1f-0410-a543-a0282073b526

- Added possibility to selectively load Energies, Widths and Z factors
  from different databases. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@1949 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.0. [Davide Sangalli]

  *  configure pol_function/X_os.F pol_function/X_drude.F config/configure.ac include/version.inc

  Bugs:
  -
  Additions:
  -
  Changes:
  - Drude subroutine directly compute the drude term of X_epsilon and can be used also
    within the BSE scheme (i.e. eh representation of the L function)

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@1947 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.0. [Davide Sangalli]

  *  config/configure.ac configure parser/ps_convert.F parser/mod_itm.F parser/init_convert.F pol_function/.objects modules/mod_real_time.F setup/G_shells_finder.F include/version.inc

  Bugs:
  -
  Additions:
  -
  Changes:
  - removed kpoints_map variable in mod_real_time
  - improved unit conversion. Now (i) also the cut-off energy E=0 is properly converted to 1 RL
    and (ii) cut-off energies can be given also in eV units
  - removed old KERR declaration in pol_function/.objects

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@1942 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.0. [Claudio Attaccalite]

  *  p2y/pw_pseudovelocity_module.F p2y/pw_wfc_module.F p2y/qexml_v4.0.F p2y/mod_p2y.F p2y/Vnl_driver.F p2y/pw_pseudo_module.F p2y/num_interpolation_module.F p2y/mod_numerical.F modules/mod_matrix_operate.F

  Additions:
   -Fixed p2y in double precision
   -Introduced Trace and Hermitian operators



  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@1940 76a4dfbf-5f1f-0410-a543-a0282073b526

- BUG fixed in linewidths loading from external DB. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@1938 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  include/version.inc configure bse/K_eh_setup.F config/configure.ac

  Bugs:
  - BS_bands(1:2) forced to be in the bands range
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@1931 76a4dfbf-5f1f-0410-a543-a0282073b526

- Wrong sign in Finite temperature line-widths corrected. [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@1925 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  configure tddft/tddft_BSK_2_FXC.F include/version.inc config/configure.ac

  Bugs:
  - tddft_BSK_2_FXC was reporting error 'Array bound mismatch'
    if yambo is compiled with gfortran and bounds check
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@1902 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.3.0. [Claudio Attaccalite]

  *  modules/mod_X.F

  Bugs:
   -Dipoles Matrices not correctly deallocated



  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@1892 76a4dfbf-5f1f-0410-a543-a0282073b526

- Fixed version. [Claudio Attaccalite]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@1887 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.6. [Claudio Attaccalite]

  *  configure include/version.inc config/configure.ac

  Changes:
   -Version updated



  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@1885 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  config/configure.ac configure common/OCCUPATIONS_Gaps.F common/OCCUPATIONS_Fermi.F include/version.inc

  Bugs:
  -
  Additions:
  -
  Changes:
  - At least 1 conduction state must be included in the ground-state,
    otherwise yambo returns error

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@1884 76a4dfbf-5f1f-0410-a543-a0282073b526

- Bug in SCALAPACK m4 fixed. It was freezing the configure. [Andrea
  Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@1883 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Claudio Attaccalite]

  *  real_time/RT_start_and_restart.F real_time/RT_driver.F sc/V_real_space_to_H.F modules/mod_SC.F

  Bugs:
   -[RT] Different bugs in real-time dynamics fixed


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@1881 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Claudio Attaccalite]

  *  interface/barriers.F

  Bugs:
   -Fixed wrong barrier (Davide)


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@1878 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Claudio Attaccalite]

  *  modules/.objects_gpl bse/.objects_gpl common/.objects_gpl wf_and_fft/.objects_gpl ypp/.objects_gpl ypp/mod_YPP.F

  Bugs:
   -Fixed GPL compilation


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@1874 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Claudio Attaccalite]

  *  io/ioDB1.F ypp/electrons_bands.F

  Additions:
   -Bands interpolation works also with spin

  Changes:
   -Yambo stops if wave-function databases are older than version 3.2.2


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@1873 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  configure communicate/REPORT_Occupations.F common/.objects common/OCCUPATIONS_Gaps.F common/OCCUPATIONS_Fermi.F common/OCCUPATIONS_Extend.F modules/mod_interfaces.F modules/.objects modules/mod_electrons.F qp_ctl/OCCUPATIONS_IO_and_interpolate.F include/version.inc config/configure.ac

  Bugs:
  -
  Additions:
  -
  Changes:
  - Report occupations reorganized following the structure created by Andrea in his branch

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@1868 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  configure modules/mod_com.F parser/Gclose.F config/configure.ac include/version.inc

  Bugs:
  -
  Additions:
  -
  Changes:
  - In case cutoff-variables in the input file are provided in energy units but
    initialization has not yet been performed error message is called. This avoids that
    the parser interprets the numbers in the input as beeing in RL units

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@1867 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  config/configure.ac configure tddft/tddft_alda_r_space.F include/version.inc

  Bugs:
  - Fixed bug introduced inserting WF_apply_symm in tddft_alda_r_space.
    The code however is still slower than before.
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@1858 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  include/version.inc config/configure.ac configure io/ioKB_PP.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - Restored compatibility with old DBs for [r,Vnl] commutator

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@1855 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  p2y/qexml_v4.0.F

  Bugs:
  - Restored line erroneously removed in the previous commit
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@1853 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  config/configure.ac configure p2y/qexml_v4.0.F include/version.inc

  Bugs:
  -
  Additions:
  -
  Changes:
  - In UPF V2.0 norm-conserving psp cab be classified as "NC", "SL" and "NL"
    All these are ok for yambo

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@1852 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  setup/QP_state_table_setup.F xc_functionals/el_magnetization.F xc_functionals/el_density.F wf_and_fft/WF_load.F wf_and_fft/WF_apply_symm.F pol_function/Dipole_transverse.F pol_function/X_eh_setup.F pol_function/Dipole_dip_dot_field.F io/ioKB_PP.F modules/mod_electrons.F bse/K_scattering.F bse/K_eh_setup.F qp/XCo_local.F qp_ctl/mod_QP_CTL.F ypp/electrons_driver.F ypp/excitons_non_collinear.F ypp/ypp_init_load.F ypp/excitons_driver.F ypp/excitons_sort_and_report.F ypp/ypp_init.F include/version.inc config/configure.ac configure p2y/mod_p2y.F a2y/a2y_db1.F a2y/a2y_wf.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - "GPL EXCLUDE/INCLUDE SPIN" flags removed
  - WF_apply_symm used to properly rotate WFs in excitons_driver and excitons_non_collinear

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@1850 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  configure common/eval_G_minus_G.F setup/setup.F interface/barriers.F config/configure.ac include/version.inc

  Bugs:
  - bug introduced in eval_G_m_G merging from my branch
  Additions:
  -
  Changes:
  - fixed barriers for spin

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@1847 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  configure wf_and_fft/WF_apply_symm.F wf_and_fft/scatter_Bamp.F wf_and_fft/.objects tddft/tddft_alda_r_space.F bse/K_scattering.F config/configure.ac include/version.inc

  Bugs:
  -
  Additions:
  -
  Changes:
  - WF_apply_symm.F inserted in the trunk (from my branch) in order to make
    scatter_Bamp and K_scattering work with n_spinor=2 case
    Implementation also prepared for tddft_alda_r_space

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@1846 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  include/version.inc config/configure.ac configure bz_ops/bz_samp_indexes.F common/eval_G_minus_G.F common/G_rot_grid.F common/.objects common/ig_index.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - unified code for bz_samp_indexes.F and eval_G_minus_G.F using ig_index function
  - common/G_rot_grid.F for the case is is not the inversion

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@1845 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Claudio Attaccalite]

  *  setup/G_shells_finder.F

  Bugs:
   -Fixed bug reading ndb.grot: nsym_db undefined if one reads only the second section


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@1840 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  configure communicate/REPORT_Occupations.F common/OCCUPATIONS_Fermi.F config/configure.ac include/version.inc

  Bugs:
  - REPORT_Occupations works also in case n_sp_pol=2 with zero electrons in
    one of the two spin channels
  Additions:
  -
  Changes:
  - REPORT_Occupations correctly reports if the system is a metals, an half-metals or a
    magnetic semi-conductors. This replaces the old message "merged spin-levels are metallic".
  - Instead of the average occupations of the metallic system, the total number of metallic electrons,
    which is easier to understand, is reported.

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@1821 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Andrea Marini]

  *  configure include/version.inc config/configure.ac lib/libxc/configure lib/libxc/config.h.in qp_ctl/QP_merge_DBs.F

  Bugs:
  - Bug fixed in QP_merge_DBs.F was not properly allocating the Green's functions loaded from a user-defined
    Database.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@1819 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  config/configure.ac ypp/fix_WFs_Gshells.F include/version.inc a2y/a2y_db1.F configure common/find_G_rot.F common/eval_G_minus_G.F + common/.objects setup/eval_minus_G.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - find_G_rot renamed G_rot_grid
  - G_rot_grid may not found g_rot in case neither inversion symmetry nor time reversal are present
    Error message removed

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@1815 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  config/configure.ac configure common/find_G_rot.F include/version.inc

  Bugs:
  - extend_grid and set_table were not initialized in find_G_rot
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@1813 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  config/configure.ac configure p2y/qexml_v4.0.F p2y/qexml_v3.2.F include/version.inc

  Bugs:
  - [p2y] TIME_REVERSAL_FLAG is present in pwscf-4.3.2 . It is not present before
          qexml fixed
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@1812 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  a2y/a2y_db1.F setup/G_shells_finder.F setup/eval_minus_G.F common/find_G_rot.F common/eval_G_minus_G.F common/.objects modules/std_presets.F ypp/fix_WFs_Gshells.F include/version.inc config/configure.ac configure

  Bugs:
  -
  Additions:
  -
  Changes:
  - search for g_rot(ig) now is done within the shells not within the whole g-vectors space.
    Expecially for nanostructures where ng_vec> 100.000 while all(ng_in_shell(:))< 100 the code is much
    faster (i.e. few secs against ~1h or more). Interested subroutines are:
    * a2y_db1.F (closire of G space against inversion)
    * eval_minus_G.F
    * eval_G_minus_G.F
    * fix_WFs_Gshells.F (when symmetries are increased, experimental)
  - when inv_index<0 minus_G table is evaluated separately. However the call to ioGROT with the line command
    "if(inv_index<0)" is done in the init subroutine when inv_index is not yet defined. Thus
    after the setup in case inv_index<0 G_shells_finder must read again the ioGROT file, section 2

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@1811 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  include/version.inc configure bse/K_Haydock.F config/configure.ac

  Bugs:
  -
  Additions:
  -
  Changes:
  - When the full BSE is solved with Haydock beyond the TDA BSS_rhoq0(2*BS_K_dim)
    and Vn(BS_K_dim) have different dimensions.
    Thus the line dot_product(BSS_rhoq0,Vn) gave error using gfrotran compiled with tho bounds check flag
    and has been replaced by dot_product(BSS_rhoq0(:BS_K_dim),Vn)

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@1799 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  configure io/Fragments_Restart.F include/version.inc config/configure.ac

  Bugs:
  -
  Additions:
  -
  Changes:
  - Correctly print 4 number code revision in io/Fragments_Restart.F

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@1797 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  include/version.inc p2y/qexml_v3.1.F p2y/mod_p2y.F p2y/qexml_v3.2.F configure config/configure.ac

  Bugs:
  -
  Additions:
  -
  Changes:
  - [p2y] Restored compatibility with PWscf DBs older than 4.0 for Trev varables

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@1790 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  configure config/configure.ac include/version.inc int_modules/mod_com2y.F

  Bugs:
  - [p2y] magnetic symemtries in the pwscf DB do not include the Trev symmetry,
          while symmetries in the yambo DB do. Thus I need a minus in the interface
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@1788 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  configure p2y/qexml_v4.0.F p2y/mod_pw_data.F p2y/mod_p2y.F int_modules/mod_com2y.F include/version.inc config/configure.ac

  Bugs:
  - p2y for systems with SO did not work properly in case nsym=1
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@1783 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  configure setup/check_periodic_directions.F include/version.inc config/configure.ac

  Bugs:
  -
  Additions:
  -
  Changes:
  - in check_periodic_directions.F 0D systems (i.e. isolated systems) where
    associated with the logical l_3D, 1D systems with logical l_2D, and
    2D systems with logical l_1D. The names of the logicals have been fixed.

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@1762 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  configure a2y/a2y_db1.F include/version.inc config/configure.ac

  Bugs:
  -
  Additions:
  -
  Changes:
  - [a2y] Improved closing shell algorithm

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@1760 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  config/configure.ac configure p2y/Vnl_driver.F p2y/pw_pseudo_module.F p2y/qexml_v4.0.F p2y/pw_pseudovelocity_module.F a2y/a2y_db1.F include/version.inc

  Bugs:
  -
  Additions:
  -
  Changes:
  - [p2y] the commutator is computed also in case of calculations with
    SO where not all pseudo-potentials are fully-relativistic

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@1757 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  ypp/ypp_init.F ypp/fix_symmetries.F include/version.inc config/configure.ac configure int_modules/mod_com2y.F p2y/mod_p2y.F a2y/a2y_db1.F e2y/e2y_db1.F modules/mod_electrons.F modules/std_presets.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - a2y now correctly works with a new patched version of abinit also in the case of non magnetic systems

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@1752 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  configure wf_and_fft/scatter_Bamp.F config/configure.ac include/version.inc

  Bugs:
  - scatter_Bamp.F: fixed a bug I had introduced merging a commit from Andrea with
                    the changes I've done in scatter_Bamp to properly run with
                    spin_sop. (Thanks Claudio)
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@1749 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Andrea Marini]

  *  include/version.inc config/configure.ac lib/libxc/aclocal.m4 lib/libxc/configure lib/libxc/Makefile.in lib/libxc/Makefile.in lib/libxc/testsuite/Makefile.in lib/libxc/build/Makefile.in lib/libxc/config.h.in qp/ELPH_Sigma_c.F coulomb/rim_spherical.F io/ioQP.F configure

  Bugs:
  - ELPH_Sigma_c.F: wrong call to rim_spherical fixed.

  Changes:
  - libxc configure-related files.
  - Changed reference energy to shift the E(k+q) energies passed to Yambo by PWscf in an el-ph calculation.

  Patch sent by: Andrea


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@1743 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Claudio Attaccalite]

  *  ypp/electrons_driver.F ypp/ypp_init.F

  Changes:
   -Small change in bands plot input


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@1741 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Claudio Attaccalite]

  *  a2y/a2y_db1.F

  Bugs:
   -Fixed GPL



  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@1738 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Claudio Attaccalite]

  *  modules/.objects_gpl interpolate/.objects interpolate/.objects_gpl ypp/.objects_gpl a2y/a2y_db1.F

  Bugs:
   -Fixed GPL compilation



  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@1736 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  include/version.inc a2y/a2y_db1.F config/configure.ac configure

  Bugs:
  - [a2y] bug in a2y for spinorial calculations. ng_vec was not defined correctly
  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@1729 76a4dfbf-5f1f-0410-a543-a0282073b526

- BUG in ypp/fix_PPs.F fixed. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@1726 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  configure include/version.inc a2y/a2y_db1.F config/configure.ac ypp/fix_WFs_and_E.F ypp/fix_PPs.F ypp/symmetries_driver.F ypp/fix_WFs_Gshells.F ypp/fix_symmetries.F

  Bugs:
  -
  Additions:
  -
  Changes:
  - [ypp] imlpementation to add symmetries moved from my branch to trunk
  - [a2y] G-shells closed only when either t-rev or space-inv are present

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@1721 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  configure include/version.inc config/configure.ac ypp/fix_WFs_and_E.F ypp/fix_symmetries.F

  Bugs:
  - Fixed small bug in the new fix_symmetries version

  Additions:
  -
  Changes:
  -
  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@1713 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  config/configure.ac configure include/version.inc

  Bugs:
  -
  Additions:
  -
  Changes:
  - removed old subroutine RT_fix_symmetries.F

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@1710 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  config/configure.ac io/io_Vnl.F modules/mod_D_lattice.F wf_and_fft/WF_load.F wf_and_fft/scatter_Bamp.F + setup/setup.F setup/.objects ypp/ypp_init.F ypp/build_kpts_map.F ypp/RT_driver.F ypp/fix_SC_DBs.F ypp/mod_YPP.F ypp/ypp_init_load.F ypp/fix_WFs_and_E.F ypp/fix_symmetries.F ypp/fix_PPs.F ypp/symmetries_driver.F ypp/RT_fix_symmetries.F ypp/RT_build_spin_sop.F ypp/ypp_i.F ypp/.objects ypp/fix_WFs_Gshells.F driver/ypp.h configure include/version.inc

  Bugs:
  -
  Additions:
  -
  Changes:
  -

  Patch sent by: Davide


  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@1709 76a4dfbf-5f1f-0410-a543-a0282073b526

- Global year update in Copyright headers in: trunk, devel-andrea and
  devel-openmp. [Andrea Marini]

  git-svn-id: svn+ssh://qeforge.qe-forge.org/svnroot/yambo-devel/trunk@1691 76a4dfbf-5f1f-0410-a543-a0282073b526

- Version 3.2.5. [Davide Sangalli]

  *  configure include/version.inc config/configure.ac ypp/electrons_dos_and_charge.F

  Bugs:
